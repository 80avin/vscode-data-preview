!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["perspective-view-hypergrid"]=t():e["perspective-view-hypergrid"]=t()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=87)}([function(e,t,n){"use strict";var i=n(3).extend("Feature",{next:null,detached:null,cursor:null,currentHoverCell:null,setNext:function(e){this.next?this.next.setNext(e):(this.next=e,this.detached=e)},detachChain:function(){this.next=null},attachChain:function(){this.next=this.detached},handleMouseMove:function(e,t){this.next&&this.next.handleMouseMove(e,t)},handleMouseExit:function(e,t){this.next&&this.next.handleMouseExit(e,t)},handleMouseEnter:function(e,t){this.next&&this.next.handleMouseEnter(e,t)},handleMouseDown:function(e,t){this.next&&this.next.handleMouseDown(e,t)},handleMouseUp:function(e,t){this.next&&this.next.handleMouseUp(e,t)},handleKeyDown:function(e,t){if(!this.next)return!0;this.next.handleKeyDown(e,t)},handleKeyUp:function(e,t){this.next&&this.next.handleKeyUp(e,t)},handleWheelMoved:function(e,t){this.next&&this.next.handleWheelMoved(e,t)},handleDoubleClick:function(e,t){this.next&&this.next.handleDoubleClick(e,t)},handleClick:function(e,t){this.next&&this.next.handleClick(e,t)},handleMouseDrag:function(e,t){this.next&&this.next.handleMouseDrag(e,t)},handleContextMenu:function(e,t){this.next&&this.next.handleContextMenu(e,t)},moveSingleSelect:function(e,t,n){this.next&&this.next.moveSingleSelect(e,t,n)},isFirstFixedRow:function(e,t){return t.gridCell.y<1},isFirstFixedColumn:function(e,t){return 0===t.gridCell.x},setCursor:function(e){this.next&&this.next.setCursor(e),this.cursor&&e.beCursor(this.cursor)},initializeOn:function(e){this.next&&this.next.initializeOn(e)}});e.exports=i},function(e,t,n){var i=n(20)("wks"),r=n(17),o=n(5).Symbol,s="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=i},function(e,t,n){"use strict";function i(e,t){Object.defineProperty(this,e,{value:t,writable:!1,enumerable:!0,configurable:!1})}function r(e,t){i.call(this,"x",Number(e)||0),i.call(this,"y",Number(t)||0)}function o(e,t,n,o){e=Number(e)||0,t=Number(t)||0,(n=Number(n)||0)<0&&(e+=n,n=-n),(o=Number(o)||0)<0&&(t+=o,o=-o),i.call(this,"origin",new r(e,t)),i.call(this,"extent",new r(n,o)),i.call(this,"corner",new r(e+n,t+o)),i.call(this,"center",new r(e+n/2,t+o/2))}r.prototype={plus:function(e){return new r(this.x+e.x,this.y+e.y)},plusXY:function(e,t){return new r(this.x+(e||0),this.y+(t||0))},minus:function(e){return new r(this.x-e.x,this.y-e.y)},min:function(e){return new r(Math.min(this.x,e.x),Math.min(this.y,e.y))},max:function(e){return new r(Math.max(this.x,e.x),Math.max(this.y,e.y))},distance:function(e){var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){var t=!1;return e&&(t=this.x===e.x&&this.y===e.y),t},greaterThan:function(e){return this.x>e.x&&this.y>e.y},lessThan:function(e){return this.x<e.x&&this.y<e.y},greaterThanOrEqualTo:function(e){return this.x>=e.x&&this.y>=e.y},lessThanOrEqualTo:function(e){return this.x<=e.x&&this.y<=e.y},within:function(e){var t=e.origin.x,n=t+e.extent.x,i=e.origin.y,r=i+e.extent.y;return e.extent.x<0&&(t=n,n=e.origin.x),e.extent.y<0&&(i=r,r=e.origin.y),t<=this.x&&this.x<n&&i<=this.y&&this.y<r}},r.prototype.EQ=r.prototype.equals,r.prototype.GT=r.prototype.greaterThan,r.prototype.LT=r.prototype.lessThan,r.prototype.GE=r.prototype.greaterThanOrEqualTo,r.prototype.LE=r.prototype.lessThanOrEqualTo,o.prototype={get top(){return this.origin.y},get left(){return this.origin.x},get bottom(){return this.corner.y},get right(){return this.corner.x},get width(){return this.extent.x},get height(){return this.extent.y},get area(){return this.width*this.height},flattenXAt:function(e){return new o(e,this.origin.y,0,this.extent.y)},flattenYAt:function(e){return new o(this.origin.x,e,this.extent.x,0)},contains:function(e){return e.within(this)},within:function(e){return e.origin.lessThanOrEqualTo(this.origin)&&e.corner.greaterThanOrEqualTo(this.corner)},growBy:function(e){return new o(this.origin.x+e,this.origin.y+e,this.extent.x-e-e,this.extent.y-e-e)},shrinkBy:function(e){return this.growBy(-e)},union:function(e){var t=this.origin.min(e.origin),n=this.corner.max(e.corner).minus(t);return new o(t.x,t.y,n.x,n.y)},forEach:function(e,t){t=t||this;for(var n=this.origin.x,i=this.corner.x;n<i;n++)for(var r=this.origin.y,o=this.corner.y;r<o;r++)e.call(t,n,r)},intersect:function(e,t,n){var i=null,r=this.origin.max(e.origin),s=this.corner.min(e.corner).minus(r);return s.x>0&&s.y>0?i=new o(r.x,r.y,s.x,s.y):"function"==typeof t&&(i=t.call(n||this,e)),i},intersects:function(e){return e.corner.x>this.origin.x&&e.corner.y>this.origin.y&&e.origin.x<this.corner.x&&e.origin.y<this.corner.y}},t.Point=r,t.Rectangle=o},function(e,t,n){"use strict";var i=n(44).Base;Object.defineProperty(i.prototype,"version",{enumerable:!0,writable:!1,configurable:!1,value:n(66).version}),i.prototype.versionAtLeast=function(e){var t=e.split(".").map(Number),n=this.version.split(".").map(function(e,n){return Number(e)-t[n]});return n[0]>0||0===n[0]&&(n[1]>0||0===n[1]&&n[2]>=0)},i.prototype.deprecated=n(111),i.prototype.HypergridError=n(18),i.prototype.notify=function(e,t){switch(t){case"warn":console.warn(e);break;case"alert":alert(e);break;default:throw new this.HypergridError(e)}},i.prototype.unwrap=function(e){return"f"===(typeof e)[0]&&(e=e()),e},i.prototype.mixIn=n(30).mixIn,i.prototype.createApply=function(e,t,n){var i=Array.prototype.slice.call(arguments,2),r=[null].concat(i).concat(t);return new(e.bind.apply(e,r))},e.exports=i},function(e,t,n){"use strict";var i=n(3).extend("CellRenderer",{paint:function(e,t){},roundRect:function(e,t,n,i,r,o,s,a){a||(a=!0),o||(o=5),e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.quadraticCurveTo(t+i,n,t+i,n+o),e.lineTo(t+i,n+r-o),e.quadraticCurveTo(t+i,n+r,t+i-o,n+r),e.lineTo(t+o,n+r),e.quadraticCurveTo(t,n+r,t,n+r-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),a&&e.stroke(),s&&e.fill(),e.closePath()}});e.exports=i},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(10),r=n(23);e.exports=n(9)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(13);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(6)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(8),r=n(55),o=n(35),s=Object.defineProperty;t.f=n(9)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var i=n(3),r=n(132),o=n(47),s=i.extend("CellEditor",{initialize:function(e,t){for(var n in t)this[n]=t[n];this.event=t;var i=this.event.value;i instanceof Array&&(i=i[1]),this.grid=e,this.grid.cellEditor=this,this.locale=e.localization.locale;var r=this.grid.localization.get(t.format);r!==o.prototype.string&&"string"!==t.format&&(this.localizer=r),this.initialValue=i;var s=document.createElement("DIV");s.innerHTML=this.grid.modules.templater.render(this.template,this),this.el=s.firstChild,this.input=this.el,this.errors=0;var a=this;this.el.addEventListener("keyup",this.keyup.bind(this)),this.el.addEventListener("keydown",function(t){9===t.keyCode&&t.preventDefault(),e.fireSyntheticEditorKeyDownEvent(a,t)}),this.el.addEventListener("keypress",function(t){e.fireSyntheticEditorKeyPressEvent(a,t)}),this.el.addEventListener("mousedown",function(e){a.onmousedown(e)})},onmousedown:function(e){e.stopPropagation()},localizer:o.prototype.null,specialKeyups:{9:"stopEditing",13:"stopEditing",27:"cancelEditing"},keyup:function(e){var t,n,i=this.grid,r=this.event.properties,o=r.feedbackCount,s=i.canvas.getKeyChar(e);if((t=this.specialKeyups[e.keyCode])&&(n=this[t](o))&&i.repaint(),r.mappedNavKey(s,e.ctrlKey)&&(!t&&(n=this.stopEditing(o))&&i.repaint(),n)){var a=i.canvas.newEvent(e,"fin-editor-keydown",{grid:i,alt:e.altKey,ctrl:e.ctrlKey,char:s,legacyChar:e.legacyKey,code:e.charCode,key:e.keyCode,meta:e.metaKey,shift:e.shiftKey,identifier:e.key,editor:this});i.delegateKeyDown(a)}return this.grid.fireSyntheticEditorKeyUpEvent(this,e),n},checkEditorPositionFlag:!1,gridRenderedNotification:function(){this.checkEditor()},scrollValueChangedNotification:function(){this.checkEditorPositionFlag=!0},moveEditor:function(){this.setBounds(this.event.bounds)},beginEditing:function(){this.grid.fireRequestCellEdit(this.event,this.initialValue)&&(this.checkEditorPositionFlag=!0,this.checkEditor())},setEditorValue:function(e){this.input.value=this.localizer.format(e)},showEditor:function(){this.el.style.display="inline"},hideEditor:function(){this.el.style.display="none"},stopEditing:function(e){var t=this.input.value;try{var n=this.validateEditorValue(t);if(!n)var i=this.getEditorValue(t)}catch(e){n=e}if(!n&&this.grid.fireSyntheticEditorDataChangeEvent(this,this.initialValue,i))try{this.saveEditorValue(i)}catch(e){n=e}return n?e>=0?this.errorEffectBegin(++this.errors%e==0&&n):this.cancelEditing():(this.hideEditor(),this.grid.cellEditor=null,this.el.remove()),!n},cancelEditing:function(){return this.setEditorValue(this.initialValue),this.hideEditor(),this.grid.cellEditor=null,this.el.remove(),this.grid.takeFocus(),!0},errorEffectBegin:function(e){if(!this.effecting){var t=this.grid.properties.feedbackEffect,n=r[t.name||t];if(n){var i=Object.assign({},t.options);i.callback=this.errorEffectEnd.bind(this,e),this.effecting=!0,n.call(this,i)}}},errorEffectEnd:function(e,t){if(e){var n='Invalid value. To resolve, do one of the following:\n\n   * Correct the error and try again.\n         - or -\n   * Cancel editing by pressing the "esc" (escape) key.';"string"!=typeof(e=e.message||e)&&(e=""),this.localizer.expectation&&(e=e?e+"\n"+this.localizer.expectation:this.localizer.expectation),e&&(/[\n\r]/.test(e)&&(e=(e="\n"+e).replace(/[\n\r]+/g,"\n\n   * ")),n+="\n\nAdditional information about this error: "+e),setTimeout(function(){alert(n)})}this.effecting=!1},saveEditorValue:function(e){var t=!(e&&e===this.initialValue)&&this.grid.fireBeforeCellEdit(this.event.gridCell,this.initialValue,e,this);return t&&(this.event.value=e,this.grid.fireAfterCellEdit(this.event.gridCell,this.initialValue,e,this)),t},getEditorValue:function(e){return this.localizer.parse(e||this.input.value)},validateEditorValue:function(e){return this.localizer.invalid&&this.localizer.invalid(e||this.input.value)},takeFocus:function(){var e=this.el,t=e.style.left,n=e.style.top;e.style.left=e.style.top=0;var i=window.scrollX,r=window.scrollY;this.input.focus(),window.scrollTo(i,r),this.selectAll(),e.style.left=t,e.style.top=n},selectAll:function(){},setBounds:function(e){var t=this.el.style;t.left=a(e.x),t.top=a(e.y),t.width=a(e.width),t.height=a(e.height)},checkEditor:function(){this.checkEditorPositionFlag&&(this.checkEditorPositionFlag=!1,this.event.isCellVisible?(this.setEditorValue(this.initialValue),this.attachEditor(),this.moveEditor(),this.showEditor(),this.takeFocus()):this.hideEditor())},attachEditor:function(){this.grid.div.appendChild(this.el)},template:""});function a(e){return e+"px"}e.exports=s},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(91),r=n(25);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(5),r=n(7),o=n(11),s=n(17)("src"),a=n(93),l=(""+a).split("toString");n(21).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(u&&(o(n,s)||r(n,s,e[t]?""+e[t]:l.join(String(t)))),e===i?e[t]=n:a?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},function(e,t,n){for(var i=n(88),r=n(27),o=n(15),s=n(5),a=n(7),l=n(36),u=n(1),c=u("iterator"),h=u("toStringTag"),d=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=r(f),p=0;p<g.length;p++){var v,m=g[p],y=f[m],b=s[m],w=b&&b.prototype;if(w&&(w[c]||a(w,c,d),w[h]||a(w,h,m),l[m]=d,y))for(v in i)w[v]||o(w,v,i[v],!0)}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){"use strict";function i(e){this.message=e}i.prototype=Object.create(Error.prototype),i.prototype.name="HypergridError",e.exports=i},function(e,t,n){"use strict";var i=n(29),r=n(115),o=n(116);i(o).each(function(e,t){var n=new Image;n.src="data:"+e.type+";base64,"+e.data,o[t]=n}),o["checkbox-on"]=o.checked,o["checkbox-off"]=o.unchecked,Object.defineProperties(o,{add:{value:function(e,t,n,i,r){return/^data:image\/svg\+xml|\.svg/.test(t.src)&&(t.themeable=!!n,"object"==typeof i&&(r=i,i=void 0),i&&(t.setSvgProps=i),r&&(t.themeableRules=function(e,t,n,i){var r=document.querySelector("style#injected-stylesheet-themeables");r||((r=document.createElement("style")).id="injected-stylesheet-themeables",document.head.appendChild(r));var o=r.sheet;return(i.length?i:["background-image"]).reduce(function(i,r){var s=".hypergrid-"+r+"-"+e,a=Array.prototype.findIndex.call(o.cssRules,function(e){return e.selectorText===s});-1!==a&&o.deleteRule(a);var l={};l[r]="url("+t.src+")",t.width&&(l.width=t.width+"px"),t.height&&(l.height=t.height+"px");var u=Object.keys(l).map(function(e){return e+":"+l[e]}).join(";"),c="{"+u+"}";o.insertRule(s+c);var h={rule:o.cssRules[0]};return n&&(h.setSvgProps=n),i.push(h),i},[])}(e,t,i,r))),o[e]=t}},setTheme:{value:function(e){Object.keys(o).forEach(function(t){var n=o[t];n.themeable&&r.setImgSvgProps.call(n,e,n.setSvgProps),n.themeableRules&&n.themeableRules.forEach(function(t){var i=t.rule.selectorText,o=new RegExp("^.hypergrid-("+r.cssImagePropertyNames.join("|")+")-.*$"),s=i.replace(o,"$1");r.setRuleSvgProps.call(t.rule,e,n.setSvgProps,s)})})}},checkbox:{value:function(e){return o[e?"checked":"unchecked"]}},filter:{value:function(e){return o[e?"filter-on":"filter-off"]}}}),e.exports=o},function(e,t,n){var i=n(21),r=n(5),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(22)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=e.exports={version:"2.6.8"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=!1},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(5),r=n(21),o=n(7),s=n(15),a=n(94),l=function(e,t,n){var u,c,h,d,f=e&l.F,g=e&l.G,p=e&l.S,v=e&l.P,m=e&l.B,y=g?i:p?i[t]||(i[t]={}):(i[t]||{}).prototype,b=g?r:r[t]||(r[t]={}),w=b.prototype||(b.prototype={});for(u in g&&(n=t),n)h=((c=!f&&y&&void 0!==y[u])?y:n)[u],d=m&&c?a(h,i):v&&"function"==typeof h?a(Function.call,h):h,y&&s(y,u,h,e&l.U),b[u]!=h&&o(b,u,d),v&&w[u]!=h&&(w[u]=h)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var i=n(58),r=n(40);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(e,t,n,i){var r=t&&t.prototype instanceof p?t:p,o=Object.create(r.prototype),s=new _(i||[]);return o._invoke=function(e,t,n){var i=c;return function(r,o){if(i===d)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw o;return M()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=R(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===c)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var l=u(e,t,n);if("normal"===l.type){if(i=n.done?f:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=f,n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c="suspendedStart",h="suspendedYield",d="executing",f="completed",g={};function p(){}function v(){}function m(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==n&&i.call(w,o)&&(y=w);var C=m.prototype=p.prototype=Object.create(y);function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,s){var a=u(e[n],e,r);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,s)},function(e){t("throw",e,o,s)}):Promise.resolve(c).then(function(e){l.value=e,o(l)},function(e){return t("throw",e,o,s)})}s(a.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function R(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=u(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:M}}function M(){return{value:t,done:!0}}return v.prototype=C.constructor=m,m.constructor=v,m[a]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},x(S.prototype),S.prototype[s]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,i,r){var o=new S(l(t,n,i,r));return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},x(C),C[a]="Generator",C[o]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=k,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return a.type="throw",a.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:k(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=i}catch(e){Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){"use strict";function i(e){return e instanceof i?e:this instanceof i?(this.originalValue=e,void(this.o=e||{})):new i(e)}i.chain=function(e){var t=i(e);return t.chaining=!0,t},i.prototype={value:function(){return this.originalValue},each:function(e,t){var n=this.o;return Object.keys(n).forEach(function(t){e.call(this,n[t],t,n)},t||n),this},find:function(e,t){var n,i=this.o;return i&&void 0!==(n=Object.keys(i).find(function(t){return e.call(this,i[t],t,i)},t||i))&&(n=i[n]),n},filter:function(e,t){var n=this.o,i=[];return n&&Object.keys(n).forEach(function(t){e.call(this,n[t],t,n)&&i.push(n[t])},t||n),i},map:function(e,t){var n=this.o,i=[];return n&&Object.keys(n).forEach(function(t){i.push(e.call(this,n[t],t,n))},t||n),i},reduce:function(e,t,n){var i=this.o;return i&&Object.keys(i).forEach(function(n,r){t=r||void 0!==t?e(t,i[n],n,i):i[n]},n||i),t},extend:function(e){var t=this.o;return Array.prototype.slice.call(arguments).forEach(function(e){if(e)for(var n in e)t[n]=e[n]}),this.chaining?this:t},extendOwn:function(e){var t=this.o;return Array.prototype.slice.call(arguments).forEach(function(e){i(e).each(function(e,n){t[n]=e})}),this.chaining?this:t}},Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;o<i;o++)if(t=n[o],e.call(r,t,o,n))return t}),e.exports=i},function(e,t,n){"use strict";function i(e,t){for(var n=1;n<arguments.length;++n)r.call(e,arguments[n]);return e}function r(e){var t;for(var n in e)(t=Object.getOwnPropertyDescriptor(e,n))&&Object.defineProperty(this,n,t);return this}i.mixInTo=function(e){var t;for(var n in this)(t=Object.getOwnPropertyDescriptor(this,n))&&Object.defineProperty(e,n,t);return e},i.mixIn=r,e.exports=i},function(e,t,n){"use strict";var i=n(2).Point,r=n(3),o=n(123),s=n(127),a=n(128),l=n(129),u=n(32),c=n(48),h=n(50),d=["columnHeader","columnHeaderColumnSelection","filterProperties","rowHeader","rowHeaderRowSelection","rowNumbersProperties","treeColumnProperties","treeColumnPropertiesColumnSelection"],f=r.extend("Behavior",{initialize:function(e,t){this.grid=e,this.initializeFeatureChain(),this.grid.behavior=this,this.reset(t)},initializeFeatureChain:function(e){var t;if(this.featureChain=void 0,this.featureMap={},this.featureRegistry=this.featureRegistry||l,this.grid.properties.features){var n=this.featureRegistry.get.bind(this.featureRegistry);t=this.grid.properties.features.map(n)}else this.features&&(t=this.features,function(){var e=[],t=[],n=0;if(this.features.forEach(function(i){var r=i.prototype.$$CLASS_NAME||i.name,o=r||"feature"+n++;if(e.push(o),!this.featureRegistry.get(o,!0)){var s=i.name||i.prototype.$$CLASS_NAME||"FeatureConstructor"+n,a=[];r||a.push("'"+o+"'"),a.push(s),t.push(a.join(", "))}},this),e.length){var i="Hypergrid.defaults.features = [\n"+g("\t'",e,"',\n")+"];";t.length&&(i+="\n\nThe following custom features are unregistered and will need to be registered prior to behavior instantiation:\n\n"+g("Features.add(",t,");\n")),n&&(i+="\n\n(You should provide meaningful names for your custom features rather than the generated names above.)"),console.warn("`grid.behavior.features` (array of feature constructors) has been deprecated as of version 2.1.0 in favor of `grid.properties.features` (array of feature names). Remove `features` array from your behavior and add `features` property to your grid state object (or Hypergrid.defaults), e.g.:\n\n"+i)}}.call(this));t.forEach(function(e,t){var n=new e;this.featureMap[n.$$CLASS_NAME]=n,t?this.featureChain.setNext(n):this.featureChain=n},this),this.featureChain&&this.featureChain.initializeOn(this.grid)},features:[],reset:function(e){var t=this.resetDataModel(e);t&&(this.CellEvent=s(this.grid)),this.scrollPositionX=this.scrollPositionY=0,this.rowPropertiesPrototype=Object.create(this.grid.properties,n(73).rowPropertiesPrototypeDescriptors),this.clearColumns(),this.createColumns(),this.subgrids=e&&e.subgrids||!t&&this.subgrids||this.grid.properties.subgrids,this.setData(e)},setHeaders:function(e){if(e instanceof Array){var t=this.allColumns;e.forEach(function(e,n){t[n].header=e})}else"object"==typeof e&&this.allColumns.forEach(function(t){e[t.name]&&(t.header=e[t.name])})},setData:function(e,t){if(Array.isArray(e)||"function"==typeof e||(e=(t=e)&&t.data),void 0!==(e=this.unwrap(e))){if(!Array.isArray(e))throw"Expected data to be an array (of data row objects).";t=t||{};var n=this.unwrap(t.schema);this.subgrids.forEach(function(t){t.setData(e,n)}),this.grid.cellEditor&&this.grid.cellEditor.cancelEditing(),(t.apply||void 0===t.apply)&&this.reindex(),this.grid.allowEvents(this.getRowCount())}},get renderedColumnCount(){return this.grid.renderer.visibleColumns.length},get renderedRowCount(){return this.grid.renderer.visibleRows.length},get leftMostColIndex(){return this.grid.properties.showRowNumbers?this.rowColumnIndex:this.hasTreeColumn()?this.treeColumnIndex:0},clearColumns:function(){var e=this.schema,t=this.treeColumnIndex,n=this.rowColumnIndex;this.columnsCreated=!1,e[t]=e[t]||{},e[t].index=t,void 0===e[t].name&&(e[t].name=this.treeColumnNameDefault),void 0===e[t].header&&(e[t].header=this.treeColumnHeaderDefault),e[n]=e[n]||{},e[n].index=n,void 0===e[n].name&&(e[n].name=this.rowColumnNameDefault),void 0===e[n].header&&(e[n].header=""),this.columns=this.grid.decorateColumnArray(),this.allColumns=this.grid.decorateColumnArray(),this.allColumns[t]=this.columns[t]=this.newColumn(e[t]),this.allColumns[n]=this.columns[n]=this.newColumn(e[n]),this.columns[t].properties.propClassLayers=this.columns[n].properties.propClassLayers=this.grid.properties.propClassLayersMap.NO_ROWS,this.grid.renderer.resetRowHeaderColumnWidth()},getActiveColumn:function(e){return this.columns[e]},getActiveColumnIndex:function(e){var t=e instanceof o?e.index:e,n="number"==typeof index?"index":"name";return this.columns.findIndex(function(e){return e[n]===t})},getColumn:function(e){return this.allColumns[e]},newColumn:function(e){return new o(this,e)},addColumn:function(e){var t=this.newColumn(e),n=new u,i=n.getSynonyms(t.name);return this.columns.push(t),n.decorateObject(this.columns,i,t),this.allColumns.push(t),n.decorateObject(this.allColumns,i,t),t},createColumns:function(e){var t=this.dataModel.getSchema();a.normalizeSchema(t),a.decorateSchema(t),a.decorateColumnSchema(t,this.grid.properties.headerify),this.createDataRowProxy(),this.clearColumns(),e&&e.call(this),this.columnsCreated=!0,this.changed(),h.call(this.grid,"fin-hypergrid-columns-created")},createDataRowProxy:function(){},getColumnWidth:function(e){var t=(e!==this.treeColumnIndex||this.hasTreeColumn())&&this.getActiveColumn(e);return t?t.getWidth():0},setColumnWidth:function(e,t){(e>=-2?this.getActiveColumn(e):e).setWidth(t),this.stateChanged()},reindex:function(){this.dataModel.reindex()},clearObjectProperties:function(e,t){for(var n in e)e.hasOwnProperty(n)&&(void 0===t||!t&&d.indexOf(n)>=0||t&&d.indexOf(n)<0)&&delete e[n]},getState:function(){var e=JSON.parse(JSON.stringify(this.grid.properties));return this.clearObjectProperties(e.columnProperties,!1),e},clearState:function(){this.grid.clearState(),this.createColumns()},setState:function(e){this.addState(e,!0)},addState:function(e,t){t&&this.clearState();var n=this.grid.properties;n.settingState=t,c(n,e),delete n.settingState,this.reindex()},setAllColumnProperties:function(e){this.addAllColumnProperties(e,!0)},addAllColumnProperties:function(e,t){if(e){var n=this.grid.behavior.getColumns();Object.keys(e).forEach(function(i){var r=n[i];r&&r.addProperties(e[i],t)})}},setColumnOrder:function(e){if(Array.isArray(e)){var t=this.columns,n=this.allColumns,i=new u;t.length=0;var r=this.treeColumnIndex.toString(),o=this.rowColumnIndex.toString();Object.keys(t).forEach(function(e){switch(e){case r:case o:break;default:delete t[e]}}),e.forEach(function(e){t.push(n[e])}),i.decorateArray(t)}},setColumnOrderByName:function(e){if(Array.isArray(e)){var t=this.allColumns;this.setColumnOrder(e.map(function(e){return t[e].index}))}},setColumnIndexes:function(e,t){this.grid.properties.columnIndexes=e,t||this.grid.fireSyntheticOnColumnsChangedEvent()},showColumns:function(e,t,n,i){("number"==typeof e||Array.isArray(e))&&(i=n,n=t,t=e,e=!1);var r=this.columns,o=e?r:this.allColumns;"number"==typeof t&&(t=[t]);var s=t.map(function(e){return o[e]}).filter(function(e){return e});"number"!=typeof n&&(i=n,n=r.length),i||s.forEach(function(e){var t=r.indexOf(e);t>=0&&(r.splice(t,1),n>t&&--n)}),n>=0&&r.splice.apply(r,[n,0].concat(s)),this.grid.properties.columnIndexes=r.map(function(e){return e.index})},hideColumns:function(e,t){var n=Array.prototype.slice.call(arguments);n.push(-1),this.showColumns.apply(this,n)},resolveProperty:function(e){return this.grid.resolveProperty(e)},lookupFeature:function(e){return this.featureMap[e]},getFixedColumnsWidth:function(){for(var e,t=this.getFixedColumnCount(),n=0,i=this.leftMostColIndex,r=this.grid.properties,o="border-box"!==r.boxSizing,s=r.gridLinesVWidth;i<t;i++)(e=this.getColumnWidth(i))&&(n+=e,o&&(n+=s));return r.fixedLinesVWidth&&(n+=r.fixedLinesHWidth-s),n},getFixedColumnsMaxWidth:function(){return this.getFixedColumnsWidth()},setCursor:function(e){e.updateCursor(),this.featureChain.setCursor(e)},onMouseMove:function(e,t){this.featureChain&&(this.featureChain.handleMouseMove(e,t),this.setCursor(e))},onClick:function(e,t){this.featureChain&&(this.featureChain.handleClick(e,t),this.setCursor(e))},onContextMenu:function(e,t){this.featureChain&&(this.featureChain.handleContextMenu(e,t),this.setCursor(e))},onWheelMoved:function(e,t){this.featureChain&&(this.featureChain.handleWheelMoved(e,t),this.setCursor(e))},onMouseUp:function(e,t){this.featureChain&&(this.featureChain.handleMouseUp(e,t),this.setCursor(e))},onMouseDrag:function(e,t){this.featureChain&&(this.featureChain.handleMouseDrag(e,t),this.setCursor(e))},onKeyDown:function(e,t){this.featureChain&&(this.featureChain.handleKeyDown(e,t),this.setCursor(e))},onKeyUp:function(e,t){this.featureChain&&(this.featureChain.handleKeyUp(e,t),this.setCursor(e))},onDoubleClick:function(e,t){this.featureChain&&(this.featureChain.handleDoubleClick(e,t),this.setCursor(e))},handleMouseDown:function(e,t){this.featureChain&&(this.featureChain.handleMouseDown(e,t),this.setCursor(e))},handleMouseExit:function(e,t){this.featureChain&&(this.featureChain.handleMouseExit(e,t),this.setCursor(e))},changed:function(){this.grid.behaviorChanged()},shapeChanged:function(){this.grid.behaviorShapeChanged()},stateChanged:function(){this.grid.behaviorStateChanged()},isColumnReorderable:function(){return this.deprecated("isColumnReorderable()","grid.properties.columnsReorderable","2.1.3")},getColumnProperties:function(e){var t=(e!==this.treeColumnIndex||this.hasTreeColumn())&&this.getColumn(e);return t&&t.properties},setColumnProperties:function(e,t){var n=this.getColumn(e);if(!n)throw"Expected column.";var i=Object.assign(n.properties,t);return this.changed(),i},clearAllCellProperties:function(e){var t;for(void 0===e?(e=0,t=this.columns.length):t=e+1;e<t;e++){var n=this.getColumn(e);n&&n.clearAllCellProperties()}},getHiddenColumnDescriptors:function(){for(var e=this.grid.properties.columnIndexes,t=[],n=this.getActiveColumnCount(),i=0;i<n;i++)if(-1===e.indexOf(i)){var r=this.getActiveColumn(i);t.push({id:i,header:r.header,field:r.name})}return t},getFixedColumnCount:function(){return this.grid.properties.fixedColumnCount},setFixedColumnCount:function(e){this.grid.properties.fixedColumnCount=e},getFixedRowCount:function(){return this.getHeaderRowCount()+this.grid.properties.fixedRowCount},setFixedRowCount:function(e){this.grid.properties.fixedRowCount=e},endDragColumnNotification:function(){},getCursorAt:function(e,t){return null},getActiveColumnCount:function(){return this.columns.length},setScrollPositionX:function(e){this.scrollPositionX=e},getScrollPositionX:function(){return this.scrollPositionX},setScrollPositionY:function(e){this.scrollPositionY=e},getScrollPositionY:function(){return this.scrollPositionY},getCellEditorAt:function(e){return e.isDataColumn&&e.column.getCellEditorAt(e)},highlightCellOnHover:function(e,t){return e&&t},set cellPropertiesPrePaintNotification(e){throw new this.HypergridError("cellPropertiesPrePaintNotification has been deprecated as of v3.0.0. Code to inspect or mutate the render config object should be moved to the getCell hook.")},swapColumns:function(e,t){var n=this.columns,i=n[e];n[e]=n[t],n[t]=i,this.changed()},convertViewPointToDataPoint:function(e){return new i(this.getActiveColumn(e.x).index,e.y)},hasTreeColumn:function(e){return!1},getSelectionMatrixFunction:function(e){return function(){return null}},getRowHeaderColumn:function(){return this.allColumns[this.rowColumnIndex]},getTreeColumn:function(){return this.allColumns[this.treeColumnIndex]},autosizeAllColumns:function(){this.checkColumnAutosizing(!0),this.changed()},checkColumnAutosizing:function(e){var t=this.autoSizeRowNumberColumn(e)||this.autoSizeTreeColumn(e);return this.allColumns.findWithNeg(function(n){t=n.checkColumnAutosizing(e)||t}),t},autoSizeRowNumberColumn:function(e){if(this.grid.properties.showRowNumbers&&this.grid.properties.rowNumberAutosizing)return this.getRowHeaderColumn().checkColumnAutosizing(e)},autoSizeTreeColumn:function(e){if(this.grid.properties.showTreeColumn&&this.grid.properties.treeColumnAutosizing)return this.getTreeColumn().checkColumnAutosizing(e)},getColumns:function(){return this.allColumns},getActiveColumns:function(){return this.columns},getHiddenColumns:function(){for(var e=this.columns,t=this.allColumns,n=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&n.push(t[i]);return n.sort(function(e,t){return e.header<t.header}),n},getSelectedRows:function(){return this.grid.selectionModel.getSelectedRows()},getSelectedColumns:function(){return this.grid.selectionModel.getSelectedColumns()},getSelections:function(){return this.grid.selectionModel.getSelections()},getIndexedData:function(){return this.deprecated("getIndexedData()","getData()","3.0.0")}});function g(e,t,n){return e+t.join(n+e)+n}Object.defineProperties(f.prototype,{treeColumnIndex:{value:-1},treeColumnNameDefault:{value:"Tree",writable:!0},treeColumnHeaderDefault:{value:"Tree",writable:!0},rowColumnIndex:{value:-2},rowColumnNameDefault:{value:"RowHeader",writable:!0}}),f.prototype.applyAnalytics=f.prototype.reindex,f.prototype.mixIn(n(73).mixin),f.prototype.mixIn(n(143).mixin),f.prototype.mixIn(n(144).mixin),f.prototype.mixIn(n(145).mixin),e.exports=f},function(e,t,n){"use strict";var i=n(49),r=/^\d+$/,o=["transformations","propPath","dictPath","force"];function s(e){e&&o.forEach(function(t){e[t]&&(this[t]=e[t])},this)}function a(e,t){return t.reduce(function(e,t){return e[t]||(e[t]=Object.create(null))},e)}function l(e){return(e=e?Array.isArray(e)?e.slice():(e+"").split("."):[]).toString=u,e}function u(){return this.join(".")}s.prototype={constructor:s,transformations:["verbatim","toCamelCase"],set propPath(e){this._propPath=l(e)},get propPath(){return this._propPath},_propPath:["name"],set dictPath(e){this._dictPath=l(e)},get dictPath(){return this._dictPath},_dictPath:[],getSynonyms:function(e,t){var n=[];return"string"==typeof e&&e&&(t=t||this.transformations,Array.isArray(t)||(t=Object.keys(t)),t.forEach(function(t){if("function"!=typeof i[t])throw new ReferenceError('Unknown transformer "'+t+'"');var r=i[t](e);""===r||r in n||n.push(r)})),n},decorate:function(e,t,n){var i=a(e,this.dictPath),o=i===e,s=this.force;return t.forEach(function(e){o&&r.test(e)||!s&&e in i||(i[e]=n)}),e},decorateList:function(e,t,n){var r;return"number"==typeof e?r=[t[e]]:(t=r=arguments[0],n=arguments[1]),n=n?l(n):this.propPath,r.forEach(function(e){var r=void 0!==n&&"object"==typeof e?a(e,n):e;if(Array.isArray(this.transformations)){var o=this.getSynonyms(r);this.decorate(t,o,e)}else Object.keys(this.transformations).forEach(function(e,t,n){var r=i[n],o=this.transformations[n],s=Array.isArray(o)?o.slice():o.split("."),l=s.splice(s.length-1,1)[0],u=a(e,s);!this.force&&l in u||(u[l]=r(t))}.bind(this,e,r))},this),t}},s.prototype.decorateObject=s.prototype.decorate,s.prototype.decorateArray=s.prototype.decorateList,e.exports=s},function(e,t,n){"use strict";var i=n(3).extend("Registry",{initialize:function(){this.items=Object.create(null)},add:function(e,t){if(1===arguments.length&&(t=e,e=void 0),t){if(!(e=e||t.getClassName&&t.getClassName()))throw new this.HypergridError("Cannot register "+this.friendlyName()+" without a name.");return this.items[e]=t,e=e.toLowerCase(),Object.keys(this.items).filter(function(t){return t.toLowerCase()===e}).forEach(function(e){this.items[e]=t},this),t}},addSynonym:function(e,t){return this.items[e]=this.items[t]},make:function(e,t){var n=arguments.length-1;arguments[n]=this.BaseClass.extend(arguments[n]),this.add.apply(this,arguments)},get:function(e){if(e){var t=this.items[e];if(!t){var n=e.toLowerCase(),i=Object.keys(this.items).find(function(e){return n===e.toLowerCase()});if(!(t=this.items[i]))throw new this.HypergridError('Expected "'+e+'" to be a case-insensitive match for a registered '+this.friendlyName()+".");this.addSynonym(e,i)}return t}},friendlyName:function(){if(this.BaseClass){var e=this.BaseClass.getClassName();e=e&&e.replace(/([A-Z])/g," $1").trim().toLowerCase()}else e=function(e){return r.find(function(t){if(t.plural.test(e))return e=e.replace(t.plural,t.singular),!0}),e}(this.getClassName()).toLowerCase();return function(e){return/^[aeiou]/.test(e)?"an":"a"}(e=e||"item")+" "+e}}),r=[{plural:/ies$/,singular:"y"},{plural:/s$/,singular:""}];e.exports=i},function(e,t,n){"use strict";var i=n(44).Base.extend("DatasaurBase",{isNullObject:!0,drillDownCharMap:{true:"\u25bc",false:"\u25b6",undefined:"",null:"   "},DataError:o,initialize:function(e,t){if(e)for(this.handlers=e.handlers,this.next=e;e;)this.source=e,e=e.next;else this.handlers=[],this.source=this;this.install(Object.getPrototypeOf(this))},install:function(e,t){t=t||{};var n=this,o=function(e){var t,n=e.hasOwnProperty("!!keys")&&e["!!keys"],i=r.concat(e.hasOwnProperty("!keys")&&e["!keys"]||[]);t=Array.isArray(e)?e:Object.keys(e).filter(function(t){return"function"==typeof Object.getOwnPropertyDescriptor(e,t).value});return t.filter(function(e){return!(n&&n.indexOf(e)<0||i.indexOf(e)>=0)})}(e),s=t.inject&&!Array.isArray(e);o.forEach(function(r){s&&(function(e,t,n){do{if(e[t])if(n)for(var r=e;r&&r!==Object.prototype;r=Object.getPrototypeOf(r))delete r[t];else if(e[t]!==i.prototype[t])return e[t];e=e.next}while(e)}(n,r,t.force)||(this.source[r]=e[r])),i.prototype[r]||(i.prototype[r]=function(){if(this.next)return this.next[r].apply(this.next,arguments)})},this)},dispatchEvent:function(e){this.handlers.forEach(function(t){t.call(this,e)},this)},addListener:function(e){this.handlers.indexOf(e)<0&&this.handlers.push(e)},removeListener:function(e){var t=this.handlers.indexOf(e);t>=0&&delete this.handlers[t]},removeAllListeners:function(){this.handlers.length=0},dump:function(e){e=Math.min(this.getRowCount(),e||Math.max(100,this.getRowCount()));for(var t=[],n=this.getSchema(),i=n?n.map(function(e){return e.name}):this.getHeaders(),r=this.getColumnCount(),o=this.viewMakesSense,s=0;s<e;s++){for(var a={},l=0;l<r;l++){var u=this.getValue(l,s);0===l&&o&&(u=this.fixIndentForTableDisplay(u)),a[i[l]]=u}t[s]=a}console.table(t)}});var r=["constructor","initialize","!keys","!!keys"];function o(e){this.message=e}o.prototype=Object.create(Error.prototype),o.prototype.name="DataError",e.exports=i},function(e,t,n){var i=n(13);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports={}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(20)("keys"),r=n(17);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(10).f,r=n(11),o=n(1)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){var i=n(25);e.exports=function(e){return Object(i(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";function i(e,t){switch(arguments.length){case 0:t={};break;case 1:switch(typeof e){case"object":t=e,e=void 0;break;case"string":t={};break;default:throw"Single-parameter overload must be either string or object."}break;case 2:if("string"!=typeof e||"object"!=typeof t)throw"Two-parameter overload must be string, object.";break;default:throw"Too many parameters"}function n(){this.preInitialize&&this.preInitialize.apply(this,arguments),function(){var e=this,t=arguments;!function n(i){var r=Object.getPrototypeOf(i);r.constructor!==Object&&(n(r),r.hasOwnProperty("initialize")&&r.initialize.apply(e,t))}(e)}.apply(this,arguments),this.postInitialize&&this.postInitialize.apply(this,arguments)}n.extend=i,n.getClassName=o,n.parent=s;var r,a,l=n.prototype=Object.create(this.prototype);for(r in l.constructor=n,(e=e||l.$$CLASS_NAME||l.name)&&(Object.defineProperty(n,"name",{value:e,configurable:!0}),l.$$CLASS_NAME=e),t)(a=Object.getOwnPropertyDescriptor(t,r))&&Object.defineProperty(l,r,a);return"function"==typeof this.postExtend&&this.postExtend(l),n}function r(){}function o(){return this.prototype.$$CLASS_NAME||this.prototype.name||this.name}function s(e){var t=this.prototype;if(t)do{t=Object.getPrototypeOf(t)}while(e&&t&&t.constructor.name!==e);return t&&t.constructor}r.prototype={constructor:r.prototype.constructor,getClassName:function(){return this.$$CLASS_NAME||this.name||this.constructor.name},get super(){return Object.getPrototypeOf(Object.getPrototypeOf(this))},superMember:function(e){var t=this.super;do{t=Object.getPrototypeOf(t)}while(!t.hasOwnProperty(e));return t&&t[e]},superMethod:function(e){var t=this.superMember(e);if("function"!=typeof t)throw new TypeError("this."+e+" is not a function");return t},callSuperMethod:function(e){return this.superMethod(e).apply(this,Array.prototype.slice.call(arguments,1))}},r.extend=i,i.Base=r,e.exports=i},function(e,t,n){"use strict";var i=n(66).version,r=n(18),o={COLUMNS:1,STRIPES:2,ROWS:3,CELLS:4},s={DEFAULT:[o.COLUMNS,o.STRIPES,o.ROWS,o.CELLS],NO_ROWS:[o.COLUMNS,o.CELLS]},a={themeName:"default",noDataMessage:"",wheelHFactor:.01,wheelVFactor:.05,subgrids:["HeaderSubgrid","data"],font:"13px Tahoma, Geneva, sans-serif",color:"rgb(25, 25, 25)",backgroundColor:"rgb(241, 241, 241)",foregroundSelectionFont:"bold 13px Tahoma, Geneva, sans-serif",foregroundSelectionColor:"rgb(0, 0, 128)",backgroundSelectionColor:"rgba(147, 185, 255, 0.625)",columnHeaderFont:"12px Tahoma, Geneva, sans-serif",columnHeaderColor:"rgb(25, 25, 25)",columnHeaderForegroundSelectionFont:"bold 12px Tahoma, Geneva, sans-serif",columnHeaderBackgroundColor:"rgb(223, 227, 232)",columnHeaderForegroundSelectionColor:"rgb(80, 80, 80)",columnHeaderBackgroundSelectionColor:"rgba(255, 220, 97, 0.45)",columnHeaderHalign:"center",columnHeaderRenderer:"SimpleCell",columnHeaderFormat:"header",rowHeaderFont:"12px Tahoma, Geneva, sans-serif",rowHeaderColor:"rgb(25, 25, 25)",rowHeaderBackgroundColor:"rgb(223, 227, 232)",rowHeaderForegroundSelectionColor:"rgb(80, 80, 80)",rowHeaderForegroundSelectionFont:"bold 12px Tahoma, Geneva, sans-serif",rowHeaderBackgroundSelectionColor:"rgba(255, 220, 97, 0.45)",backgroundColor2:"rgb(201, 201, 201)",treeHeaderFont:"12px Tahoma, Geneva, sans-serif",treeHeaderColor:"rgb(25, 25, 25)",treeHeaderBackgroundColor:"rgb(223, 227, 232)",treeHeaderForegroundSelectionColor:"rgb(80, 80, 80)",treeHeaderForegroundSelectionFont:"bold 12px Tahoma, Geneva, sans-serif",treeHeaderBackgroundSelectionColor:"rgba(255, 220, 97, 0.45)",filterFont:"12px Tahoma, Geneva, sans-serif",filterColor:"rgb(25, 25, 25)",filterBackgroundColor:"white",filterForegroundSelectionColor:"rgb(25, 25, 25)",filterBackgroundSelectionColor:"rgb(255, 220, 97)",filterHalign:"center",filterRenderer:"SimpleCell",filterEditor:"TextField",filterable:!0,showFilterRow:!1,voffset:0,scrollbarHoverOver:"visible",scrollbarHoverOff:"hidden",scrollingEnabled:!0,vScrollbarClassPrefix:"",hScrollbarClassPrefix:"",halign:"center",cellPadding:5,iconPadding:3,leftIcon:void 0,centerIcon:void 0,rightIcon:void 0,renderFalsy:!1,headerify:"toTitle",gridLinesH:!0,gridLinesHWidth:1,gridLinesHColor:"rgb(199, 199, 199)",gridLinesV:!0,gridLinesVWidth:1,gridLinesVColor:"rgb(199, 199, 199)",gridLinesColumnHeader:!0,gridLinesRowHeader:!0,gridLinesUserDataArea:!0,gridBorder:!1,gridBorderLeft:!1,gridBorderRight:!1,gridBorderTop:!1,gridBorderBottom:!1,fixedLinesHWidth:2,fixedLinesHEdge:void 0,fixedLinesHColor:"rgb(164,164,164)",fixedLinesVWidth:2,fixedLinesVEdge:void 0,fixedLinesVColor:"rgb(164,164,164)",boxSizing:i>2?"content-box":"border-box",defaultRowHeight:i>2?14:15,defaultColumnWidth:100,minimumColumnWidth:5,maximumColumnWidth:void 0,resizeColumnInPlace:!1,repaintIntervalRate:60,repaintImmediately:!1,useBitBlit:!1,useHiDPI:!0,navKeyMap:{RETURN:"DOWN",RETURNSHIFT:"UP",TAB:"RIGHT",TABSHIFT:"LEFT"},feedbackCount:3,feedbackEffect:"shaker",readOnly:!1,fixedColumnCount:0,fixedRowCount:0,rowHeaderNumbers:!0,rowHeaderCheckboxes:!0,showTreeColumn:!0,treeRenderer:"SimpleCell",showHeaderRow:!0,cellSelection:!0,columnSelection:!0,rowSelection:!0,singleRowSelectionMode:!0,selectionRegionOverlayColor:"transparent",selectionRegionOutlineColor:"rgb(69, 69, 69)",columnAutosizing:!0,rowNumberAutosizing:!0,treeColumnAutosizing:!0,columnAutosizingMax:400,treeColumnAutosizingMax:400,headerTextWrapping:!1,rowResize:!1,editable:!0,editOnDoubleClick:!0,editOnKeydown:!0,editOnNextCell:!1,unsortable:!1,sortOnDoubleClick:!0,maxSortColumns:3,sortOnHiddenColumns:!0,checkboxOnlyRowSelections:!1,autoSelectRows:!1,autoSelectColumns:!1,collapseCellSelections:!1,format:void 0,editor:void 0,renderer:"SimpleCell",gridRenderer:"by-columns-and-rows",hoverCellHighlight:{enabled:!0,backgroundColor:"rgba(160, 160, 40, 0.45)"},hoverRowHighlight:{enabled:!0,backgroundColor:"rgba(100, 100, 25, 0.30)"},hoverColumnHighlight:{enabled:!0,backgroundColor:"rgba(60, 60, 15, 0.15)"},link:!1,linkTarget:"_blank",linkOnHover:!1,linkColor:"blue",linkVisitedColor:"purple",linkColorOnHover:!1,strikeThrough:!1,multipleSelections:!1,enableContinuousRepaint:!1,columnsReorderable:!0,columnGrabMargin:5,columnClip:!0,rowStripes:void 0,propClassLayers:s.DEFAULT,features:["filters","cellselection","keypaging","columnresizing","rowselection","columnselection","columnmoving","columnsorting","cellclick","cellediting","onhover"],restoreRowSelections:!0,restoreColumnSelections:!0,truncateTextWithEllipsis:!0},l={};function u(){l.rowProperties||(l.rowProperties=!0,console.warn("The `rowProperties` property has been deprecated as of v2.1.0 in favor of `rowStripes`. (Will be removed in a future release.)"))}function c(){throw new r("Attempt to set/get column-only property on a non-column properties object.")}Object.defineProperties(a,{rowProperties:{get:function(){return u(),this.rowStripes},set:function(e){u(),this.rowStripes=e}}}),["name","type","header","calculator"].forEach(function(e){Object.defineProperty(a,e,{set:c})}),Object.defineProperties(a,{mixIn:{value:n(30).mixIn},delete:{value:function(e){var t=Object.getOwnPropertyDescriptor(this,e);return!!t&&(t.get?!t.get.toString().indexOf(".var.")||(this.var[e]=Object.getPrototypeOf(this)[e],this.grid.repaint(),!1):delete this[e])}},propClassEnum:{value:o},propClassLayersMap:{value:s},navKey:{value:function(e,t){var n;return(e.length>1||!this.editOnKeydown||t)&&(n=e),n}},mappedNavKey:{value:function(e,t){return(e=this.navKeyMap[e])&&this.navKey(e)}},reapplyCellProperties:{set:function(e){l.reapplyCellProperties||(console.warn("The `.reapplyCellProperties` property has been deprecated as of v2.1.3 in favor of using the new `.propClassLayers` property. (May be removed in a future release.) This property is now a setter which sets `.propClassLayers` to `.propClassLayersMap.DEFAULT` (grid \u2190 columns \u2190 stripes \u2190 rows \u2190 cells) on truthy or `propClassLayersMap.NO_ROWS` (grid \u2190 columns \u2190 cells) on falsy, which is what you will see on properties stringification. This will give the same effect in most cases as the former property implementation, but not in all cases due to it no longer being applied dynamically. Developers should discontinue use of this property and start specifying `.propClassLayers` instead."),l.reapplyCellProperties=!0),this.propClassLayers=e?s.NO_ROWS:s.DEFAULT}},exec:{value:function(e){if(this.dataRow){var t="f"===(typeof e)[0]&&e||this.calculator;t&&(e=t(this.dataRow,this.name,this.subrow))}return e}}}),e.exports=a},function(e,t,n){"use strict";e.exports=function(e){var t,n,i,r=this.grid.properties,o=this.visibleRows,s=o.length;if(e){i=this.cellEventPool;var a=0;this.visibleColumns.forEachWithNeg(function(e){for(n=0;n<s;n++,a++)t=o[n],i[a].reset(e,t)})}var l,u,c=[],h=r.backgroundColor;this.visibleColumns.forEachWithNeg(function(e){u=e.column.properties.backgroundColor,l&&l.backgroundColor===u?l.right=e.right:u===h?l=void 0:(l={backgroundColor:u,left:e.left,right:e.right},c.push(l))}),this.columnBundles=c}},function(e,t,n){"use strict";var i=n(3).extend({initialize:function(e,t,n){"object"==typeof t&&(n=t,t=e),this.locale=t,n&&("function"==typeof n.invalid&&(this.invalid=n.invalid),n.expectation&&(this.expectation=n.expectation))}});window.Intl||(window.Intl={NumberFormat:function(e,t){this.format=function(e){var n=e.toString();if(!t||void 0===t.useGrouping||t.useGrouping){var i=n.indexOf(".");for(i<0&&(i=n.length);(i-=3)>0&&"0123456789".indexOf(n[i-1])>=0;)n=n.substr(0,i)+","+n.substr(i)}return n}},DateTimeFormat:function(e,t){this.format=function(e){return null!=e?("object"!=typeof e&&(e=new Date(e)),e=e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()):e=null,e}}});var r=i.extend("NumberFormatter",{initialize:function(e,t,n){"object"==typeof t&&(n=t),n=n||{},this.format=new Intl.NumberFormat(this.locale,n).format;var i=new Intl.NumberFormat(this.locale,{useGrouping:!1}).format;this.demapper=function(e){var t=this.map.indexOf(e)%11;return t<0?"":t<10?t:"."}.bind(this),this.map=i(10123456789.5).substr(1,11),n.acceptStandardDigits&&"0123456789."!==this.map&&(this.map+="0123456789."),this.invalids=new RegExp("[^"+this.format(11111).replace(this.map[1],"")+this.map+"]")},invalid:function(e){return this.invalids.test(e)},expectation:"Expected a number with optional commas (thousands grouping separator), optional decimal point, and an optional fractional part.\nComma separators are part of the format and will always be displayed for values >= 1000.\nEdited values are always saved in their entirety even though the formatted value is rounded to the specified number of decimal places.",parse:function(e){var t=Number(e.split("").map(this.demapper).join(""));if(isNaN(t))throw"Invalid Number";return t}});var o=i.extend("DateFormatter",{initialize:function(e,t,n){"object"==typeof t&&(n=t),n=n||{},this.format=new Intl.DateTimeFormat(this.locale,n).format;var i=new Intl.NumberFormat(this.locale,{useGrouping:!1,style:"decimal"}).format,r=this.localizedDigits=i(10123456789).substr(1,10);this.digitFormatter=function(e){return this.localizedDigits[e]}.bind(this),this.digitParser=function(e){var t=this.localizedDigits.indexOf(e);t<0&&(t="");return t}.bind(this);var o=this.transformNumber(this.digitFormatter,1987),s=this.transformNumber(this.digitFormatter,12),a=this.transformNumber(this.digitFormatter,30),l=new Date(1987,11,30),u=(0,new Intl.DateTimeFormat(this.locale).format)(l),c=new Intl.NumberFormat(this.locale).format(456),h=this.localizedNumberPattern=new RegExp("["+r+"]+","g"),d=u.match(h);this.partsMap={yy:d.indexOf(o),mm:d.indexOf(s),dd:d.indexOf(a)},n.acceptStandardDigits&&(c+="1234567890"),this.invalids=new RegExp("[^"+u.replace(/-/g,"\\-")+c+"]")},invalid:function(e){return this.invalids.test(e)},parse:function(e){var t=e.match(this.localizedNumberPattern);if(!t||3!==t.length)throw"Invalid Date";var n=this.transformNumber(this.digitParser,t[this.partsMap.yy]),i=this.transformNumber(this.digitParser,t[this.partsMap.mm])-1,r=this.transformNumber(this.digitParser,t[this.partsMap.dd]);return new Date(n,i,r)},transformNumber:function(e,t){return t.toString().split("").map(e).join("")}});function s(e,t,n){this.locale=e,this.int=this.float=this.construct("number",r,t),this.construct("date",o,n)}s.prototype={constructor:s.prototype.constructor,$$CLASS_NAME:"Localization",construct:function(e,t,n){var i=e[0].toUpperCase()+e.substr(1).toLowerCase()+"Formatter",r=t.bind(null,this.locale),o=new r(n);return this[i]=r,this.add(e,o)},add:function(e,t){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t||"function"!=typeof t.format||"function"!=typeof t.parse||t.invalid&&"function"!=typeof t.invalid||t.expectation&&"string"!=typeof t.expectation)throw"Expected localizer object to conform to interface.";return this[e=(e=e||t.name)&&e.toLowerCase()]=t,t},get:function(e){return this[e&&e.toLowerCase()]||this.string},chromeDate:{format:function(e){if(null!=e){"object"!=typeof e&&(e=new Date(e));var t=e.getFullYear(),n=e.getMonth()+1,i=n<10?"0"+n:n,r=e.getDate();e=t+"-"+i+"-"+(r<10?"0"+r:r)}else e=null;return e},parse:function(e){var t=e.split("-");return t&&3===t.length?new Date(t[0],t[1]-1,t[2]):null}},null:{format:function(e){return e},parse:function(e){return e}},string:{format:function(e){return e+""},parse:function(e){return e+""}}},e.exports=s},function(e,t,n){"use strict";e.exports=function(e,t){Object.keys(t).forEach(function(n){for(var i,r=e;r&&!(i=Object.getOwnPropertyDescriptor(r,n));r=Object.getPrototypeOf(r));void 0!==t[n]?(!i||i.writable||i.set)&&(e[n]=t[n]):i&&(!i.configurable||i.set||i.get?(i.writable||i.set)&&(e[n]=void 0):delete e[n])})}},function(e,t,n){"use strict";var i=/([^_A-Z])([A-Z]+)/g,r=/[^a-z0-9]+/gi,o=/[^a-z0-9]+([a-z0-9])?/gi;function s(e,t){return void 0===t?"":t.toUpperCase()}var a=/^(\d)/,l=/^([A-Z])/;function u(e,t){return t.toLowerCase()}var c=/[a-z]/,h=/[\s\-_]*([^\s\-_])([^\s\-_]+)/g,d=function(e,t,n){return t.toUpperCase()+n},f=/[A-Z]+/g,g=/([A-Z]+)([A-Z][a-z])/g;e.exports={verbatim:function(e){return e+""},toCamelCase:function(e){return e.replace(o,s).replace(a,"$$$1").replace(l,u)},toAllCaps:function(e){return e.replace(r,"_").replace(i,"$1_$2").replace(a,"$$$1").toUpperCase()},toTitle:function(e){return(c.test(e)?e:e.toLowerCase()).replace(h,d).replace(f," $&").replace(g,"$1 $2").trim()}}},function(e,t,n){"use strict";var i=["gridCell","dataCell","mousePoint","gridPoint","clientPoint","pagePoint","keys","row"];e.exports=function(e,t,n,r){var o;if(this.canvas)return"boolean"!=typeof t&&(r=n,n=t,t=!1),n?n instanceof CustomEvent&&(n=Object({},n)):n={},n.type||(n.type=e),n.detail||(n={detail:n}),(o=n.detail).grid||(o.grid=this),o.time=Date.now(),r&&(o.primitiveEvent||(o.primitiveEvent=r),i.forEach(function(e){e in r&&!(e in o)&&(o[e]=r[e])}),"dataRow"in r&&Object.defineProperty(o,"row",{get:function(){return r.dataRow}})),n.cancelable=t,this.canvas.dispatchEvent(new CustomEvent(e,n))}},function(e,t,n){"use strict";var i=n(34).extend("DatasaurLocal",{initialize:function(e,t){this.reset()},reset:function(){this.schema=[],this.data=[]},setData:function(e,t){this.data=e||[],t?this.setSchema(t):this.data.length&&!this.schema.length&&this.setSchema([]),this.dispatchEvent("fin-hypergrid-data-loaded")},getSchema:function(){return this.schema},setSchema:function(e){if(!e.length){var t=this.getFirstRow();t&&(e=Object.keys(t))}this.schema=e,this.dispatchEvent("fin-hypergrid-schema-loaded")},getFirstRow:function(){for(var e in this.data)if(this.data[e])return this.data[e]},getRow:function(e){return this.data[e]},setRow:function(e,t){this.data[e]=t||void 0},getRowMetadata:function(e,t){var n=this.data[e];return n&&(n.__META||void 0!==t&&(n.__META=Object.create(t)))},setRowMetadata:function(e,t){var n=this.data[e];return n&&(t?n.__META=t:delete n.__META),!!n},addRow:function(e,t){1===arguments.length&&(t=arguments[0],e=void 0),void 0===e||e>=this.getRowCount()?this.data.push(t):this.data.splice(e,0,t),this.dispatchEvent("fin-hypergrid-data-shape-changed")},delRow:function(e,t){var n=this.data.splice(e,void 0===t?1:t);return n.length&&this.dispatchEvent("fin-hypergrid-data-shape-changed"),n},getValue:function(e,t){var n=this.data[t];return n?n[this.schema[e].name]:null},setValue:function(e,t,n){this.data[t][this.schema[e].name]=n},getRowCount:function(){return this.data.length},getColumnCount:function(){return this.schema.length}});e.exports=i},function(e,t,n){"use strict";var i,r,o=n(53),s=RegExp.prototype.exec,a=String.prototype.replace,l=s,u=(i=/a/,r=/b*/g,s.call(i,"a"),s.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),c=void 0!==/()??/.exec("")[1];(u||c)&&(l=function(e){var t,n,i,r,l=this;return c&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),u&&(t=l.lastIndex),i=s.call(l,e),u&&i&&(l.lastIndex=l.global?i.index+i[0].length:t),c&&i&&i.length>1&&a.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i}),e.exports=l},function(e,t,n){"use strict";var i=n(8);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=!n(9)&&!n(6)(function(){return 7!=Object.defineProperty(n(56)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(13),r=n(5).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(8),r=n(96),o=n(40),s=n(39)("IE_PROTO"),a=function(){},l=function(){var e,t=n(56)("iframe"),i=o.length;for(t.style.display="none",n(99).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=i(e),n=new a,a.prototype=null,n[s]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(11),r=n(14),o=n(97)(!1),s=n(39)("IE_PROTO");e.exports=function(e,t){var n,a=r(e),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;t.length>l;)i(a,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var i=n(38),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){n(61)("asyncIterator")},function(e,t,n){var i=n(5),r=n(21),o=n(22),s=n(62),a=n(10).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){t.f=n(1)},function(e,t,n){"use strict";var i=n(5),r=n(11),o=n(9),s=n(26),a=n(15),l=n(101).KEY,u=n(6),c=n(20),h=n(41),d=n(17),f=n(1),g=n(62),p=n(61),v=n(102),m=n(103),y=n(8),b=n(13),w=n(42),C=n(14),x=n(35),S=n(23),R=n(57),E=n(104),A=n(105),_=n(64),k=n(10),M=n(27),P=A.f,O=k.f,D=E.f,T=i.Symbol,H=i.JSON,I=H&&H.stringify,L=f("_hidden"),F=f("toPrimitive"),j={}.propertyIsEnumerable,N=c("symbol-registry"),B=c("symbols"),z=c("op-symbols"),V=Object.prototype,W="function"==typeof T&&!!_.f,U=i.QObject,G=!U||!U.prototype||!U.prototype.findChild,K=o&&u(function(){return 7!=R(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=P(V,t);i&&delete V[t],O(e,t,n),i&&e!==V&&O(V,t,i)}:O,Y=function(e){var t=B[e]=R(T.prototype);return t._k=e,t},Z=W&&"symbol"==typeof T.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof T},Q=function(e,t,n){return e===V&&Q(z,t,n),y(e),t=x(t,!0),y(n),r(B,t)?(n.enumerable?(r(e,L)&&e[L][t]&&(e[L][t]=!1),n=R(n,{enumerable:S(0,!1)})):(r(e,L)||O(e,L,S(1,{})),e[L][t]=!0),K(e,t,n)):O(e,t,n)},$=function(e,t){y(e);for(var n,i=v(t=C(t)),r=0,o=i.length;o>r;)Q(e,n=i[r++],t[n]);return e},J=function(e){var t=j.call(this,e=x(e,!0));return!(this===V&&r(B,e)&&!r(z,e))&&(!(t||!r(this,e)||!r(B,e)||r(this,L)&&this[L][e])||t)},q=function(e,t){if(e=C(e),t=x(t,!0),e!==V||!r(B,t)||r(z,t)){var n=P(e,t);return!n||!r(B,t)||r(e,L)&&e[L][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=D(C(e)),i=[],o=0;n.length>o;)r(B,t=n[o++])||t==L||t==l||i.push(t);return i},ee=function(e){for(var t,n=e===V,i=D(n?z:C(e)),o=[],s=0;i.length>s;)!r(B,t=i[s++])||n&&!r(V,t)||o.push(B[t]);return o};W||(a((T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(z,n),r(this,L)&&r(this[L],e)&&(this[L][e]=!1),K(this,e,S(1,n))};return o&&G&&K(V,e,{configurable:!0,set:t}),Y(e)}).prototype,"toString",function(){return this._k}),A.f=q,k.f=Q,n(65).f=E.f=X,n(43).f=J,_.f=ee,o&&!n(22)&&a(V,"propertyIsEnumerable",J,!0),g.f=function(e){return Y(f(e))}),s(s.G+s.W+s.F*!W,{Symbol:T});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)f(te[ne++]);for(var ie=M(f.store),re=0;ie.length>re;)p(ie[re++]);s(s.S+s.F*!W,"Symbol",{for:function(e){return r(N,e+="")?N[e]:N[e]=T(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),s(s.S+s.F*!W,"Object",{create:function(e,t){return void 0===t?R(e):$(R(e),t)},defineProperty:Q,defineProperties:$,getOwnPropertyDescriptor:q,getOwnPropertyNames:X,getOwnPropertySymbols:ee});var oe=u(function(){_.f(1)});s(s.S+s.F*oe,"Object",{getOwnPropertySymbols:function(e){return _.f(w(e))}}),H&&s(s.S+s.F*(!W||u(function(){var e=T();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(b(t)||void 0!==e)&&!Z(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Z(t))return t}),i[1]=t,I.apply(H,i)}}),T.prototype[F]||n(7)(T.prototype,F,T.prototype.valueOf),h(T,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(58),r=n(40).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e){e.exports={name:"fin-hypergrid",version:"3.2.0",description:"Canvas-based high-performance grid",main:"src/Hypergrid",repository:{type:"git",url:"git://github.com/fin-hypergrid/core.git"},author:"Steve Wirts (https://github.com/stevewirts)",contributors:["Jonathan Eiten (https://github.com/joneit)","Dwayne Jones (https://github.com/dwaynekj)","Naveen Michaud-Agrawal (https://github.com/nmichaud)","Hugo Nogueira (https://github.com/hugoeanogueira)"],license:"MIT",readmeFilename:"README.md",gitHead:"",keywords:["spreadsheet","grid"],dependencies:{"datasaur-base":"^3.0.0","datasaur-local":"^3.0.0","extend-me":"^2.7.0",finbars:"^2.0.0","inject-stylesheet-template":"^1.0.1",mustache:"^2.3.0","object-iterators":"1.3.0",overrider:"^0",rectangular:"1.0.1","sparse-boolean-array":"1.0.1","svg-themer":"^1.1.2",synonomous:"^2.1.2"},devDependencies:{gulp:"^3.9.0","gulp-concat":"^2.6.0","gulp-each":"^0.1.1","gulp-eslint":"^4.0.2","gulp-footer":"^1.1.1","gulp-header":"^1.8.2","gulp-imagine-64":"^2.0.1","gulp-load-plugins":"^1.1.0","gulp-mocha":"^6.0.0","run-sequence":"^1.1.4"}}},function(e,t,n){"use strict";var i,r={theme:{enumerable:!0,get:function(){return this.grid.getTheme()},set:function(e){this.grid.applyTheme(e)}},wheelHFactor:{enumerable:!0,get:function(){return this.grid.sbHScroller.deltaXFactor},set:function(e){this.grid.sbHScroller.deltaXFactor=e}},wheelVFactor:{enumerable:!0,get:function(){return this.grid.sbVScroller.deltaYFactor},set:function(e){this.grid.sbVScroller.deltaYFactor=e}},subgrids:{enumerable:!0,get:function(){return this.var.subgrids},set:function(e){this.var.subgrids=e.slice(),this.grid.behavior&&(this.grid.behavior.subgrids=e)}},features:{enumerable:!0,get:function(){return this.var.features},set:function(e){this.var.features=e.slice(),this.grid.behavior&&(this.grid.behavior.initializeFeatureChain(e),this.grid.allowEvents(this.grid.getRowCount()))}},gridRenderer:{enumerable:!0,get:function(){return this.var.gridRenderer},set:function(e){this.var.gridRenderer=e,this.grid.renderer.setGridRenderer(e)}},columnIndexes:{enumerable:!0,get:function(){return this.grid.behavior.getActiveColumns().map(function(e){return e.index})},set:function(e){this.grid.behavior.setColumnOrder(e),this.grid.behavior.changed()}},columnNames:{enumerable:!0,get:function(){return this.grid.behavior.getActiveColumns().map(function(e){return e.name})},set:function(e){this.grid.behavior.setColumnOrderByName(e),this.grid.behavior.changed()}},rows:{enumerable:!0,get:function(){var e={},t=this.grid.behavior,n=this.grid.properties.defaultRowHeight;return t.subgrids.forEach(function(i){for(var r=i.name||i.type,o=0,s=i.getRowCount();o<s;++o){var a=t.getRowProperties(o,void 0,i);if(a){var l={height:a.height};l.height===n&&(l=void 0),a=Object.assign({},a,l),Object.getOwnPropertyNames(a).find(u)&&((e[r]||(e[r]={}))[o]=a)}}function u(e){return void 0!==a[e]}}),e},set:function(e){e&&(function(e){var t=this.grid.behavior,n=this.settingState?"setRowProperties":"addRowProperties";Object.keys(e).forEach(function(i){var r=t.subgrids.lookup[i];if(r){var o=e[i];Object.keys(o).forEach(function(e){var i=o[e];t[n](e,i,r)})}})}.call(this,e),this.grid.behavior.changed())}},columns:{enumerable:!0,get:function(){var e=this.grid.behavior.getColumns(),t=this.grid.headerify;return e.reduce(function(e,n){var i=Object.keys(n.properties).reduce(function(e,i){switch(i){case"preferredWidth":break;case"header":if(t&&n.properties.header===t(n.properties.name))break;default:e[i]=n.properties[i]}return e},{});return Object.keys(i).length&&(e[n.name]=i),e},{})},set:function(e){e&&(function(e){this.grid.behavior.addAllColumnProperties(e,this.settingState)}.call(this,e),this.grid.behavior.changed())}},cells:{enumerable:!0,get:function(){var e=this.grid.behavior,t=e.getColumns(),n={};return e.subgrids.forEach(function(i){for(var r=i.name||i.type,o=0,s=i.getRowCount();o<s;++o)t.forEach(a);function a(t){var s=e.getCellOwnProperties(t.index,o,i);if(s){var a=n[r]=n[r]||{};(a[o]=a[o]={})[t.name]=Object.assign({},s)}}}),n},set:function(e){e&&(function(e){var t=this.grid.behavior.subgrids,n=this.grid.behavior.getColumns(),i=this.settingState?"setCellProperties":"addCellProperties";Object.keys(e).forEach(function(r){var o=t.lookup[r];if(o){var s=e[r];Object.keys(s).forEach(function(e){var t=s[e];Object.keys(t).forEach(function(r){var s=t[r];if(s){var a=n.find(function(e){return e.name===r});a&&a[i](e,s,o)}})})}})}.call(this,e),this.grid.behavior.changed())}},rowHeaderCheckboxes:{enumerable:!0,get:function(){return this.var.rowHeaderCheckboxes},set:function(e){this.var.rowHeaderCheckboxes=e,this.grid.renderer.resetRowHeaderColumnWidth()}},rowHeaderNumbers:{enumerable:!0,get:function(){return this.var.rowHeaderNumbers},set:function(e){this.var.rowHeaderNumbers=e,this.grid.renderer.resetRowHeaderColumnWidth()}},showRowNumbers:{enumerable:!1,get:function(){return this.rowHeaderCheckboxes||this.rowHeaderNumbers},set:function(e){this.rowHeaderCheckboxes=this.rowHeaderNumbers=e}},doubleClickDelay:{enumerable:!0,get:function(){return this.var.doubleClickDelay},set:function(e){i||(i=!0,console.warn("The doubleClickDelay property has been deprecated as of v2.1.0. Setting this property no longer has any effect. Set double-click speed in your system's mouse preferences. (This warning will be removed in a future release.)")),this.var.doubleClickDelay=e}},lineColor:{get:function(){return this.gridLinesHColor},set:function(e){this.gridLinesHColor=this.gridLinesVColor=e}},lineWidth:{get:function(){return this.gridLinesHWidth},set:function(e){this.gridLinesHWidth=this.gridLinesVWidth=e}},gridBorder:o(),gridBorderLeft:o("Left"),gridBorderRight:o("Right"),gridBorderTop:o("Top"),gridBorderBottom:o("Bottom")};function o(e){var t="gridBorder"+(e||"");return{enumerable:!0,get:function(){return this.var[t]},set:function(n){this.var[t]=n,e||(this.var.gridBorderLeft=this.var.gridBorderRight=this.var.gridBorderTop=this.var.gridBorderBottom=n),this.grid.resetGridBorder(e)}}}r.columnProperties=r.columns,e.exports=r},function(e,t,n){"use strict";var i=n(2).Rectangle;function r(e,t,n,r){i.call(this,e,t,n-1,r-1)}r.prototype=Object.create(i.prototype,{width:{get:function(){return this.extent.x+1}},height:{get:function(){return this.extent.y+1}}}),e.exports=r},function(e,t,n){"use strict";var i=n(46),r=n(70);function o(e){var t,n,o,s,a,l,u,c,h,d,f,g=this.grid.properties.backgroundColor,p=this.visibleColumns,v=this.visibleRows,m=p.length,y=m-1,b=v.length,w=this.cellEventPool,C=m?p[m-1].right:0,x=b?v[b-1].bottom:0;if(e.clearRect(0,0,this.bounds.width,this.bounds.height),m&&b){if(e.alpha(g)>0&&(e.cache.fillStyle=g,e.fillRect(0,0,C,x)),this.gridRenderer.reset?(this.resetAllGridRenderers(),this.gridRenderer.reset=!1,r.call(this,!1),i.call(this,!0)):this.gridRenderer.rebundle&&(this.gridRenderer.rebundle=!1,i.call(this)),(a=this.rowBundles).length)for(n=this.rowPrefillColors,h=a.length;h--;)s=a[h],e.clearFill(0,s.top,C,s.bottom-s.top,s.backgroundColor);else for(c=(u=this.columnBundles).length;c--;)l=u[c],e.clearFill(l.left,0,l.right-l.left,x,l.backgroundColor);var S=0;this.visibleColumns.forEachWithNeg(function(i,r){for(i=(o=w[S]).visibleColumn,n||(t=o.column.properties.backgroundColor),f=i.column.properties.columnClip,e.clipSave(f||null===f&&r===y,0,0,i.right,x),d=h=0;h<b;h++,S++){n&&(t=n[h]);try{d=Math.max(d,this._paintCell(e,w[S],t))}catch(t){this.renderErrorCell(t,e,i,w[S].visibleRow)}}e.clipRestore(f),o.column.properties.preferredWidth=Math.round(d)},this),this.paintGridlines(e)}}o.key="by-columns-and-rows",o.rebundle=!0,e.exports=o},function(e,t,n){"use strict";e.exports=function(e){var t,n,i,r,o=this.grid.properties,s=this.visibleRows,a=s.length;if(e)for(r=this.cellEventPool,i=0,n=0;n<a;n++)t=s[n],this.visibleColumns.forEachWithNeg(function(e){r[++i].reset(e,t)});var l,u,c,h=[],d=o.backgroundColor,f=o.rowStripes,g=Array(a);for(n=0;n<a;n++)u=(t=s[n]).subgrid.isData&&f&&f[t.rowIndex%f.length],c=g[n]=u&&u.backgroundColor||d,l&&l.backgroundColor===c?l.bottom=t.bottom:c===d?l=void 0:(l={backgroundColor:c,top:t.top,bottom:t.bottom},h.push(l));this.rowBundles=h,this.rowPrefillColors=g}},function(e,t,n){"use strict";(function(e){(function(e){function t(){this.selection=[],this.states=[],this.storeState=function(){for(var e,t=this.selection,n=[],i=0;i<t.length;i++)e=[].concat(t[i]),n.push(e);this.states.push(n)}}function n(e,t){return e instanceof Array?n.apply(this,e):void 0===t?[e,e]:e<=t?[e,t]:[t,e]}function i(e,t){return e[0]<=t[0]&&t[0]<=e[1]||e[0]<=t[1]&&t[1]<=e[1]||t[0]<e[0]&&e[1]<t[1]}t.prototype={select:function(e,t){this.storeState();var r=n(e,t),o=[0,1];return this.selection.forEach(function(e){var t,n;i(e,r)||(n=r,(t=e)[1]===n[0]-1||n[1]===t[0]-1)?r=function(e,t){var n=Math.min(Math.min.apply(Math,e),Math.min.apply(Math,t)),i=Math.max(Math.max.apply(Math,e),Math.max.apply(Math,t));return[n,i]}(e,r):o.push(e)}),o.push(r),o[1]=this.selection.length,this.selection.splice.apply(this.selection,o),this},deselect:function(e,t){var r=n(e,t),o=[0,0];return this.selection.forEach(function(e){if(i(e,r)){var t=function(e,t){var n=e[0],i=e[1],r=t[0],o=t[1],s=[];r<=n&&o<i?s.push([o+1,i]):r>n&&o>=i?s.push([n,r-1]):n<r&&o<i?(s.push([n,r-1]),s.push([o+1,i])):(o<n||r>i)&&s.push(e);return s}(e,r);o=o.concat(t)}else o.push(e)}),o[1]=this.selection.length,this.selection.splice.apply(this.selection,o),this},clear:function(){return this.states.length=0,this.selection.length=0,this},clearMostRecentSelection:function(){0!==this.states.length&&(this.selection=this.states.pop())},isSelected:function(e){return this.selection.some(function(t){return t[0]<=e&&e<=t[1]})},isEmpty:function(){return 0===this.selection.length},getSelections:function(){var e=[];return this.selection.forEach(function(t){for(var n=t[0];n<=t[1];n++)e.push(n)}),e.sort(function(e,t){return e-t}),e}},e.exports=t})(e||(window.RangeSelectionModel={}),e.exports||(window.RangeSelectionModel.exports={}))}).call(this,n(72)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";t.mixin={getFixedRowsHeight:function(){for(var e,t,n,i,r=this.subgrids,o=0,s=this.grid.properties,a="border-box"!==s.boxSizing,l=s.gridLinesHWidth,u=0;u<r.length&&!t;++u){for(i=(t=(e=r[u]).isData)?s.fixedRowCount:e.getRowCount(),n=0;n<i;++n)o+=this.getRowHeight(n,e),a&&(o+=l);t&&s.fixedLinesHWidth&&(o+=s.fixedLinesHWidth-l)}return o},getRowProperties:function(e,t,n){"object"==typeof e&&(n=e.subgrid,e=e.dataCell.y);var i=(n||this.dataModel).getRowMetadata(e,void 0===t?void 0:null);return i&&(i.__ROW||void 0!==t&&(i.__ROW=Object.create(t)))},setRowProperties:function(e,t,n){if(t){"object"==typeof e&&(n=e.subgrid,e=e.dataCell.y);var i=(n||this.dataModel).getRowMetadata(e,null);i&&(i.__ROW=Object.create(this.rowPropertiesPrototype),this.addRowProperties(e,t,n,i.__ROW),this.stateChanged())}},setRowProperty:function(e,t,n,i){var r,o="height"===t;void 0!==n?(r=this.getRowProperties(e,this.rowPropertiesPrototype,i))[t]=n:(r=this.getRowProperties(e,void 0,i))&&delete r[o?"_height":t],o?this.shapeChanged():this.stateChanged()},addRowProperties:function(e,t,n,i){var r,o;t&&((i=i||this.getRowProperties(e,this.rowPropertiesPrototype,n))&&(Object.keys(t).forEach(function(e){var n=t[e];void 0!==n?i[e]=n:(delete i[(r="height"===e)?"_height":e],o=o||r)}),o?this.shapeChanged():this.stateChanged()))},getRowHeight:function(e,t){var n=this.getRowProperties(e,void 0,t);return n&&n.height||this.grid.properties.defaultRowHeight},setRowHeight:function(e,t,n){this.setRowProperty(e,"height",t,n)}},t.rowPropertiesPrototypeDescriptors={height:{enumerable:!0,get:function(){return this._height||this.defaultRowHeight},set:function(e){e=Math.max(5,Math.ceil(e)),isNaN(e)&&(e=void 0),e!==this._height&&(e?Object.defineProperty(this,"_height",{value:e,configurable:!0}):delete this._height,this.grid.behaviorStateChanged())}}}},function(e,t,n){"use strict";e.exports={"fin-hypergrid-schema-loaded":function(e){this.behavior.createColumns()},"fin-hypergrid-data-loaded":function(e){this.repaint()},"fin-hypergrid-data-shape-changed":function(e){this.behaviorShapeChanged()},"fin-hypergrid-data-prereindex":function(e){this.stashRowSelections(),this.stashColumnSelections()},"fin-hypergrid-data-postreindex":function(e){this.selectionModel.reset(),this.unstashRowSelections(),this.unstashColumnSelections(),this.behaviorShapeChanged()}}},function(e,t,n){"use strict";var i=n(32),r=n(49),o={};function s(e,t){o[e]||(console.warn("."+e+" has been deprecated as of v3.0.0. (Will be removed in a future release.) "+(t||"")),o[e]=!0)}t.mixin={columnEnumSynchronize:function(){this._columnEnumKey=this._columnEnumKey||"toAllCaps";var e=this._columnEnum||(this._columnEnum={}),t=this.allColumns,n=new i({transformations:[this._columnEnumKey]}).decorateArray(t.slice());n.length=0,Object.keys(n).reduce(function(e,t){return e[t]=n[t].index,e},e),Object.keys(e).forEach(function(t){t in n||delete e[t]})},get columnEnum(){return o.columnEnum||(console.warn(".columnEnum[propName] has been deprecated as of v3.0.0 in favor of either .getColumns()[propName].index or .schema[propName].index. (Will be removed in a future release.)"),o.columnEnum=!0),this._columnEnum},get columnEnumKey(){return s("columnEnumKey"),"verbatim"===this._columnEnumKey?"passThrough":this._columnEnumKey},set columnEnumKey(e){s("columnEnumKey");var t=typeof e,n=Object.keys(r);switch(t){case"string":if("passThrough"===e)e="verbatim";else if(!(e in r))throw new this.HypergridError("Expected registered transformer for .columnEnumKey value from: "+n);this._columnEnumKey=e;break;case"function":if(this._columnEnumKey=n.find(function(t){return e===r[t]}),!this._columnEnumKey)throw new this.HypergridError('.columnEnumKey has been deprecated as of v3.0.0 and now accepts a function reference (or string key) from require("synonmous/transformers"): '+n);break;default:throw new this.HypergridError("Expected string or function for .columnEnumKey assignment but received "+t+".")}}},t.mixInShared={get columnEnumDecorators(){return s("columnEnumDecorators"),r}}},function(e,t,n){"use strict";var i=n(4).extend("Button",{paint:function(e,t){var n=t.value,i=t.bounds,r=i.x+1,o=i.y+1,s=i.width-2,a=i.height-2,l=a/2,u=e.createLinearGradient(r,o,r,o+a);"border-box"===t.boxSizing&&(s-=t.gridLinesVWidth,a-=t.gridLinesHWidth),t.mouseDown?(u.addColorStop(0,"#B5CBED"),u.addColorStop(1,"#4d74ea")):(u.addColorStop(0,"#ffffff"),u.addColorStop(1,"#aaaaaa")),e.cache.fillStyle=t.backgroundColor,e.fillRect(i.x,i.y,i.width,i.height),e.cache.fillStyle=u,e.cache.strokeStyle="#000000",this.roundRect(e,r,o,s,a,l,u,!0);var c=(s-e.getTextWidth(n))/2,h=(a-e.getTextHeight(e.cache.font).descent)/2;e.cache.textBaseline="middle",e.cache.fillStyle="#333333",e.cache.font=a-2+"px sans-serif",t.backgroundColor="rgba(0,0,0,0)",e.fillText(n,r+c,o+h)}});e.exports=i},function(e,t,n){"use strict";var i=n(12),r=n(47),o=i.extend("Textfield",{template:'<input type="text" lang="{{locale}}" class="hypergrid-textfield" style="{{style}}">',initialize:function(){this.input.style.textAlign=this.event.properties.halign,this.input.style.font=this.event.properties.font},localizer:r.prototype.string,selectAll:function(){this.input.setSelectionRange(0,this.input.value.length)}});e.exports=o},function(e,t,n){"use strict";e.exports={Scrollbar:n(79),templater:n(170)},Object.defineProperties(e.exports,{"datasaur-base":{value:n(34)},"datasaur-local":{value:n(51)},"extend-me":{value:n(44)},finbars:{value:n(79)},"object-iterators":{value:n(29)},overrider:{value:n(30)},rectangular:{value:n(2)},"sparse-boolean-array":{value:n(71)},synonomous:{value:n(32)}})},function(e,t,n){"use strict";var i=n(169),r="position: absolute;",o="position: absolute;";function s(e){var t=this._bound={};Object.keys(l).forEach(function(e){t[e]=l[e].bind(this)},this);var n=this.thumb=document.createElement("div");n.classList.add("thumb"),n.setAttribute("style",o),n.onclick=t.shortStop,n.onmouseover=t.onmouseover,n.onmouseout=this._bound.onmouseout;var c,h,d,f,g=this.bar=document.createElement("div");g.classList.add("finbar-vertical"),g.setAttribute("style",r),g.onmousedown=this._bound.onmousedown,this.paging&&(g.onclick=t.onclick),g.appendChild(n),e=e||{},this.orientation="vertical",this._min=this._index=0,this._max=100,this.normal=(c=window.navigator,h=c.userAgent,d=c.platform.substr(0,3).toLowerCase(),f=/Edge/.test(h)?"edge":/Opera|OPR|Chrome|Safari/.test(h)?"webkit":/Firefox/.test(h)?"moz":document.documentMode?"ms":void 0,(s.normals[d]||{})[f]||1),Object.keys(e).forEach(function(t){var n=e[t];if(void 0!==n)switch(t){case"index":this._index=n;break;case"range":a(n),this._min=n.min,this._max=n.max,this.contentSize=n.max-n.min+1;break;default:"_"!==t.charAt(0)&&"function"!=typeof s.prototype[t]&&(this[t]=n)}},this),i(u,"finbar-base",e.cssStylesheetReferenceElement)}function a(e){2===Object.keys(e).length&&"number"==typeof e.min&&"number"==typeof e.max&&e.min<=e.max||d("Invalid .range object.")}s.prototype={set orientation(e){e!==this._orientation&&(this._orientation=e,this.oh=c[this._orientation],this.oh||d("Invalid value for `options._orientation."),this.deltaProp=this.oh.delta,this.bar.className=this.bar.className.replace(/(vertical|horizontal)/g,e),this.bar.style.cssText===r&&this.thumb.style.cssText===o||(this.bar.setAttribute("style",r),this.thumb.setAttribute("style",o),this.resize()))},get orientation(){return this._orientation},onchange:null,set classPrefix(e){this._classPrefix&&this.bar.classList.remove(this._classPrefix+this.orientation),this._classPrefix=e,e&&this.bar.classList.add(e+"-"+this.orientation)},get classPrefix(){return this._classPrefix},increment:1,deltaXFactor:1,deltaYFactor:1,deltaZFactor:1,barStyles:null,set style(e){var t=Object.keys(e=function(e){for(var t=1;t<arguments.length;++t){var n=arguments[t];if(n)for(var i in n)e[i]=n[i]}return e}({},e,this._auxStyles));if(t.length){var n=this.bar,i=n.getBoundingClientRect(),o=(this.container||n.parentElement).getBoundingClientRect(),s=this.oh;n.setAttribute("style",r),t.forEach(function(t){var r=e[t];if(t in s&&(t=s[t]),isNaN(Number(r))){if(/%$/.test(r)){var a=h[t],l=i[a.marginLeading]+i[a.marginTrailing];l&&(r=parseInt(r,10)/100*o[a.size]-l+"px")}}else r=(r||0)+"px";n.style[t]=r})}},paging:!0,set range(e){a(e),this._min=e.min,this._max=e.max,this.contentSize=e.max-e.min+1,this.index=this.index},get range(){return{min:this._min,max:this._max}},set index(e){e=Math.min(this._max,Math.max(this._min,e)),this._setScroll(e)},get index(){return this._index},_setScroll:function(e,t){this._index=e,this.testPanelItem&&this.testPanelItem.index instanceof Element&&(this.testPanelItem.index.innerHTML=Math.round(e)),this.onchange&&this.onchange.call(this,Math.round(e)),void 0===t&&(t=(e-this._min)/(this._max-this._min)*this._thumbMax),this.thumb.style[this.oh.leading]=t+"px"},scrollRealContent:function(e){var t=this.content.parentElement.getBoundingClientRect(),n=this.oh.size,i=Math.max(0,this.content[n]-t[n]),r=(e-this._min)/(this._max-this._min)*i;this.content.style[this.oh.leading]=-r+"px"},resize:function(e,t){var n=this.bar;if(n.parentNode){var i=this.container||n.parentElement,r=i.getBoundingClientRect();"object"==typeof e&&(t=e,e=void 0),this.style=this.barStyles=t||this.barStyles,this.content&&(this.onchange||(this.onchange=this.scrollRealContent,this.contentSize=this.content[this.oh.size],this._min=0,this._max=this.contentSize-1)),this.onchange===this.scrollRealContent?(this.containerSize=r[this.oh.size],this.increment=this.containerSize/(this.contentSize-this.containerSize)*(this._max-this._min)):(this.containerSize=1,this.increment=e||this.increment);var o=this.index;return this.testPanelItem=this.testPanelItem||this._addTestPanelItem(),this._setThumbSize(),this.index=o,null!==this.deltaProp&&i.addEventListener("wheel",this._bound.onwheel),this}},shortenBy:function(e){return this.shortenEndBy("trailing",e)},foreshortenBy:function(e){return this.shortenEndBy("leading",e)},shortenEndBy:function(e,t){if(t){if(t instanceof s&&t.orientation!==this.orientation){var n=window.getComputedStyle(t.bar),i=c[t.orientation];this._auxStyles={},this._auxStyles[e]=n[i.thickness]}}else delete this._auxStyles;return this},_setThumbSize:function(){var e=this.oh,t=window.getComputedStyle(this.thumb),n=parseInt(t[e.marginLeading]),i=n+parseInt(t[e.marginTrailing]),r=this.bar.getBoundingClientRect()[e.size],o=Math.max(20,r*this.containerSize/this.contentSize);this.containerSize<this.contentSize?(this.bar.style.visibility="visible",this.thumb.style[e.size]=o+"px"):this.bar.style.visibility="hidden",this._thumbMax=r-o-i,this._thumbMarginLeading=n},remove:function(){this.bar.onmousedown=null,this._removeEvt("mousemove"),this._removeEvt("mouseup"),(this.container||this.bar.parentElement)._removeEvt("wheel"),this.bar.onclick=this.thumb.onclick=this.thumb.onmouseover=this.thumb.transitionend=this.thumb.onmouseout=null,this.bar.remove()},_addTestPanelItem:function(){var e,t=document.querySelector("."+this._classPrefix+".test-panel")||document.querySelector(".test-panel");if(t){var n=["mousedown","mousemove","mouseup","index"],i=document.createElement("li");n.forEach(function(e){i.innerHTML+='<span class="'+e+'">'+e.replace("mouse","")+"</span>"}),t.appendChild(i),e={},n.forEach(function(t){e[t]=i.getElementsByClassName(t)[0]})}return e},_addEvt:function(e){var t=this.testPanelItem&&this.testPanelItem[e];t&&t.classList.add("listening"),window.addEventListener(e,this._bound["on"+e])},_removeEvt:function(e){var t=this.testPanelItem&&this.testPanelItem[e];t&&t.classList.remove("listening"),window.removeEventListener(e,this._bound["on"+e])}};var l={shortStop:function(e){e.stopPropagation()},onwheel:function(e){this.index+=e[this.deltaProp]*this[this.deltaProp+"Factor"]*this.normal,e.stopPropagation(),e.preventDefault()},onclick:function(e){var t=this.thumb.getBoundingClientRect(),n=e[this.oh.coordinate]<t[this.oh.leading];"object"==typeof this.paging?this.index=this.paging[n?"up":"down"](Math.round(this.index)):this.index+=n?-this.increment:this.increment,this.thumb.classList.add("hover");var i=this;this.thumb.addEventListener("transitionend",function t(){this.removeEventListener("transitionend",t),i._bound.onmouseup(e)}),e.stopPropagation()},onmouseover:function(){this.thumb.classList.add("hover")},onmouseout:function(){this.dragging||this.thumb.classList.remove("hover")},onmousedown:function(e){var t=this.thumb.getBoundingClientRect();this.pinOffset=e[this.oh.axis]-t[this.oh.leading]+this.bar.getBoundingClientRect()[this.oh.leading]+this._thumbMarginLeading,document.documentElement.style.cursor="default",this.dragging=!0,this._addEvt("mousemove"),this._addEvt("mouseup"),e.stopPropagation(),e.preventDefault()},onmousemove:function(e){if(1&e.buttons){var t=Math.min(this._thumbMax,Math.max(0,e[this.oh.axis]-this.pinOffset)),n=t/this._thumbMax*(this._max-this._min)+this._min;this._setScroll(n,t),e.stopPropagation(),e.preventDefault()}else window.dispatchEvent(new MouseEvent("mouseup",e))},onmouseup:function(e){this._removeEvt("mousemove"),this._removeEvt("mouseup"),this.dragging=!1,document.documentElement.style.cursor="auto";var t=this.thumb.getBoundingClientRect();t.left<=e.clientX&&e.clientX<=t.right&&t.top<=e.clientY&&e.clientY<=t.bottom?this._bound.onmouseover(e):this._bound.onmouseout(e),e.stopPropagation(),e.preventDefault()}};s.normals={mac:{webkit:1,moz:35},win:{webkit:2.6,moz:85,ms:2.9,edge:2}};var u,c={vertical:{coordinate:"clientY",axis:"pageY",size:"height",outside:"right",inside:"left",leading:"top",trailing:"bottom",marginLeading:"marginTop",marginTrailing:"marginBottom",thickness:"width",delta:"deltaY"},horizontal:{coordinate:"clientX",axis:"pageX",size:"width",outside:"bottom",inside:"top",leading:"left",trailing:"right",marginLeading:"marginLeft",marginTrailing:"marginRight",thickness:"height",delta:"deltaX"}},h={top:"vertical",bottom:"vertical",height:"vertical",left:"horizontal",right:"horizontal",width:"horizontal"};function d(e){throw"finbars: "+e}u="div.finbar-horizontal,div.finbar-vertical{margin:3px}div.finbar-horizontal>.thumb,div.finbar-vertical>.thumb{background-color:#d3d3d3;-webkit-box-shadow:0 0 1px #000;-moz-box-shadow:0 0 1px #000;box-shadow:0 0 1px #000;border-radius:4px;margin:2px;opacity:.4;transition:opacity .5s}div.finbar-horizontal>.thumb.hover,div.finbar-vertical>.thumb.hover{opacity:1;transition:opacity .5s}div.finbar-vertical{top:0;bottom:0;right:0;width:11px}div.finbar-vertical>.thumb{top:0;right:0;width:7px}div.finbar-horizontal{left:0;right:0;bottom:0;height:11px}div.finbar-horizontal>.thumb{left:0;bottom:0;height:7px}",e.exports=s},function(e,t,n){"use strict";var i=n(29),r=n(45),o=n(67),s=n(18),a=n(19),l=["BackgroundColor","Color","Font"],u=l.concat(["Halign"]),c=[{prefix:"",props:u.concat(["cellPadding","iconPadding"])},{prefix:"foregroundSelection",props:l},{prefix:"columnHeader",props:u},{prefix:"columnHeaderForegroundSelection",props:l},{prefix:"rowHeader",props:l},{prefix:"rowHeaderForegroundSelection",props:l}],h={rowHeaderCheckboxes:r.rowHeaderCheckboxes,rowHeaderNumbers:r.rowHeaderNumbers,gridBorder:r.gridBorder,gridBorderTop:r.gridBorderTop,gridBorderRight:r.gridBorderRight,gridBorderBottom:r.gridBorderBottom,gridBorderLeft:r.gridBorderLeft,gridRenderer:r.gridRenderer},d=Object.assign({},h,{themeName:r.themeName});c.reduce(function(e,t){return t.props.reduce(function(e,n){return e[n=(n=(n=t.prefix+n).replace("ForegroundSelectionBackground","BackgroundSelection"))[0].toLowerCase()+n.substr(1)]=r[n],e},e)},d);var f=Object.create(null,{default:{value:d}});function g(e){var t,n,i,a;if(e&&"object"==typeof e&&!Object.getOwnPropertyNames(e).length&&(e=null),this._theme?(n=[this],t=this._theme,i=this.properties,e||(Object.keys(t).forEach(function(e){e in o||delete i[e]}),Object.keys(h).forEach(function(e){i.var[e]=r[e]})),Object.keys(t).forEach(function(e){delete t[e]})):(n=this.grids,t=r,e=e||"default"),"object"==typeof e)a=e;else{if(!f[e])throw new s('Unknown theme "'+e+'"');a=f[e]}return a&&(a.themeName||(a.themeName=void 0),Object.keys(a).forEach(function(e){if(e in o)if(e in h)n.forEach(function(t){t.properties[e]=a[e]});else switch(e){case"lineColor":a.gridLinesHColor=a.gridLinesVColor=a[e];break;default:console.warn("Ignoring unexpected dynamic property "+e+" from theme object.")}}),Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))),n.forEach(function(e){e.repaint()}),a}var p={initThemeLayer:function(){return this._theme=Object.create(r),Object.create(this._theme,o)},applyTheme:g,getTheme:function(){var e=this._theme,t=e.themeName;return"default"!==t&&Object.getOwnPropertyNames(e).length?t in f?t:e:void 0}};Object.defineProperty(p,"theme",{enumerable:!0,set:g,get:p.getTheme});var v={registerTheme:function(e,t){if("object"==typeof e&&(e=(t=e).themeName),!e)throw new s("Cannot register an anonymous theme.");if("default"===e)throw new s('Cannot register or unregister the "default" theme.');t?(t.themeName=e,f[e]=t):delete f[e]},registerThemes:function(e){e?i(e).each(function(e,t){this.registerTheme(t,e)},this):Object.keys(f).forEach(function(e){this.registerTheme(e)},this)},applyTheme:function(e){var t=g.call(this,e);a.setTheme(t)}};Object.defineProperty(v,"theme",{enumerable:!0,set:v.applyTheme,get:function(){return r}}),e.exports={mixin:p,sharedMixin:v}},function(e,t,n){"use strict";var i=n(178),r=n(8),o=n(179),s=n(180),a=n(59),l=n(182),u=n(52),c=n(6),h=Math.min,d=[].push,f=!c(function(){RegExp(4294967295,"y")});n(184)("split",2,function(e,t,n,c){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!i(e))return n.call(r,e,t);for(var o,s,a,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,f=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,c+"g");(o=u.call(g,r))&&!((s=g.lastIndex)>h&&(l.push(r.slice(h,o.index)),o.length>1&&o.index<r.length&&d.apply(l,o.slice(1)),a=o[0].length,h=s,l.length>=f));)g.lastIndex===o.index&&g.lastIndex++;return h===r.length?!a&&g.test("")||l.push(""):l.push(r.slice(h)),l.length>f?l.slice(0,f):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,i){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r,i):g.call(String(r),n,i)},function(e,t){var i=c(g,e,this,t,g!==n);if(i.done)return i.value;var u=r(e),d=String(this),p=o(u,RegExp),v=u.unicode,m=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(f?"y":"g"),y=new p(f?u:"^(?:"+u.source+")",m),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===d.length)return null===l(y,d)?[d]:[];for(var w=0,C=0,x=[];C<d.length;){y.lastIndex=f?C:0;var S,R=l(y,f?d:d.slice(C));if(null===R||(S=h(a(y.lastIndex+(f?0:C)),d.length))===w)C=s(d,C,v);else{if(x.push(d.slice(w,C)),x.length===b)return x;for(var E=1;E<=R.length-1;E++)if(x.push(R[E]),x.length===b)return x;C=w=S}}return x.push(d.slice(w)),x}]})},function(e,t,n){"use strict";n(188);var i=n(8),r=n(53),o=n(9),s=/./.toString,a=function(e){n(15)(RegExp.prototype,"toString",e,!0)};n(6)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?a(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)}):"toString"!=s.name&&a(function(){return s.call(this)})},function(e,t,n){(function(e,i){var r;(function(){var o,s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",d=1,f=2,g=4,p=1,v=2,m=1,y=2,b=4,w=8,C=16,x=32,S=64,R=128,E=256,A=512,_=30,k="...",M=800,P=16,O=1,D=2,T=1/0,H=9007199254740991,I=1.7976931348623157e308,L=NaN,F=4294967295,j=F-1,N=F>>>1,B=[["ary",R],["bind",m],["bindKey",y],["curry",w],["curryRight",C],["flip",A],["partial",x],["partialRight",S],["rearg",E]],z="[object Arguments]",V="[object Array]",W="[object AsyncFunction]",U="[object Boolean]",G="[object Date]",K="[object DOMException]",Y="[object Error]",Z="[object Function]",Q="[object GeneratorFunction]",$="[object Map]",J="[object Number]",q="[object Null]",X="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",ie="[object String]",re="[object Symbol]",oe="[object Undefined]",se="[object WeakMap]",ae="[object WeakSet]",le="[object ArrayBuffer]",ue="[object DataView]",ce="[object Float32Array]",he="[object Float64Array]",de="[object Int8Array]",fe="[object Int16Array]",ge="[object Int32Array]",pe="[object Uint8Array]",ve="[object Uint8ClampedArray]",me="[object Uint16Array]",ye="[object Uint32Array]",be=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,Ce=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xe=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,Re=RegExp(xe.source),Ee=RegExp(Se.source),Ae=/<%-([\s\S]+?)%>/g,_e=/<%([\s\S]+?)%>/g,ke=/<%=([\s\S]+?)%>/g,Me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pe=/^\w*$/,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,De=/[\\^$.*+?()[\]{}|]/g,Te=RegExp(De.source),He=/^\s+|\s+$/g,Ie=/^\s+/,Le=/\s+$/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,Ne=/,? & /,Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ze=/\\(\\)?/g,Ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,Ue=/^[-+]0x[0-9a-f]+$/i,Ge=/^0b[01]+$/i,Ke=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$e=/($^)/,Je=/['\n\r\u2028\u2029\\]/g,qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Xe+"]",nt="["+qe+"]",it="\\d+",rt="[\\u2700-\\u27bf]",ot="[a-z\\xdf-\\xf6\\xf8-\\xff]",st="[^\\ud800-\\udfff"+Xe+it+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",at="\\ud83c[\\udffb-\\udfff]",lt="[^\\ud800-\\udfff]",ut="(?:\\ud83c[\\udde6-\\uddff]){2}",ct="[\\ud800-\\udbff][\\udc00-\\udfff]",ht="[A-Z\\xc0-\\xd6\\xd8-\\xde]",dt="(?:"+ot+"|"+st+")",ft="(?:"+ht+"|"+st+")",gt="(?:"+nt+"|"+at+")"+"?",pt="[\\ufe0e\\ufe0f]?"+gt+("(?:\\u200d(?:"+[lt,ut,ct].join("|")+")[\\ufe0e\\ufe0f]?"+gt+")*"),vt="(?:"+[rt,ut,ct].join("|")+")"+pt,mt="(?:"+[lt+nt+"?",nt,ut,ct,et].join("|")+")",yt=RegExp("['\u2019]","g"),bt=RegExp(nt,"g"),wt=RegExp(at+"(?="+at+")|"+mt+pt,"g"),Ct=RegExp([ht+"?"+ot+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[tt,ht,"$"].join("|")+")",ft+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[tt,ht+dt,"$"].join("|")+")",ht+"?"+dt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ht+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",it,vt].join("|"),"g"),xt=RegExp("[\\u200d\\ud800-\\udfff"+qe+"\\ufe0e\\ufe0f]"),St=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Et=-1,At={};At[ce]=At[he]=At[de]=At[fe]=At[ge]=At[pe]=At[ve]=At[me]=At[ye]=!0,At[z]=At[V]=At[le]=At[U]=At[ue]=At[G]=At[Y]=At[Z]=At[$]=At[J]=At[X]=At[te]=At[ne]=At[ie]=At[se]=!1;var _t={};_t[z]=_t[V]=_t[le]=_t[ue]=_t[U]=_t[G]=_t[ce]=_t[he]=_t[de]=_t[fe]=_t[ge]=_t[$]=_t[J]=_t[X]=_t[te]=_t[ne]=_t[ie]=_t[re]=_t[pe]=_t[ve]=_t[me]=_t[ye]=!0,_t[Y]=_t[Z]=_t[se]=!1;var kt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mt=parseFloat,Pt=parseInt,Ot="object"==typeof e&&e&&e.Object===Object&&e,Dt="object"==typeof self&&self&&self.Object===Object&&self,Tt=Ot||Dt||Function("return this")(),Ht=t&&!t.nodeType&&t,It=Ht&&"object"==typeof i&&i&&!i.nodeType&&i,Lt=It&&It.exports===Ht,Ft=Lt&&Ot.process,jt=function(){try{var e=It&&It.require&&It.require("util").types;return e||Ft&&Ft.binding&&Ft.binding("util")}catch(e){}}(),Nt=jt&&jt.isArrayBuffer,Bt=jt&&jt.isDate,zt=jt&&jt.isMap,Vt=jt&&jt.isRegExp,Wt=jt&&jt.isSet,Ut=jt&&jt.isTypedArray;function Gt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Kt(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var s=e[r];t(i,s,n(s),e)}return i}function Yt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Zt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Qt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function $t(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}function Jt(e,t){return!!(null==e?0:e.length)&&ln(e,t,0)>-1}function qt(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function Xt(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function en(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function tn(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function nn(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function rn(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var on=dn("length");function sn(e,t,n){var i;return n(e,function(e,n,r){if(t(e,n,r))return i=n,!1}),i}function an(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function ln(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):an(e,cn,n)}function un(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function cn(e){return e!=e}function hn(e,t){var n=null==e?0:e.length;return n?pn(e,t)/n:L}function dn(e){return function(t){return null==t?o:t[e]}}function fn(e){return function(t){return null==e?o:e[t]}}function gn(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function pn(e,t){for(var n,i=-1,r=e.length;++i<r;){var s=t(e[i]);s!==o&&(n=n===o?s:n+s)}return n}function vn(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function mn(e){return function(t){return e(t)}}function yn(e,t){return Xt(t,function(t){return e[t]})}function bn(e,t){return e.has(t)}function wn(e,t){for(var n=-1,i=e.length;++n<i&&ln(t,e[n],0)>-1;);return n}function Cn(e,t){for(var n=e.length;n--&&ln(t,e[n],0)>-1;);return n}var xn=fn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Sn=fn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Rn(e){return"\\"+kt[e]}function En(e){return xt.test(e)}function An(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function _n(e,t){return function(n){return e(t(n))}}function kn(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var s=e[n];s!==t&&s!==h||(e[n]=h,o[r++]=n)}return o}function Mn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Pn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function On(e){return En(e)?function(e){var t=wt.lastIndex=0;for(;wt.test(e);)++t;return t}(e):on(e)}function Dn(e){return En(e)?function(e){return e.match(wt)||[]}(e):function(e){return e.split("")}(e)}var Tn=fn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Hn=function e(t){var n,i=(t=null==t?Tt:Hn.defaults(Tt.Object(),t,Hn.pick(Tt,Rt))).Array,r=t.Date,qe=t.Error,Xe=t.Function,et=t.Math,tt=t.Object,nt=t.RegExp,it=t.String,rt=t.TypeError,ot=i.prototype,st=Xe.prototype,at=tt.prototype,lt=t["__core-js_shared__"],ut=st.toString,ct=at.hasOwnProperty,ht=0,dt=(n=/[^.]+$/.exec(lt&&lt.keys&&lt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ft=at.toString,gt=ut.call(tt),pt=Tt._,vt=nt("^"+ut.call(ct).replace(De,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=Lt?t.Buffer:o,wt=t.Symbol,xt=t.Uint8Array,kt=mt?mt.allocUnsafe:o,Ot=_n(tt.getPrototypeOf,tt),Dt=tt.create,Ht=at.propertyIsEnumerable,It=ot.splice,Ft=wt?wt.isConcatSpreadable:o,jt=wt?wt.iterator:o,on=wt?wt.toStringTag:o,fn=function(){try{var e=No(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),In=t.clearTimeout!==Tt.clearTimeout&&t.clearTimeout,Ln=r&&r.now!==Tt.Date.now&&r.now,Fn=t.setTimeout!==Tt.setTimeout&&t.setTimeout,jn=et.ceil,Nn=et.floor,Bn=tt.getOwnPropertySymbols,zn=mt?mt.isBuffer:o,Vn=t.isFinite,Wn=ot.join,Un=_n(tt.keys,tt),Gn=et.max,Kn=et.min,Yn=r.now,Zn=t.parseInt,Qn=et.random,$n=ot.reverse,Jn=No(t,"DataView"),qn=No(t,"Map"),Xn=No(t,"Promise"),ei=No(t,"Set"),ti=No(t,"WeakMap"),ni=No(tt,"create"),ii=ti&&new ti,ri={},oi=hs(Jn),si=hs(qn),ai=hs(Xn),li=hs(ei),ui=hs(ti),ci=wt?wt.prototype:o,hi=ci?ci.valueOf:o,di=ci?ci.toString:o;function fi(e){if(ka(e)&&!ma(e)&&!(e instanceof mi)){if(e instanceof vi)return e;if(ct.call(e,"__wrapped__"))return ds(e)}return new vi(e)}var gi=function(){function e(){}return function(t){if(!_a(t))return{};if(Dt)return Dt(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function pi(){}function vi(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function mi(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function yi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function bi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function wi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ci(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new wi;++t<n;)this.add(e[t])}function xi(e){var t=this.__data__=new bi(e);this.size=t.size}function Si(e,t){var n=ma(e),i=!n&&va(e),r=!n&&!i&&Ca(e),o=!n&&!i&&!r&&La(e),s=n||i||r||o,a=s?vn(e.length,it):[],l=a.length;for(var u in e)!t&&!ct.call(e,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ko(u,l))||a.push(u);return a}function Ri(e){var t=e.length;return t?e[Cr(0,t-1)]:o}function Ei(e,t){return ls(no(e),Hi(t,0,e.length))}function Ai(e){return ls(no(e))}function _i(e,t,n){(n===o||fa(e[t],n))&&(n!==o||t in e)||Di(e,t,n)}function ki(e,t,n){var i=e[t];ct.call(e,t)&&fa(i,n)&&(n!==o||t in e)||Di(e,t,n)}function Mi(e,t){for(var n=e.length;n--;)if(fa(e[n][0],t))return n;return-1}function Pi(e,t,n,i){return Ni(e,function(e,r,o){t(i,e,n(e),o)}),i}function Oi(e,t){return e&&io(t,rl(t),e)}function Di(e,t,n){"__proto__"==t&&fn?fn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ti(e,t){for(var n=-1,r=t.length,s=i(r),a=null==e;++n<r;)s[n]=a?o:Xa(e,t[n]);return s}function Hi(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Ii(e,t,n,i,r,s){var a,l=t&d,u=t&f,c=t&g;if(n&&(a=r?n(e,i,r,s):n(e)),a!==o)return a;if(!_a(e))return e;var h=ma(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ct.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return no(e,a)}else{var p=Vo(e),v=p==Z||p==Q;if(Ca(e))return $r(e,l);if(p==X||p==z||v&&!r){if(a=u||v?{}:Uo(e),!l)return u?function(e,t){return io(e,zo(e),t)}(e,function(e,t){return e&&io(t,ol(t),e)}(a,e)):function(e,t){return io(e,Bo(e),t)}(e,Oi(a,e))}else{if(!_t[p])return r?e:{};a=function(e,t,n){var i,r=e.constructor;switch(t){case le:return Jr(e);case U:case G:return new r(+e);case ue:return function(e,t){var n=t?Jr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ce:case he:case de:case fe:case ge:case pe:case ve:case me:case ye:return qr(e,n);case $:return new r;case J:case ie:return new r(e);case te:return function(e){var t=new e.constructor(e.source,We.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ne:return new r;case re:return i=e,hi?tt(hi.call(i)):{}}}(e,p,l)}}s||(s=new xi);var m=s.get(e);if(m)return m;if(s.set(e,a),Ta(e))return e.forEach(function(i){a.add(Ii(i,t,n,i,e,s))}),a;if(Ma(e))return e.forEach(function(i,r){a.set(r,Ii(i,t,n,r,e,s))}),a;var y=h?o:(c?u?Do:Oo:u?ol:rl)(e);return Yt(y||e,function(i,r){y&&(i=e[r=i]),ki(a,r,Ii(i,t,n,r,e,s))}),a}function Li(e,t,n){var i=n.length;if(null==e)return!i;for(e=tt(e);i--;){var r=n[i],s=t[r],a=e[r];if(a===o&&!(r in e)||!s(a))return!1}return!0}function Fi(e,t,n){if("function"!=typeof e)throw new rt(l);return rs(function(){e.apply(o,n)},t)}function ji(e,t,n,i){var r=-1,o=Jt,a=!0,l=e.length,u=[],c=t.length;if(!l)return u;n&&(t=Xt(t,mn(n))),i?(o=qt,a=!1):t.length>=s&&(o=bn,a=!1,t=new Ci(t));e:for(;++r<l;){var h=e[r],d=null==n?h:n(h);if(h=i||0!==h?h:0,a&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;u.push(h)}else o(t,d,i)||u.push(h)}return u}fi.templateSettings={escape:Ae,evaluate:_e,interpolate:ke,variable:"",imports:{_:fi}},fi.prototype=pi.prototype,fi.prototype.constructor=fi,vi.prototype=gi(pi.prototype),vi.prototype.constructor=vi,mi.prototype=gi(pi.prototype),mi.prototype.constructor=mi,yi.prototype.clear=function(){this.__data__=ni?ni(null):{},this.size=0},yi.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},yi.prototype.get=function(e){var t=this.__data__;if(ni){var n=t[e];return n===u?o:n}return ct.call(t,e)?t[e]:o},yi.prototype.has=function(e){var t=this.__data__;return ni?t[e]!==o:ct.call(t,e)},yi.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ni&&t===o?u:t,this},bi.prototype.clear=function(){this.__data__=[],this.size=0},bi.prototype.delete=function(e){var t=this.__data__,n=Mi(t,e);return!(n<0||(n==t.length-1?t.pop():It.call(t,n,1),--this.size,0))},bi.prototype.get=function(e){var t=this.__data__,n=Mi(t,e);return n<0?o:t[n][1]},bi.prototype.has=function(e){return Mi(this.__data__,e)>-1},bi.prototype.set=function(e,t){var n=this.__data__,i=Mi(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},wi.prototype.clear=function(){this.size=0,this.__data__={hash:new yi,map:new(qn||bi),string:new yi}},wi.prototype.delete=function(e){var t=Fo(this,e).delete(e);return this.size-=t?1:0,t},wi.prototype.get=function(e){return Fo(this,e).get(e)},wi.prototype.has=function(e){return Fo(this,e).has(e)},wi.prototype.set=function(e,t){var n=Fo(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Ci.prototype.add=Ci.prototype.push=function(e){return this.__data__.set(e,u),this},Ci.prototype.has=function(e){return this.__data__.has(e)},xi.prototype.clear=function(){this.__data__=new bi,this.size=0},xi.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},xi.prototype.get=function(e){return this.__data__.get(e)},xi.prototype.has=function(e){return this.__data__.has(e)},xi.prototype.set=function(e,t){var n=this.__data__;if(n instanceof bi){var i=n.__data__;if(!qn||i.length<s-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new wi(i)}return n.set(e,t),this.size=n.size,this};var Ni=so(Yi),Bi=so(Zi,!0);function zi(e,t){var n=!0;return Ni(e,function(e,i,r){return n=!!t(e,i,r)}),n}function Vi(e,t,n){for(var i=-1,r=e.length;++i<r;){var s=e[i],a=t(s);if(null!=a&&(l===o?a==a&&!Ia(a):n(a,l)))var l=a,u=s}return u}function Wi(e,t){var n=[];return Ni(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function Ui(e,t,n,i,r){var o=-1,s=e.length;for(n||(n=Go),r||(r=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?Ui(a,t-1,n,i,r):en(r,a):i||(r[r.length]=a)}return r}var Gi=ao(),Ki=ao(!0);function Yi(e,t){return e&&Gi(e,t,rl)}function Zi(e,t){return e&&Ki(e,t,rl)}function Qi(e,t){return $t(t,function(t){return Ra(e[t])})}function $i(e,t){for(var n=0,i=(t=Kr(t,e)).length;null!=e&&n<i;)e=e[cs(t[n++])];return n&&n==i?e:o}function Ji(e,t,n){var i=t(e);return ma(e)?i:en(i,n(e))}function qi(e){return null==e?e===o?oe:q:on&&on in tt(e)?function(e){var t=ct.call(e,on),n=e[on];try{e[on]=o;var i=!0}catch(e){}var r=ft.call(e);return i&&(t?e[on]=n:delete e[on]),r}(e):function(e){return ft.call(e)}(e)}function Xi(e,t){return e>t}function er(e,t){return null!=e&&ct.call(e,t)}function tr(e,t){return null!=e&&t in tt(e)}function nr(e,t,n){for(var r=n?qt:Jt,s=e[0].length,a=e.length,l=a,u=i(a),c=1/0,h=[];l--;){var d=e[l];l&&t&&(d=Xt(d,mn(t))),c=Kn(d.length,c),u[l]=!n&&(t||s>=120&&d.length>=120)?new Ci(l&&d):o}d=e[0];var f=-1,g=u[0];e:for(;++f<s&&h.length<c;){var p=d[f],v=t?t(p):p;if(p=n||0!==p?p:0,!(g?bn(g,v):r(h,v,n))){for(l=a;--l;){var m=u[l];if(!(m?bn(m,v):r(e[l],v,n)))continue e}g&&g.push(v),h.push(p)}}return h}function ir(e,t,n){var i=null==(e=ts(e,t=Kr(t,e)))?e:e[cs(Ss(t))];return null==i?o:Gt(i,e,n)}function rr(e){return ka(e)&&qi(e)==z}function or(e,t,n,i,r){return e===t||(null==e||null==t||!ka(e)&&!ka(t)?e!=e&&t!=t:function(e,t,n,i,r,s){var a=ma(e),l=ma(t),u=a?V:Vo(e),c=l?V:Vo(t),h=(u=u==z?X:u)==X,d=(c=c==z?X:c)==X,f=u==c;if(f&&Ca(e)){if(!Ca(t))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new xi),a||La(e)?Mo(e,t,n,i,r,s):function(e,t,n,i,r,o,s){switch(n){case ue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case le:return!(e.byteLength!=t.byteLength||!o(new xt(e),new xt(t)));case U:case G:case J:return fa(+e,+t);case Y:return e.name==t.name&&e.message==t.message;case te:case ie:return e==t+"";case $:var a=An;case ne:var l=i&p;if(a||(a=Mn),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;i|=v,s.set(e,t);var c=Mo(a(e),a(t),i,r,o,s);return s.delete(e),c;case re:if(hi)return hi.call(e)==hi.call(t)}return!1}(e,t,u,n,i,r,s);if(!(n&p)){var g=h&&ct.call(e,"__wrapped__"),m=d&&ct.call(t,"__wrapped__");if(g||m){var y=g?e.value():e,b=m?t.value():t;return s||(s=new xi),r(y,b,n,i,s)}}return!!f&&(s||(s=new xi),function(e,t,n,i,r,s){var a=n&p,l=Oo(e),u=l.length,c=Oo(t).length;if(u!=c&&!a)return!1;for(var h=u;h--;){var d=l[h];if(!(a?d in t:ct.call(t,d)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var g=!0;s.set(e,t),s.set(t,e);for(var v=a;++h<u;){d=l[h];var m=e[d],y=t[d];if(i)var b=a?i(y,m,d,t,e,s):i(m,y,d,e,t,s);if(!(b===o?m===y||r(m,y,n,i,s):b)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var w=e.constructor,C=t.constructor;w!=C&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof C&&C instanceof C)&&(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,i,r,s))}(e,t,n,i,or,r))}function sr(e,t,n,i){var r=n.length,s=r,a=!i;if(null==e)return!s;for(e=tt(e);r--;){var l=n[r];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++r<s;){var u=(l=n[r])[0],c=e[u],h=l[1];if(a&&l[2]){if(c===o&&!(u in e))return!1}else{var d=new xi;if(i)var f=i(c,h,u,e,t,d);if(!(f===o?or(h,c,p|v,i,d):f))return!1}}return!0}function ar(e){return!(!_a(e)||(t=e,dt&&dt in t))&&(Ra(e)?vt:Ke).test(hs(e));var t}function lr(e){return"function"==typeof e?e:null==e?Pl:"object"==typeof e?ma(e)?gr(e[0],e[1]):fr(e):Nl(e)}function ur(e){if(!Jo(e))return Un(e);var t=[];for(var n in tt(e))ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function cr(e){if(!_a(e))return function(e){var t=[];if(null!=e)for(var n in tt(e))t.push(n);return t}(e);var t=Jo(e),n=[];for(var i in e)("constructor"!=i||!t&&ct.call(e,i))&&n.push(i);return n}function hr(e,t){return e<t}function dr(e,t){var n=-1,r=ba(e)?i(e.length):[];return Ni(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function fr(e){var t=jo(e);return 1==t.length&&t[0][2]?Xo(t[0][0],t[0][1]):function(n){return n===e||sr(n,e,t)}}function gr(e,t){return Zo(e)&&qo(t)?Xo(cs(e),t):function(n){var i=Xa(n,e);return i===o&&i===t?el(n,e):or(t,i,p|v)}}function pr(e,t,n,i,r){e!==t&&Gi(t,function(s,a){if(_a(s))r||(r=new xi),function(e,t,n,i,r,s,a){var l=ns(e,n),u=ns(t,n),c=a.get(u);if(c)_i(e,n,c);else{var h=s?s(l,u,n+"",e,t,a):o,d=h===o;if(d){var f=ma(u),g=!f&&Ca(u),p=!f&&!g&&La(u);h=u,f||g||p?ma(l)?h=l:wa(l)?h=no(l):g?(d=!1,h=$r(u,!0)):p?(d=!1,h=qr(u,!0)):h=[]:Oa(u)||va(u)?(h=l,va(l)?h=Ua(l):_a(l)&&!Ra(l)||(h=Uo(u))):d=!1}d&&(a.set(u,h),r(h,u,i,s,a),a.delete(u)),_i(e,n,h)}}(e,t,a,n,pr,i,r);else{var l=i?i(ns(e,a),s,a+"",e,t,r):o;l===o&&(l=s),_i(e,a,l)}},ol)}function vr(e,t){var n=e.length;if(n)return Ko(t+=t<0?n:0,n)?e[t]:o}function mr(e,t,n){var i=-1;return t=Xt(t.length?t:[Pl],mn(Lo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(dr(e,function(e,n,r){return{criteria:Xt(t,function(t){return t(e)}),index:++i,value:e}}),function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,s=r.length,a=n.length;++i<s;){var l=Xr(r[i],o[i]);if(l){if(i>=a)return l;var u=n[i];return l*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)})}function yr(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var s=t[i],a=$i(e,s);n(a,s)&&Ar(o,Kr(s,e),a)}return o}function br(e,t,n,i){var r=i?un:ln,o=-1,s=t.length,a=e;for(e===t&&(t=no(t)),n&&(a=Xt(e,mn(n)));++o<s;)for(var l=0,u=t[o],c=n?n(u):u;(l=r(a,c,l,i))>-1;)a!==e&&It.call(a,l,1),It.call(e,l,1);return e}function wr(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;Ko(r)?It.call(e,r,1):jr(e,r)}}return e}function Cr(e,t){return e+Nn(Qn()*(t-e+1))}function xr(e,t){var n="";if(!e||t<1||t>H)return n;do{t%2&&(n+=e),(t=Nn(t/2))&&(e+=e)}while(t);return n}function Sr(e,t){return os(es(e,t,Pl),e+"")}function Rr(e){return Ri(fl(e))}function Er(e,t){var n=fl(e);return ls(n,Hi(t,0,n.length))}function Ar(e,t,n,i){if(!_a(e))return e;for(var r=-1,s=(t=Kr(t,e)).length,a=s-1,l=e;null!=l&&++r<s;){var u=cs(t[r]),c=n;if(r!=a){var h=l[u];(c=i?i(h,u,l):o)===o&&(c=_a(h)?h:Ko(t[r+1])?[]:{})}ki(l,u,c),l=l[u]}return e}var _r=ii?function(e,t){return ii.set(e,t),e}:Pl,kr=fn?function(e,t){return fn(e,"toString",{configurable:!0,enumerable:!1,value:_l(t),writable:!0})}:Pl;function Mr(e){return ls(fl(e))}function Pr(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=i(o);++r<o;)s[r]=e[r+t];return s}function Or(e,t){var n;return Ni(e,function(e,i,r){return!(n=t(e,i,r))}),!!n}function Dr(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=N){for(;i<r;){var o=i+r>>>1,s=e[o];null!==s&&!Ia(s)&&(n?s<=t:s<t)?i=o+1:r=o}return r}return Tr(e,t,Pl,n)}function Tr(e,t,n,i){t=n(t);for(var r=0,s=null==e?0:e.length,a=t!=t,l=null===t,u=Ia(t),c=t===o;r<s;){var h=Nn((r+s)/2),d=n(e[h]),f=d!==o,g=null===d,p=d==d,v=Ia(d);if(a)var m=i||p;else m=c?p&&(i||f):l?p&&f&&(i||!g):u?p&&f&&!g&&(i||!v):!g&&!v&&(i?d<=t:d<t);m?r=h+1:s=h}return Kn(s,j)}function Hr(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var s=e[n],a=t?t(s):s;if(!n||!fa(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function Ir(e){return"number"==typeof e?e:Ia(e)?L:+e}function Lr(e){if("string"==typeof e)return e;if(ma(e))return Xt(e,Lr)+"";if(Ia(e))return di?di.call(e):"";var t=e+"";return"0"==t&&1/e==-T?"-0":t}function Fr(e,t,n){var i=-1,r=Jt,o=e.length,a=!0,l=[],u=l;if(n)a=!1,r=qt;else if(o>=s){var c=t?null:So(e);if(c)return Mn(c);a=!1,r=bn,u=new Ci}else u=t?[]:l;e:for(;++i<o;){var h=e[i],d=t?t(h):h;if(h=n||0!==h?h:0,a&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),l.push(h)}else r(u,d,n)||(u!==l&&u.push(d),l.push(h))}return l}function jr(e,t){return null==(e=ts(e,t=Kr(t,e)))||delete e[cs(Ss(t))]}function Nr(e,t,n,i){return Ar(e,t,n($i(e,t)),i)}function Br(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?Pr(e,i?0:o,i?o+1:r):Pr(e,i?o+1:0,i?r:o)}function zr(e,t){var n=e;return n instanceof mi&&(n=n.value()),tn(t,function(e,t){return t.func.apply(t.thisArg,en([e],t.args))},n)}function Vr(e,t,n){var r=e.length;if(r<2)return r?Fr(e[0]):[];for(var o=-1,s=i(r);++o<r;)for(var a=e[o],l=-1;++l<r;)l!=o&&(s[o]=ji(s[o]||a,e[l],t,n));return Fr(Ui(s,1),t,n)}function Wr(e,t,n){for(var i=-1,r=e.length,s=t.length,a={};++i<r;){var l=i<s?t[i]:o;n(a,e[i],l)}return a}function Ur(e){return wa(e)?e:[]}function Gr(e){return"function"==typeof e?e:Pl}function Kr(e,t){return ma(e)?e:Zo(e,t)?[e]:us(Ga(e))}var Yr=Sr;function Zr(e,t,n){var i=e.length;return n=n===o?i:n,!t&&n>=i?e:Pr(e,t,n)}var Qr=In||function(e){return Tt.clearTimeout(e)};function $r(e,t){if(t)return e.slice();var n=e.length,i=kt?kt(n):new e.constructor(n);return e.copy(i),i}function Jr(e){var t=new e.constructor(e.byteLength);return new xt(t).set(new xt(e)),t}function qr(e,t){var n=t?Jr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Xr(e,t){if(e!==t){var n=e!==o,i=null===e,r=e==e,s=Ia(e),a=t!==o,l=null===t,u=t==t,c=Ia(t);if(!l&&!c&&!s&&e>t||s&&a&&u&&!l&&!c||i&&a&&u||!n&&u||!r)return 1;if(!i&&!s&&!c&&e<t||c&&n&&r&&!i&&!s||l&&n&&r||!a&&r||!u)return-1}return 0}function eo(e,t,n,r){for(var o=-1,s=e.length,a=n.length,l=-1,u=t.length,c=Gn(s-a,0),h=i(u+c),d=!r;++l<u;)h[l]=t[l];for(;++o<a;)(d||o<s)&&(h[n[o]]=e[o]);for(;c--;)h[l++]=e[o++];return h}function to(e,t,n,r){for(var o=-1,s=e.length,a=-1,l=n.length,u=-1,c=t.length,h=Gn(s-l,0),d=i(h+c),f=!r;++o<h;)d[o]=e[o];for(var g=o;++u<c;)d[g+u]=t[u];for(;++a<l;)(f||o<s)&&(d[g+n[a]]=e[o++]);return d}function no(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function io(e,t,n,i){var r=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],u=i?i(n[l],e[l],l,n,e):o;u===o&&(u=e[l]),r?Di(n,l,u):ki(n,l,u)}return n}function ro(e,t){return function(n,i){var r=ma(n)?Kt:Pi,o=t?t():{};return r(n,e,Lo(i,2),o)}}function oo(e){return Sr(function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:o,a=r>2?n[2]:o;for(s=e.length>3&&"function"==typeof s?(r--,s):o,a&&Yo(n[0],n[1],a)&&(s=r<3?o:s,r=1),t=tt(t);++i<r;){var l=n[i];l&&e(t,l,i,s)}return t})}function so(e,t){return function(n,i){if(null==n)return n;if(!ba(n))return e(n,i);for(var r=n.length,o=t?r:-1,s=tt(n);(t?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function ao(e){return function(t,n,i){for(var r=-1,o=tt(t),s=i(t),a=s.length;a--;){var l=s[e?a:++r];if(!1===n(o[l],l,o))break}return t}}function lo(e){return function(t){var n=En(t=Ga(t))?Dn(t):o,i=n?n[0]:t.charAt(0),r=n?Zr(n,1).join(""):t.slice(1);return i[e]()+r}}function uo(e){return function(t){return tn(Rl(vl(t).replace(yt,"")),e,"")}}function co(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=gi(e.prototype),i=e.apply(n,t);return _a(i)?i:n}}function ho(e){return function(t,n,i){var r=tt(t);if(!ba(t)){var s=Lo(n,3);t=rl(t),n=function(e){return s(r[e],e,r)}}var a=e(t,n,i);return a>-1?r[s?t[a]:a]:o}}function fo(e){return Po(function(t){var n=t.length,i=n,r=vi.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new rt(l);if(r&&!a&&"wrapper"==Ho(s))var a=new vi([],!0)}for(i=a?i:n;++i<n;){var u=Ho(s=t[i]),c="wrapper"==u?To(s):o;a=c&&Qo(c[0])&&c[1]==(R|w|x|E)&&!c[4].length&&1==c[9]?a[Ho(c[0])].apply(a,c[3]):1==s.length&&Qo(s)?a[u]():a.thru(s)}return function(){var e=arguments,i=e[0];if(a&&1==e.length&&ma(i))return a.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}})}function go(e,t,n,r,s,a,l,u,c,h){var d=t&R,f=t&m,g=t&y,p=t&(w|C),v=t&A,b=g?o:co(e);return function m(){for(var y=arguments.length,w=i(y),C=y;C--;)w[C]=arguments[C];if(p)var x=Io(m),S=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(w,x);if(r&&(w=eo(w,r,s,p)),a&&(w=to(w,a,l,p)),y-=S,p&&y<h){var R=kn(w,x);return Co(e,t,go,m.placeholder,n,w,R,u,c,h-y)}var E=f?n:this,A=g?E[e]:e;return y=w.length,u?w=function(e,t){for(var n=e.length,i=Kn(t.length,n),r=no(e);i--;){var s=t[i];e[i]=Ko(s,n)?r[s]:o}return e}(w,u):v&&y>1&&w.reverse(),d&&c<y&&(w.length=c),this&&this!==Tt&&this instanceof m&&(A=b||co(A)),A.apply(E,w)}}function po(e,t){return function(n,i){return function(e,t,n,i){return Yi(e,function(e,r,o){t(i,n(e),r,o)}),i}(n,e,t(i),{})}}function vo(e,t){return function(n,i){var r;if(n===o&&i===o)return t;if(n!==o&&(r=n),i!==o){if(r===o)return i;"string"==typeof n||"string"==typeof i?(n=Lr(n),i=Lr(i)):(n=Ir(n),i=Ir(i)),r=e(n,i)}return r}}function mo(e){return Po(function(t){return t=Xt(t,mn(Lo())),Sr(function(n){var i=this;return e(t,function(e){return Gt(e,i,n)})})})}function yo(e,t){var n=(t=t===o?" ":Lr(t)).length;if(n<2)return n?xr(t,e):t;var i=xr(t,jn(e/On(t)));return En(t)?Zr(Dn(i),0,e).join(""):i.slice(0,e)}function bo(e){return function(t,n,r){return r&&"number"!=typeof r&&Yo(t,n,r)&&(n=r=o),t=Ba(t),n===o?(n=t,t=0):n=Ba(n),function(e,t,n,r){for(var o=-1,s=Gn(jn((t-e)/(n||1)),0),a=i(s);s--;)a[r?s:++o]=e,e+=n;return a}(t,n,r=r===o?t<n?1:-1:Ba(r),e)}}function wo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Wa(t),n=Wa(n)),e(t,n)}}function Co(e,t,n,i,r,s,a,l,u,c){var h=t&w;t|=h?x:S,(t&=~(h?S:x))&b||(t&=~(m|y));var d=[e,t,r,h?s:o,h?a:o,h?o:s,h?o:a,l,u,c],f=n.apply(o,d);return Qo(e)&&is(f,d),f.placeholder=i,ss(f,e,t)}function xo(e){var t=et[e];return function(e,n){if(e=Wa(e),n=null==n?0:Kn(za(n),292)){var i=(Ga(e)+"e").split("e");return+((i=(Ga(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var So=ei&&1/Mn(new ei([,-0]))[1]==T?function(e){return new ei(e)}:Il;function Ro(e){return function(t){var n=Vo(t);return n==$?An(t):n==ne?Pn(t):function(e,t){return Xt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Eo(e,t,n,r,s,a,u,c){var d=t&y;if(!d&&"function"!=typeof e)throw new rt(l);var f=r?r.length:0;if(f||(t&=~(x|S),r=s=o),u=u===o?u:Gn(za(u),0),c=c===o?c:za(c),f-=s?s.length:0,t&S){var g=r,p=s;r=s=o}var v=d?o:To(e),A=[e,t,n,r,s,g,p,a,u,c];if(v&&function(e,t){var n=e[1],i=t[1],r=n|i,o=r<(m|y|R),s=i==R&&n==w||i==R&&n==E&&e[7].length<=t[8]||i==(R|E)&&t[7].length<=t[8]&&n==w;if(!o&&!s)return e;i&m&&(e[2]=t[2],r|=n&m?0:b);var a=t[3];if(a){var l=e[3];e[3]=l?eo(l,a,t[4]):a,e[4]=l?kn(e[3],h):t[4]}(a=t[5])&&(l=e[5],e[5]=l?to(l,a,t[6]):a,e[6]=l?kn(e[5],h):t[6]),(a=t[7])&&(e[7]=a),i&R&&(e[8]=null==e[8]?t[8]:Kn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(A,v),e=A[0],t=A[1],n=A[2],r=A[3],s=A[4],!(c=A[9]=A[9]===o?d?0:e.length:Gn(A[9]-f,0))&&t&(w|C)&&(t&=~(w|C)),t&&t!=m)_=t==w||t==C?function(e,t,n){var r=co(e);return function s(){for(var a=arguments.length,l=i(a),u=a,c=Io(s);u--;)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:kn(l,c);return(a-=h.length)<n?Co(e,t,go,s.placeholder,o,l,h,o,o,n-a):Gt(this&&this!==Tt&&this instanceof s?r:e,this,l)}}(e,t,c):t!=x&&t!=(m|x)||s.length?go.apply(o,A):function(e,t,n,r){var o=t&m,s=co(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=r.length,h=i(c+l),d=this&&this!==Tt&&this instanceof t?s:e;++u<c;)h[u]=r[u];for(;l--;)h[u++]=arguments[++a];return Gt(d,o?n:this,h)}}(e,t,n,r);else var _=function(e,t,n){var i=t&m,r=co(e);return function t(){return(this&&this!==Tt&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,n);return ss((v?_r:is)(_,A),e,t)}function Ao(e,t,n,i){return e===o||fa(e,at[n])&&!ct.call(i,n)?t:e}function _o(e,t,n,i,r,s){return _a(e)&&_a(t)&&(s.set(t,e),pr(e,t,o,_o,s),s.delete(t)),e}function ko(e){return Oa(e)?o:e}function Mo(e,t,n,i,r,s){var a=n&p,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var h=-1,d=!0,f=n&v?new Ci:o;for(s.set(e,t),s.set(t,e);++h<l;){var g=e[h],m=t[h];if(i)var y=a?i(m,g,h,t,e,s):i(g,m,h,e,t,s);if(y!==o){if(y)continue;d=!1;break}if(f){if(!rn(t,function(e,t){if(!bn(f,t)&&(g===e||r(g,e,n,i,s)))return f.push(t)})){d=!1;break}}else if(g!==m&&!r(g,m,n,i,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Po(e){return os(es(e,o,ys),e+"")}function Oo(e){return Ji(e,rl,Bo)}function Do(e){return Ji(e,ol,zo)}var To=ii?function(e){return ii.get(e)}:Il;function Ho(e){for(var t=e.name+"",n=ri[t],i=ct.call(ri,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function Io(e){return(ct.call(fi,"placeholder")?fi:e).placeholder}function Lo(){var e=fi.iteratee||Ol;return e=e===Ol?lr:e,arguments.length?e(arguments[0],arguments[1]):e}function Fo(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function jo(e){for(var t=rl(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,qo(r)]}return t}function No(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return ar(n)?n:o}var Bo=Bn?function(e){return null==e?[]:(e=tt(e),$t(Bn(e),function(t){return Ht.call(e,t)}))}:Vl,zo=Bn?function(e){for(var t=[];e;)en(t,Bo(e)),e=Ot(e);return t}:Vl,Vo=qi;function Wo(e,t,n){for(var i=-1,r=(t=Kr(t,e)).length,o=!1;++i<r;){var s=cs(t[i]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&Aa(r)&&Ko(s,r)&&(ma(e)||va(e))}function Uo(e){return"function"!=typeof e.constructor||Jo(e)?{}:gi(Ot(e))}function Go(e){return ma(e)||va(e)||!!(Ft&&e&&e[Ft])}function Ko(e,t){var n=typeof e;return!!(t=null==t?H:t)&&("number"==n||"symbol"!=n&&Ze.test(e))&&e>-1&&e%1==0&&e<t}function Yo(e,t,n){if(!_a(n))return!1;var i=typeof t;return!!("number"==i?ba(n)&&Ko(t,n.length):"string"==i&&t in n)&&fa(n[t],e)}function Zo(e,t){if(ma(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ia(e))||Pe.test(e)||!Me.test(e)||null!=t&&e in tt(t)}function Qo(e){var t=Ho(e),n=fi[t];if("function"!=typeof n||!(t in mi.prototype))return!1;if(e===n)return!0;var i=To(n);return!!i&&e===i[0]}(Jn&&Vo(new Jn(new ArrayBuffer(1)))!=ue||qn&&Vo(new qn)!=$||Xn&&"[object Promise]"!=Vo(Xn.resolve())||ei&&Vo(new ei)!=ne||ti&&Vo(new ti)!=se)&&(Vo=function(e){var t=qi(e),n=t==X?e.constructor:o,i=n?hs(n):"";if(i)switch(i){case oi:return ue;case si:return $;case ai:return"[object Promise]";case li:return ne;case ui:return se}return t});var $o=lt?Ra:Wl;function Jo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function qo(e){return e==e&&!_a(e)}function Xo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in tt(n))}}function es(e,t,n){return t=Gn(t===o?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=Gn(r.length-t,0),a=i(s);++o<s;)a[o]=r[t+o];o=-1;for(var l=i(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),Gt(e,this,l)}}function ts(e,t){return t.length<2?e:$i(e,Pr(t,0,-1))}function ns(e,t){if("__proto__"!=t)return e[t]}var is=as(_r),rs=Fn||function(e,t){return Tt.setTimeout(e,t)},os=as(kr);function ss(e,t,n){var i=t+"";return os(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Fe,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return Yt(B,function(n){var i="_."+n[0];t&n[1]&&!Jt(e,i)&&e.push(i)}),e.sort()}(function(e){var t=e.match(je);return t?t[1].split(Ne):[]}(i),n)))}function as(e){var t=0,n=0;return function(){var i=Yn(),r=P-(i-n);if(n=i,r>0){if(++t>=M)return arguments[0]}else t=0;return e.apply(o,arguments)}}function ls(e,t){var n=-1,i=e.length,r=i-1;for(t=t===o?i:t;++n<t;){var s=Cr(n,r),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var us=function(e){var t=aa(e,function(e){return n.size===c&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Oe,function(e,n,i,r){t.push(i?r.replace(ze,"$1"):n||e)}),t});function cs(e){if("string"==typeof e||Ia(e))return e;var t=e+"";return"0"==t&&1/e==-T?"-0":t}function hs(e){if(null!=e){try{return ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ds(e){if(e instanceof mi)return e.clone();var t=new vi(e.__wrapped__,e.__chain__);return t.__actions__=no(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var fs=Sr(function(e,t){return wa(e)?ji(e,Ui(t,1,wa,!0)):[]}),gs=Sr(function(e,t){var n=Ss(t);return wa(n)&&(n=o),wa(e)?ji(e,Ui(t,1,wa,!0),Lo(n,2)):[]}),ps=Sr(function(e,t){var n=Ss(t);return wa(n)&&(n=o),wa(e)?ji(e,Ui(t,1,wa,!0),o,n):[]});function vs(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:za(n);return r<0&&(r=Gn(i+r,0)),an(e,Lo(t,3),r)}function ms(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return n!==o&&(r=za(n),r=n<0?Gn(i+r,0):Kn(r,i-1)),an(e,Lo(t,3),r,!0)}function ys(e){return null!=e&&e.length?Ui(e,1):[]}function bs(e){return e&&e.length?e[0]:o}var ws=Sr(function(e){var t=Xt(e,Ur);return t.length&&t[0]===e[0]?nr(t):[]}),Cs=Sr(function(e){var t=Ss(e),n=Xt(e,Ur);return t===Ss(n)?t=o:n.pop(),n.length&&n[0]===e[0]?nr(n,Lo(t,2)):[]}),xs=Sr(function(e){var t=Ss(e),n=Xt(e,Ur);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?nr(n,o,t):[]});function Ss(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Rs=Sr(Es);function Es(e,t){return e&&e.length&&t&&t.length?br(e,t):e}var As=Po(function(e,t){var n=null==e?0:e.length,i=Ti(e,t);return wr(e,Xt(t,function(e){return Ko(e,n)?+e:e}).sort(Xr)),i});function _s(e){return null==e?e:$n.call(e)}var ks=Sr(function(e){return Fr(Ui(e,1,wa,!0))}),Ms=Sr(function(e){var t=Ss(e);return wa(t)&&(t=o),Fr(Ui(e,1,wa,!0),Lo(t,2))}),Ps=Sr(function(e){var t=Ss(e);return t="function"==typeof t?t:o,Fr(Ui(e,1,wa,!0),o,t)});function Os(e){if(!e||!e.length)return[];var t=0;return e=$t(e,function(e){if(wa(e))return t=Gn(e.length,t),!0}),vn(t,function(t){return Xt(e,dn(t))})}function Ds(e,t){if(!e||!e.length)return[];var n=Os(e);return null==t?n:Xt(n,function(e){return Gt(t,o,e)})}var Ts=Sr(function(e,t){return wa(e)?ji(e,t):[]}),Hs=Sr(function(e){return Vr($t(e,wa))}),Is=Sr(function(e){var t=Ss(e);return wa(t)&&(t=o),Vr($t(e,wa),Lo(t,2))}),Ls=Sr(function(e){var t=Ss(e);return t="function"==typeof t?t:o,Vr($t(e,wa),o,t)}),Fs=Sr(Os);var js=Sr(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,Ds(e,n)});function Ns(e){var t=fi(e);return t.__chain__=!0,t}function Bs(e,t){return t(e)}var zs=Po(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return Ti(t,e)};return!(t>1||this.__actions__.length)&&i instanceof mi&&Ko(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:Bs,args:[r],thisArg:o}),new vi(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(r)});var Vs=ro(function(e,t,n){ct.call(e,n)?++e[n]:Di(e,n,1)});var Ws=ho(vs),Us=ho(ms);function Gs(e,t){return(ma(e)?Yt:Ni)(e,Lo(t,3))}function Ks(e,t){return(ma(e)?Zt:Bi)(e,Lo(t,3))}var Ys=ro(function(e,t,n){ct.call(e,n)?e[n].push(t):Di(e,n,[t])});var Zs=Sr(function(e,t,n){var r=-1,o="function"==typeof t,s=ba(e)?i(e.length):[];return Ni(e,function(e){s[++r]=o?Gt(t,e,n):ir(e,t,n)}),s}),Qs=ro(function(e,t,n){Di(e,n,t)});function $s(e,t){return(ma(e)?Xt:dr)(e,Lo(t,3))}var Js=ro(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var qs=Sr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Yo(e,t[0],t[1])?t=[]:n>2&&Yo(t[0],t[1],t[2])&&(t=[t[0]]),mr(e,Ui(t,1),[])}),Xs=Ln||function(){return Tt.Date.now()};function ea(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Eo(e,R,o,o,o,o,t)}function ta(e,t){var n;if("function"!=typeof t)throw new rt(l);return e=za(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var na=Sr(function(e,t,n){var i=m;if(n.length){var r=kn(n,Io(na));i|=x}return Eo(e,i,t,n,r)}),ia=Sr(function(e,t,n){var i=m|y;if(n.length){var r=kn(n,Io(ia));i|=x}return Eo(t,i,e,n,r)});function ra(e,t,n){var i,r,s,a,u,c,h=0,d=!1,f=!1,g=!0;if("function"!=typeof e)throw new rt(l);function p(t){var n=i,s=r;return i=r=o,h=t,a=e.apply(s,n)}function v(e){var n=e-c;return c===o||n>=t||n<0||f&&e-h>=s}function m(){var e=Xs();if(v(e))return y(e);u=rs(m,function(e){var n=t-(e-c);return f?Kn(n,s-(e-h)):n}(e))}function y(e){return u=o,g&&i?p(e):(i=r=o,a)}function b(){var e=Xs(),n=v(e);if(i=arguments,r=this,c=e,n){if(u===o)return function(e){return h=e,u=rs(m,t),d?p(e):a}(c);if(f)return u=rs(m,t),p(c)}return u===o&&(u=rs(m,t)),a}return t=Wa(t)||0,_a(n)&&(d=!!n.leading,s=(f="maxWait"in n)?Gn(Wa(n.maxWait)||0,t):s,g="trailing"in n?!!n.trailing:g),b.cancel=function(){u!==o&&Qr(u),h=0,i=c=r=u=o},b.flush=function(){return u===o?a:y(Xs())},b}var oa=Sr(function(e,t){return Fi(e,1,t)}),sa=Sr(function(e,t,n){return Fi(e,Wa(t)||0,n)});function aa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new rt(l);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(aa.Cache||wi),n}function la(e){if("function"!=typeof e)throw new rt(l);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}aa.Cache=wi;var ua=Yr(function(e,t){var n=(t=1==t.length&&ma(t[0])?Xt(t[0],mn(Lo())):Xt(Ui(t,1),mn(Lo()))).length;return Sr(function(i){for(var r=-1,o=Kn(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return Gt(e,this,i)})}),ca=Sr(function(e,t){var n=kn(t,Io(ca));return Eo(e,x,o,t,n)}),ha=Sr(function(e,t){var n=kn(t,Io(ha));return Eo(e,S,o,t,n)}),da=Po(function(e,t){return Eo(e,E,o,o,o,t)});function fa(e,t){return e===t||e!=e&&t!=t}var ga=wo(Xi),pa=wo(function(e,t){return e>=t}),va=rr(function(){return arguments}())?rr:function(e){return ka(e)&&ct.call(e,"callee")&&!Ht.call(e,"callee")},ma=i.isArray,ya=Nt?mn(Nt):function(e){return ka(e)&&qi(e)==le};function ba(e){return null!=e&&Aa(e.length)&&!Ra(e)}function wa(e){return ka(e)&&ba(e)}var Ca=zn||Wl,xa=Bt?mn(Bt):function(e){return ka(e)&&qi(e)==G};function Sa(e){if(!ka(e))return!1;var t=qi(e);return t==Y||t==K||"string"==typeof e.message&&"string"==typeof e.name&&!Oa(e)}function Ra(e){if(!_a(e))return!1;var t=qi(e);return t==Z||t==Q||t==W||t==ee}function Ea(e){return"number"==typeof e&&e==za(e)}function Aa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=H}function _a(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ka(e){return null!=e&&"object"==typeof e}var Ma=zt?mn(zt):function(e){return ka(e)&&Vo(e)==$};function Pa(e){return"number"==typeof e||ka(e)&&qi(e)==J}function Oa(e){if(!ka(e)||qi(e)!=X)return!1;var t=Ot(e);if(null===t)return!0;var n=ct.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ut.call(n)==gt}var Da=Vt?mn(Vt):function(e){return ka(e)&&qi(e)==te};var Ta=Wt?mn(Wt):function(e){return ka(e)&&Vo(e)==ne};function Ha(e){return"string"==typeof e||!ma(e)&&ka(e)&&qi(e)==ie}function Ia(e){return"symbol"==typeof e||ka(e)&&qi(e)==re}var La=Ut?mn(Ut):function(e){return ka(e)&&Aa(e.length)&&!!At[qi(e)]};var Fa=wo(hr),ja=wo(function(e,t){return e<=t});function Na(e){if(!e)return[];if(ba(e))return Ha(e)?Dn(e):no(e);if(jt&&e[jt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[jt]());var t=Vo(e);return(t==$?An:t==ne?Mn:fl)(e)}function Ba(e){return e?(e=Wa(e))===T||e===-T?(e<0?-1:1)*I:e==e?e:0:0===e?e:0}function za(e){var t=Ba(e),n=t%1;return t==t?n?t-n:t:0}function Va(e){return e?Hi(za(e),0,F):0}function Wa(e){if("number"==typeof e)return e;if(Ia(e))return L;if(_a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(He,"");var n=Ge.test(e);return n||Ye.test(e)?Pt(e.slice(2),n?2:8):Ue.test(e)?L:+e}function Ua(e){return io(e,ol(e))}function Ga(e){return null==e?"":Lr(e)}var Ka=oo(function(e,t){if(Jo(t)||ba(t))io(t,rl(t),e);else for(var n in t)ct.call(t,n)&&ki(e,n,t[n])}),Ya=oo(function(e,t){io(t,ol(t),e)}),Za=oo(function(e,t,n,i){io(t,ol(t),e,i)}),Qa=oo(function(e,t,n,i){io(t,rl(t),e,i)}),$a=Po(Ti);var Ja=Sr(function(e,t){e=tt(e);var n=-1,i=t.length,r=i>2?t[2]:o;for(r&&Yo(t[0],t[1],r)&&(i=1);++n<i;)for(var s=t[n],a=ol(s),l=-1,u=a.length;++l<u;){var c=a[l],h=e[c];(h===o||fa(h,at[c])&&!ct.call(e,c))&&(e[c]=s[c])}return e}),qa=Sr(function(e){return e.push(o,_o),Gt(al,o,e)});function Xa(e,t,n){var i=null==e?o:$i(e,t);return i===o?n:i}function el(e,t){return null!=e&&Wo(e,t,tr)}var tl=po(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),e[t]=n},_l(Pl)),nl=po(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),ct.call(e,t)?e[t].push(n):e[t]=[n]},Lo),il=Sr(ir);function rl(e){return ba(e)?Si(e):ur(e)}function ol(e){return ba(e)?Si(e,!0):cr(e)}var sl=oo(function(e,t,n){pr(e,t,n)}),al=oo(function(e,t,n,i){pr(e,t,n,i)}),ll=Po(function(e,t){var n={};if(null==e)return n;var i=!1;t=Xt(t,function(t){return t=Kr(t,e),i||(i=t.length>1),t}),io(e,Do(e),n),i&&(n=Ii(n,d|f|g,ko));for(var r=t.length;r--;)jr(n,t[r]);return n});var ul=Po(function(e,t){return null==e?{}:function(e,t){return yr(e,t,function(t,n){return el(e,n)})}(e,t)});function cl(e,t){if(null==e)return{};var n=Xt(Do(e),function(e){return[e]});return t=Lo(t),yr(e,n,function(e,n){return t(e,n[0])})}var hl=Ro(rl),dl=Ro(ol);function fl(e){return null==e?[]:yn(e,rl(e))}var gl=uo(function(e,t,n){return t=t.toLowerCase(),e+(n?pl(t):t)});function pl(e){return Sl(Ga(e).toLowerCase())}function vl(e){return(e=Ga(e))&&e.replace(Qe,xn).replace(bt,"")}var ml=uo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),yl=uo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),bl=lo("toLowerCase");var wl=uo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Cl=uo(function(e,t,n){return e+(n?" ":"")+Sl(t)});var xl=uo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Sl=lo("toUpperCase");function Rl(e,t,n){return e=Ga(e),(t=n?o:t)===o?function(e){return St.test(e)}(e)?function(e){return e.match(Ct)||[]}(e):function(e){return e.match(Be)||[]}(e):e.match(t)||[]}var El=Sr(function(e,t){try{return Gt(e,o,t)}catch(e){return Sa(e)?e:new qe(e)}}),Al=Po(function(e,t){return Yt(t,function(t){t=cs(t),Di(e,t,na(e[t],e))}),e});function _l(e){return function(){return e}}var kl=fo(),Ml=fo(!0);function Pl(e){return e}function Ol(e){return lr("function"==typeof e?e:Ii(e,d))}var Dl=Sr(function(e,t){return function(n){return ir(n,e,t)}}),Tl=Sr(function(e,t){return function(n){return ir(e,n,t)}});function Hl(e,t,n){var i=rl(t),r=Qi(t,i);null!=n||_a(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Qi(t,rl(t)));var o=!(_a(n)&&"chain"in n&&!n.chain),s=Ra(e);return Yt(r,function(n){var i=t[n];e[n]=i,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=no(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,en([this.value()],arguments))})}),e}function Il(){}var Ll=mo(Xt),Fl=mo(Qt),jl=mo(rn);function Nl(e){return Zo(e)?dn(cs(e)):function(e){return function(t){return $i(t,e)}}(e)}var Bl=bo(),zl=bo(!0);function Vl(){return[]}function Wl(){return!1}var Ul=vo(function(e,t){return e+t},0),Gl=xo("ceil"),Kl=vo(function(e,t){return e/t},1),Yl=xo("floor");var Zl,Ql=vo(function(e,t){return e*t},1),$l=xo("round"),Jl=vo(function(e,t){return e-t},0);return fi.after=function(e,t){if("function"!=typeof t)throw new rt(l);return e=za(e),function(){if(--e<1)return t.apply(this,arguments)}},fi.ary=ea,fi.assign=Ka,fi.assignIn=Ya,fi.assignInWith=Za,fi.assignWith=Qa,fi.at=$a,fi.before=ta,fi.bind=na,fi.bindAll=Al,fi.bindKey=ia,fi.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ma(e)?e:[e]},fi.chain=Ns,fi.chunk=function(e,t,n){t=(n?Yo(e,t,n):t===o)?1:Gn(za(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var s=0,a=0,l=i(jn(r/t));s<r;)l[a++]=Pr(e,s,s+=t);return l},fi.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},fi.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return en(ma(n)?no(n):[n],Ui(t,1))},fi.cond=function(e){var t=null==e?0:e.length,n=Lo();return e=t?Xt(e,function(e){if("function"!=typeof e[1])throw new rt(l);return[n(e[0]),e[1]]}):[],Sr(function(n){for(var i=-1;++i<t;){var r=e[i];if(Gt(r[0],this,n))return Gt(r[1],this,n)}})},fi.conforms=function(e){return function(e){var t=rl(e);return function(n){return Li(n,e,t)}}(Ii(e,d))},fi.constant=_l,fi.countBy=Vs,fi.create=function(e,t){var n=gi(e);return null==t?n:Oi(n,t)},fi.curry=function e(t,n,i){var r=Eo(t,w,o,o,o,o,o,n=i?o:n);return r.placeholder=e.placeholder,r},fi.curryRight=function e(t,n,i){var r=Eo(t,C,o,o,o,o,o,n=i?o:n);return r.placeholder=e.placeholder,r},fi.debounce=ra,fi.defaults=Ja,fi.defaultsDeep=qa,fi.defer=oa,fi.delay=sa,fi.difference=fs,fi.differenceBy=gs,fi.differenceWith=ps,fi.drop=function(e,t,n){var i=null==e?0:e.length;return i?Pr(e,(t=n||t===o?1:za(t))<0?0:t,i):[]},fi.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Pr(e,0,(t=i-(t=n||t===o?1:za(t)))<0?0:t):[]},fi.dropRightWhile=function(e,t){return e&&e.length?Br(e,Lo(t,3),!0,!0):[]},fi.dropWhile=function(e,t){return e&&e.length?Br(e,Lo(t,3),!0):[]},fi.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Yo(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=za(n))<0&&(n=-n>r?0:r+n),(i=i===o||i>r?r:za(i))<0&&(i+=r),i=n>i?0:Va(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},fi.filter=function(e,t){return(ma(e)?$t:Wi)(e,Lo(t,3))},fi.flatMap=function(e,t){return Ui($s(e,t),1)},fi.flatMapDeep=function(e,t){return Ui($s(e,t),T)},fi.flatMapDepth=function(e,t,n){return n=n===o?1:za(n),Ui($s(e,t),n)},fi.flatten=ys,fi.flattenDeep=function(e){return null!=e&&e.length?Ui(e,T):[]},fi.flattenDepth=function(e,t){return null!=e&&e.length?Ui(e,t=t===o?1:za(t)):[]},fi.flip=function(e){return Eo(e,A)},fi.flow=kl,fi.flowRight=Ml,fi.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},fi.functions=function(e){return null==e?[]:Qi(e,rl(e))},fi.functionsIn=function(e){return null==e?[]:Qi(e,ol(e))},fi.groupBy=Ys,fi.initial=function(e){return null!=e&&e.length?Pr(e,0,-1):[]},fi.intersection=ws,fi.intersectionBy=Cs,fi.intersectionWith=xs,fi.invert=tl,fi.invertBy=nl,fi.invokeMap=Zs,fi.iteratee=Ol,fi.keyBy=Qs,fi.keys=rl,fi.keysIn=ol,fi.map=$s,fi.mapKeys=function(e,t){var n={};return t=Lo(t,3),Yi(e,function(e,i,r){Di(n,t(e,i,r),e)}),n},fi.mapValues=function(e,t){var n={};return t=Lo(t,3),Yi(e,function(e,i,r){Di(n,i,t(e,i,r))}),n},fi.matches=function(e){return fr(Ii(e,d))},fi.matchesProperty=function(e,t){return gr(e,Ii(t,d))},fi.memoize=aa,fi.merge=sl,fi.mergeWith=al,fi.method=Dl,fi.methodOf=Tl,fi.mixin=Hl,fi.negate=la,fi.nthArg=function(e){return e=za(e),Sr(function(t){return vr(t,e)})},fi.omit=ll,fi.omitBy=function(e,t){return cl(e,la(Lo(t)))},fi.once=function(e){return ta(2,e)},fi.orderBy=function(e,t,n,i){return null==e?[]:(ma(t)||(t=null==t?[]:[t]),ma(n=i?o:n)||(n=null==n?[]:[n]),mr(e,t,n))},fi.over=Ll,fi.overArgs=ua,fi.overEvery=Fl,fi.overSome=jl,fi.partial=ca,fi.partialRight=ha,fi.partition=Js,fi.pick=ul,fi.pickBy=cl,fi.property=Nl,fi.propertyOf=function(e){return function(t){return null==e?o:$i(e,t)}},fi.pull=Rs,fi.pullAll=Es,fi.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?br(e,t,Lo(n,2)):e},fi.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?br(e,t,o,n):e},fi.pullAt=As,fi.range=Bl,fi.rangeRight=zl,fi.rearg=da,fi.reject=function(e,t){return(ma(e)?$t:Wi)(e,la(Lo(t,3)))},fi.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=Lo(t,3);++i<o;){var s=e[i];t(s,i,e)&&(n.push(s),r.push(i))}return wr(e,r),n},fi.rest=function(e,t){if("function"!=typeof e)throw new rt(l);return Sr(e,t=t===o?t:za(t))},fi.reverse=_s,fi.sampleSize=function(e,t,n){return t=(n?Yo(e,t,n):t===o)?1:za(t),(ma(e)?Ei:Er)(e,t)},fi.set=function(e,t,n){return null==e?e:Ar(e,t,n)},fi.setWith=function(e,t,n,i){return i="function"==typeof i?i:o,null==e?e:Ar(e,t,n,i)},fi.shuffle=function(e){return(ma(e)?Ai:Mr)(e)},fi.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Yo(e,t,n)?(t=0,n=i):(t=null==t?0:za(t),n=n===o?i:za(n)),Pr(e,t,n)):[]},fi.sortBy=qs,fi.sortedUniq=function(e){return e&&e.length?Hr(e):[]},fi.sortedUniqBy=function(e,t){return e&&e.length?Hr(e,Lo(t,2)):[]},fi.split=function(e,t,n){return n&&"number"!=typeof n&&Yo(e,t,n)&&(t=n=o),(n=n===o?F:n>>>0)?(e=Ga(e))&&("string"==typeof t||null!=t&&!Da(t))&&!(t=Lr(t))&&En(e)?Zr(Dn(e),0,n):e.split(t,n):[]},fi.spread=function(e,t){if("function"!=typeof e)throw new rt(l);return t=null==t?0:Gn(za(t),0),Sr(function(n){var i=n[t],r=Zr(n,0,t);return i&&en(r,i),Gt(e,this,r)})},fi.tail=function(e){var t=null==e?0:e.length;return t?Pr(e,1,t):[]},fi.take=function(e,t,n){return e&&e.length?Pr(e,0,(t=n||t===o?1:za(t))<0?0:t):[]},fi.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Pr(e,(t=i-(t=n||t===o?1:za(t)))<0?0:t,i):[]},fi.takeRightWhile=function(e,t){return e&&e.length?Br(e,Lo(t,3),!1,!0):[]},fi.takeWhile=function(e,t){return e&&e.length?Br(e,Lo(t,3)):[]},fi.tap=function(e,t){return t(e),e},fi.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new rt(l);return _a(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ra(e,t,{leading:i,maxWait:t,trailing:r})},fi.thru=Bs,fi.toArray=Na,fi.toPairs=hl,fi.toPairsIn=dl,fi.toPath=function(e){return ma(e)?Xt(e,cs):Ia(e)?[e]:no(us(Ga(e)))},fi.toPlainObject=Ua,fi.transform=function(e,t,n){var i=ma(e),r=i||Ca(e)||La(e);if(t=Lo(t,4),null==n){var o=e&&e.constructor;n=r?i?new o:[]:_a(e)&&Ra(o)?gi(Ot(e)):{}}return(r?Yt:Yi)(e,function(e,i,r){return t(n,e,i,r)}),n},fi.unary=function(e){return ea(e,1)},fi.union=ks,fi.unionBy=Ms,fi.unionWith=Ps,fi.uniq=function(e){return e&&e.length?Fr(e):[]},fi.uniqBy=function(e,t){return e&&e.length?Fr(e,Lo(t,2)):[]},fi.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?Fr(e,o,t):[]},fi.unset=function(e,t){return null==e||jr(e,t)},fi.unzip=Os,fi.unzipWith=Ds,fi.update=function(e,t,n){return null==e?e:Nr(e,t,Gr(n))},fi.updateWith=function(e,t,n,i){return i="function"==typeof i?i:o,null==e?e:Nr(e,t,Gr(n),i)},fi.values=fl,fi.valuesIn=function(e){return null==e?[]:yn(e,ol(e))},fi.without=Ts,fi.words=Rl,fi.wrap=function(e,t){return ca(Gr(t),e)},fi.xor=Hs,fi.xorBy=Is,fi.xorWith=Ls,fi.zip=Fs,fi.zipObject=function(e,t){return Wr(e||[],t||[],ki)},fi.zipObjectDeep=function(e,t){return Wr(e||[],t||[],Ar)},fi.zipWith=js,fi.entries=hl,fi.entriesIn=dl,fi.extend=Ya,fi.extendWith=Za,Hl(fi,fi),fi.add=Ul,fi.attempt=El,fi.camelCase=gl,fi.capitalize=pl,fi.ceil=Gl,fi.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=Wa(n))==n?n:0),t!==o&&(t=(t=Wa(t))==t?t:0),Hi(Wa(e),t,n)},fi.clone=function(e){return Ii(e,g)},fi.cloneDeep=function(e){return Ii(e,d|g)},fi.cloneDeepWith=function(e,t){return Ii(e,d|g,t="function"==typeof t?t:o)},fi.cloneWith=function(e,t){return Ii(e,g,t="function"==typeof t?t:o)},fi.conformsTo=function(e,t){return null==t||Li(e,t,rl(t))},fi.deburr=vl,fi.defaultTo=function(e,t){return null==e||e!=e?t:e},fi.divide=Kl,fi.endsWith=function(e,t,n){e=Ga(e),t=Lr(t);var i=e.length,r=n=n===o?i:Hi(za(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},fi.eq=fa,fi.escape=function(e){return(e=Ga(e))&&Ee.test(e)?e.replace(Se,Sn):e},fi.escapeRegExp=function(e){return(e=Ga(e))&&Te.test(e)?e.replace(De,"\\$&"):e},fi.every=function(e,t,n){var i=ma(e)?Qt:zi;return n&&Yo(e,t,n)&&(t=o),i(e,Lo(t,3))},fi.find=Ws,fi.findIndex=vs,fi.findKey=function(e,t){return sn(e,Lo(t,3),Yi)},fi.findLast=Us,fi.findLastIndex=ms,fi.findLastKey=function(e,t){return sn(e,Lo(t,3),Zi)},fi.floor=Yl,fi.forEach=Gs,fi.forEachRight=Ks,fi.forIn=function(e,t){return null==e?e:Gi(e,Lo(t,3),ol)},fi.forInRight=function(e,t){return null==e?e:Ki(e,Lo(t,3),ol)},fi.forOwn=function(e,t){return e&&Yi(e,Lo(t,3))},fi.forOwnRight=function(e,t){return e&&Zi(e,Lo(t,3))},fi.get=Xa,fi.gt=ga,fi.gte=pa,fi.has=function(e,t){return null!=e&&Wo(e,t,er)},fi.hasIn=el,fi.head=bs,fi.identity=Pl,fi.includes=function(e,t,n,i){e=ba(e)?e:fl(e),n=n&&!i?za(n):0;var r=e.length;return n<0&&(n=Gn(r+n,0)),Ha(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&ln(e,t,n)>-1},fi.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:za(n);return r<0&&(r=Gn(i+r,0)),ln(e,t,r)},fi.inRange=function(e,t,n){return t=Ba(t),n===o?(n=t,t=0):n=Ba(n),function(e,t,n){return e>=Kn(t,n)&&e<Gn(t,n)}(e=Wa(e),t,n)},fi.invoke=il,fi.isArguments=va,fi.isArray=ma,fi.isArrayBuffer=ya,fi.isArrayLike=ba,fi.isArrayLikeObject=wa,fi.isBoolean=function(e){return!0===e||!1===e||ka(e)&&qi(e)==U},fi.isBuffer=Ca,fi.isDate=xa,fi.isElement=function(e){return ka(e)&&1===e.nodeType&&!Oa(e)},fi.isEmpty=function(e){if(null==e)return!0;if(ba(e)&&(ma(e)||"string"==typeof e||"function"==typeof e.splice||Ca(e)||La(e)||va(e)))return!e.length;var t=Vo(e);if(t==$||t==ne)return!e.size;if(Jo(e))return!ur(e).length;for(var n in e)if(ct.call(e,n))return!1;return!0},fi.isEqual=function(e,t){return or(e,t)},fi.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:o)?n(e,t):o;return i===o?or(e,t,o,n):!!i},fi.isError=Sa,fi.isFinite=function(e){return"number"==typeof e&&Vn(e)},fi.isFunction=Ra,fi.isInteger=Ea,fi.isLength=Aa,fi.isMap=Ma,fi.isMatch=function(e,t){return e===t||sr(e,t,jo(t))},fi.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,sr(e,t,jo(t),n)},fi.isNaN=function(e){return Pa(e)&&e!=+e},fi.isNative=function(e){if($o(e))throw new qe(a);return ar(e)},fi.isNil=function(e){return null==e},fi.isNull=function(e){return null===e},fi.isNumber=Pa,fi.isObject=_a,fi.isObjectLike=ka,fi.isPlainObject=Oa,fi.isRegExp=Da,fi.isSafeInteger=function(e){return Ea(e)&&e>=-H&&e<=H},fi.isSet=Ta,fi.isString=Ha,fi.isSymbol=Ia,fi.isTypedArray=La,fi.isUndefined=function(e){return e===o},fi.isWeakMap=function(e){return ka(e)&&Vo(e)==se},fi.isWeakSet=function(e){return ka(e)&&qi(e)==ae},fi.join=function(e,t){return null==e?"":Wn.call(e,t)},fi.kebabCase=ml,fi.last=Ss,fi.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return n!==o&&(r=(r=za(n))<0?Gn(i+r,0):Kn(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):an(e,cn,r,!0)},fi.lowerCase=yl,fi.lowerFirst=bl,fi.lt=Fa,fi.lte=ja,fi.max=function(e){return e&&e.length?Vi(e,Pl,Xi):o},fi.maxBy=function(e,t){return e&&e.length?Vi(e,Lo(t,2),Xi):o},fi.mean=function(e){return hn(e,Pl)},fi.meanBy=function(e,t){return hn(e,Lo(t,2))},fi.min=function(e){return e&&e.length?Vi(e,Pl,hr):o},fi.minBy=function(e,t){return e&&e.length?Vi(e,Lo(t,2),hr):o},fi.stubArray=Vl,fi.stubFalse=Wl,fi.stubObject=function(){return{}},fi.stubString=function(){return""},fi.stubTrue=function(){return!0},fi.multiply=Ql,fi.nth=function(e,t){return e&&e.length?vr(e,za(t)):o},fi.noConflict=function(){return Tt._===this&&(Tt._=pt),this},fi.noop=Il,fi.now=Xs,fi.pad=function(e,t,n){e=Ga(e);var i=(t=za(t))?On(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return yo(Nn(r),n)+e+yo(jn(r),n)},fi.padEnd=function(e,t,n){e=Ga(e);var i=(t=za(t))?On(e):0;return t&&i<t?e+yo(t-i,n):e},fi.padStart=function(e,t,n){e=Ga(e);var i=(t=za(t))?On(e):0;return t&&i<t?yo(t-i,n)+e:e},fi.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Zn(Ga(e).replace(Ie,""),t||0)},fi.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Yo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Ba(e),t===o?(t=e,e=0):t=Ba(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=Qn();return Kn(e+r*(t-e+Mt("1e-"+((r+"").length-1))),t)}return Cr(e,t)},fi.reduce=function(e,t,n){var i=ma(e)?tn:gn,r=arguments.length<3;return i(e,Lo(t,4),n,r,Ni)},fi.reduceRight=function(e,t,n){var i=ma(e)?nn:gn,r=arguments.length<3;return i(e,Lo(t,4),n,r,Bi)},fi.repeat=function(e,t,n){return t=(n?Yo(e,t,n):t===o)?1:za(t),xr(Ga(e),t)},fi.replace=function(){var e=arguments,t=Ga(e[0]);return e.length<3?t:t.replace(e[1],e[2])},fi.result=function(e,t,n){var i=-1,r=(t=Kr(t,e)).length;for(r||(r=1,e=o);++i<r;){var s=null==e?o:e[cs(t[i])];s===o&&(i=r,s=n),e=Ra(s)?s.call(e):s}return e},fi.round=$l,fi.runInContext=e,fi.sample=function(e){return(ma(e)?Ri:Rr)(e)},fi.size=function(e){if(null==e)return 0;if(ba(e))return Ha(e)?On(e):e.length;var t=Vo(e);return t==$||t==ne?e.size:ur(e).length},fi.snakeCase=wl,fi.some=function(e,t,n){var i=ma(e)?rn:Or;return n&&Yo(e,t,n)&&(t=o),i(e,Lo(t,3))},fi.sortedIndex=function(e,t){return Dr(e,t)},fi.sortedIndexBy=function(e,t,n){return Tr(e,t,Lo(n,2))},fi.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Dr(e,t);if(i<n&&fa(e[i],t))return i}return-1},fi.sortedLastIndex=function(e,t){return Dr(e,t,!0)},fi.sortedLastIndexBy=function(e,t,n){return Tr(e,t,Lo(n,2),!0)},fi.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Dr(e,t,!0)-1;if(fa(e[n],t))return n}return-1},fi.startCase=Cl,fi.startsWith=function(e,t,n){return e=Ga(e),n=null==n?0:Hi(za(n),0,e.length),t=Lr(t),e.slice(n,n+t.length)==t},fi.subtract=Jl,fi.sum=function(e){return e&&e.length?pn(e,Pl):0},fi.sumBy=function(e,t){return e&&e.length?pn(e,Lo(t,2)):0},fi.template=function(e,t,n){var i=fi.templateSettings;n&&Yo(e,t,n)&&(t=o),e=Ga(e),t=Za({},t,i,Ao);var r,s,a=Za({},t.imports,i.imports,Ao),l=rl(a),u=yn(a,l),c=0,h=t.interpolate||$e,d="__p += '",f=nt((t.escape||$e).source+"|"+h.source+"|"+(h===ke?Ve:$e).source+"|"+(t.evaluate||$e).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Et+"]")+"\n";e.replace(f,function(t,n,i,o,a,l){return i||(i=o),d+=e.slice(c,l).replace(Je,Rn),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),d+="';\n";var p=t.variable;p||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(be,""):d).replace(we,"$1").replace(Ce,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=El(function(){return Xe(l,g+"return "+d).apply(o,u)});if(v.source=d,Sa(v))throw v;return v},fi.times=function(e,t){if((e=za(e))<1||e>H)return[];var n=F,i=Kn(e,F);t=Lo(t),e-=F;for(var r=vn(i,t);++n<e;)t(n);return r},fi.toFinite=Ba,fi.toInteger=za,fi.toLength=Va,fi.toLower=function(e){return Ga(e).toLowerCase()},fi.toNumber=Wa,fi.toSafeInteger=function(e){return e?Hi(za(e),-H,H):0===e?e:0},fi.toString=Ga,fi.toUpper=function(e){return Ga(e).toUpperCase()},fi.trim=function(e,t,n){if((e=Ga(e))&&(n||t===o))return e.replace(He,"");if(!e||!(t=Lr(t)))return e;var i=Dn(e),r=Dn(t);return Zr(i,wn(i,r),Cn(i,r)+1).join("")},fi.trimEnd=function(e,t,n){if((e=Ga(e))&&(n||t===o))return e.replace(Le,"");if(!e||!(t=Lr(t)))return e;var i=Dn(e);return Zr(i,0,Cn(i,Dn(t))+1).join("")},fi.trimStart=function(e,t,n){if((e=Ga(e))&&(n||t===o))return e.replace(Ie,"");if(!e||!(t=Lr(t)))return e;var i=Dn(e);return Zr(i,wn(i,Dn(t))).join("")},fi.truncate=function(e,t){var n=_,i=k;if(_a(t)){var r="separator"in t?t.separator:r;n="length"in t?za(t.length):n,i="omission"in t?Lr(t.omission):i}var s=(e=Ga(e)).length;if(En(e)){var a=Dn(e);s=a.length}if(n>=s)return e;var l=n-On(i);if(l<1)return i;var u=a?Zr(a,0,l).join(""):e.slice(0,l);if(r===o)return u+i;if(a&&(l+=u.length-l),Da(r)){if(e.slice(l).search(r)){var c,h=u;for(r.global||(r=nt(r.source,Ga(We.exec(r))+"g")),r.lastIndex=0;c=r.exec(h);)var d=c.index;u=u.slice(0,d===o?l:d)}}else if(e.indexOf(Lr(r),l)!=l){var f=u.lastIndexOf(r);f>-1&&(u=u.slice(0,f))}return u+i},fi.unescape=function(e){return(e=Ga(e))&&Re.test(e)?e.replace(xe,Tn):e},fi.uniqueId=function(e){var t=++ht;return Ga(e)+t},fi.upperCase=xl,fi.upperFirst=Sl,fi.each=Gs,fi.eachRight=Ks,fi.first=bs,Hl(fi,(Zl={},Yi(fi,function(e,t){ct.call(fi.prototype,t)||(Zl[t]=e)}),Zl),{chain:!1}),fi.VERSION="4.17.11",Yt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){fi[e].placeholder=fi}),Yt(["drop","take"],function(e,t){mi.prototype[e]=function(n){n=n===o?1:Gn(za(n),0);var i=this.__filtered__&&!t?new mi(this):this.clone();return i.__filtered__?i.__takeCount__=Kn(n,i.__takeCount__):i.__views__.push({size:Kn(n,F),type:e+(i.__dir__<0?"Right":"")}),i},mi.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Yt(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==O||3==n;mi.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Lo(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),Yt(["head","last"],function(e,t){var n="take"+(t?"Right":"");mi.prototype[e]=function(){return this[n](1).value()[0]}}),Yt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");mi.prototype[e]=function(){return this.__filtered__?new mi(this):this[n](1)}}),mi.prototype.compact=function(){return this.filter(Pl)},mi.prototype.find=function(e){return this.filter(e).head()},mi.prototype.findLast=function(e){return this.reverse().find(e)},mi.prototype.invokeMap=Sr(function(e,t){return"function"==typeof e?new mi(this):this.map(function(n){return ir(n,e,t)})}),mi.prototype.reject=function(e){return this.filter(la(Lo(e)))},mi.prototype.slice=function(e,t){e=za(e);var n=this;return n.__filtered__&&(e>0||t<0)?new mi(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=za(t))<0?n.dropRight(-t):n.take(t-e)),n)},mi.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},mi.prototype.toArray=function(){return this.take(F)},Yi(mi.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=fi[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);r&&(fi.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,l=t instanceof mi,u=a[0],c=l||ma(t),h=function(e){var t=r.apply(fi,en([e],a));return i&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,g=s&&!d,p=l&&!f;if(!s&&c){t=p?t:new mi(this);var v=e.apply(t,a);return v.__actions__.push({func:Bs,args:[h],thisArg:o}),new vi(v,d)}return g&&p?e.apply(this,a):(v=this.thru(h),g?i?v.value()[0]:v.value():v)})}),Yt(["pop","push","shift","sort","splice","unshift"],function(e){var t=ot[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);fi.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(ma(r)?r:[],e)}return this[n](function(n){return t.apply(ma(n)?n:[],e)})}}),Yi(mi.prototype,function(e,t){var n=fi[t];if(n){var i=n.name+"";(ri[i]||(ri[i]=[])).push({name:t,func:n})}}),ri[go(o,y).name]=[{name:"wrapper",func:o}],mi.prototype.clone=function(){var e=new mi(this.__wrapped__);return e.__actions__=no(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=no(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=no(this.__views__),e},mi.prototype.reverse=function(){if(this.__filtered__){var e=new mi(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},mi.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ma(e),i=t<0,r=n?e.length:0,o=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Kn(t,e+s);break;case"takeRight":e=Gn(e,t-s)}}return{start:e,end:t}}(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,h=c.length,d=0,f=Kn(l,this.__takeCount__);if(!n||!i&&r==l&&f==l)return zr(e,this.__actions__);var g=[];e:for(;l--&&d<f;){for(var p=-1,v=e[u+=t];++p<h;){var m=c[p],y=m.iteratee,b=m.type,w=y(v);if(b==D)v=w;else if(!w){if(b==O)continue e;break e}}g[d++]=v}return g},fi.prototype.at=zs,fi.prototype.chain=function(){return Ns(this)},fi.prototype.commit=function(){return new vi(this.value(),this.__chain__)},fi.prototype.next=function(){this.__values__===o&&(this.__values__=Na(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},fi.prototype.plant=function(e){for(var t,n=this;n instanceof pi;){var i=ds(n);i.__index__=0,i.__values__=o,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},fi.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof mi){var t=e;return this.__actions__.length&&(t=new mi(this)),(t=t.reverse()).__actions__.push({func:Bs,args:[_s],thisArg:o}),new vi(t,this.__chain__)}return this.thru(_s)},fi.prototype.toJSON=fi.prototype.valueOf=fi.prototype.value=function(){return zr(this.__wrapped__,this.__actions__)},fi.prototype.first=fi.prototype.head,jt&&(fi.prototype[jt]=function(){return this}),fi}();Tt._=Hn,(r=function(){return Hn}.call(t,n,t,i))===o||(i.exports=r)}).call(this)}).call(this,n(54),n(72)(e))},function(e,t,n){"use strict";n.d(t,"a",function(){return s});n(28),n(60),n(63),n(16),n(82);var i=n(85),r=n.n(i);function o(e,t,n){const i=function(e){const t=document.createElement("div");return t.innerHTML=e,Array.prototype.slice.call(t.children)[0]}(e);!function(e){if(e.content)return;let t;for(e.content=document.createDocumentFragment();t=e.firstChild;)Node.prototype.appendChild.call(e.content,t)}(i),t&&(i.innerHTML="<style>".concat(t.toString(),"</style>")+i.innerHTML),window.ShadyCSS&&window.ShadyCSS.prepareTemplate(i,i.getAttribute("id")),i.innerHTML='<style id="psp_styles" scope="'.concat(i.getAttribute("id"),'">test{}</style>')+i.innerHTML;var r=!0,o=!1,s=void 0;try{for(var a,l=Object.getOwnPropertyNames(n.prototype)[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){let e=a.value,t=Object.getOwnPropertyDescriptor(n.prototype,e);if(t&&t.set){let i=t.set;t.set=function(t){this.getAttribute(e)===t?(this._initializing||this._initialized)&&i.call(this,t):this.setAttribute(e,t)},Object.defineProperty(n.prototype,e,t)}}}catch(e){o=!0,s=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}let u=i.getAttribute("id");console.log("Registered ".concat(u)),window.customElements.define(u,class extends n{attributeChangedCallback(e,t,n){"_"!==e[0]&&t!=n&&(this[e]=n)}connectedCallback(){if(window.ShadyCSS&&window.ShadyCSS.styleElement(this),!this._initialized){for(this._initializing=!0,this._old_children=[];this.hasChildNodes();)1===this.lastChild.nodeType&&this._old_children.push(this.lastChild),this.removeChild(this.lastChild);this._old_children=this._old_children.reverse();var e=document.importNode(i.content,!0);this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(e),super.connectedCallback&&super.connectedCallback();var t=!0,r=!1,o=void 0;try{for(var s,a=Object.getOwnPropertyNames(n.prototype)[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){let e=s.value;"connectedCallback"!==e&&this.hasAttribute(e)&&"_"!==e[0]&&(this[e]=this.getAttribute(e))}}catch(e){r=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw o}}this._initializing=!1,this._initialized=!0}}static get observedAttributes(){return Object.getOwnPropertyNames(n.prototype)}})}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(e=>e.toString()).join("\n");return function(t){return o(e,{toString:()=>r},t)}}function a(e){return function(t,n,i){const r=i.value;return i.set=function(t){let i=this.getAttribute(n);try{if(null==t&&(t=e()),"string"!=typeof t&&(t=JSON.stringify(t)),t!==i)return this.setAttribute(n,t),void(i=t);i=JSON.parse(i)}catch(r){console.error('Invalid value for attribute "'.concat(n,'": ').concat(t)),i=e()}r.call(this,i)},i.get=function(){if(this.hasAttribute(n))return JSON.parse(this.getAttribute(n))},delete i.value,delete i.writable,i}}a(()=>({})),a(()=>[]);function l(e){return new Promise(t=>{const n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=()=>t(n.responseText),n.send(null)})}r()()&&window.addEventListener("load",function(){var e,t,n,i,r,o,s,a,u,c;return regeneratorRuntime.async(function(h){for(;;)switch(h.prev=h.next){case 0:e=document.head.querySelectorAll("link[is=custom-style]"),t=!0,n=!1,i=void 0,h.prev=4,r=e[Symbol.iterator]();case 6:if(t=(o=r.next()).done){h.next=19;break}return s=o.value,a=s.getAttribute("href"),console.log("Loading theme ".concat(a," asynchronously due to IE")),h.next=12,regeneratorRuntime.awrap(l(a));case 12:u=h.sent,h.t0=window.ShadyCSS.CustomStyleInterface,h.t1={getStyle:()=>((c=document.createElement("style")).textContent=u,c)},h.t0.addCustomStyle.call(h.t0,h.t1);case 16:t=!0,h.next=6;break;case 19:h.next=25;break;case 21:h.prev=21,h.t2=h.catch(4),n=!0,i=h.t2;case 25:h.prev=25,h.prev=26,t||null==r.return||r.return();case 28:if(h.prev=28,!n){h.next=31;break}throw i;case 31:return h.finish(28);case 32:return h.finish(25);case 33:case"end":return h.stop()}},null,null,[[4,21,25,33],[26,,28,32]])})},function(e,t){e.exports=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)}},function(e,t,n){(e.exports=n(194)()).push([e.i,':host{position:relative;color:#666;width:100%;height:100%}:host table{font:12px "Open Sans",helvetica,sans-serif}:host td.hover{background-color:#eee}:host tr.hover{background-color:#f6f6f6}:host td.positive{color:#1078d1}:host td.negative{color:#de3838}:host #gridWrapper{box-sizing:border-box;width:100%;height:100%;margin:0;padding:var(--hypergrid--padding,0)}:host #mainGrid{position:relative;width:100%;height:100%;margin:0;padding:0;overflow:hidden}:host #mainGrid>div{position:absolute;width:100%;height:100%}:host #mainGrid input{margin:0}:host div.finbar-vertical{margin:0!important;width:15px!important;box-shadow:0 0 0 #000,0 0 0 #000,0 0 0 #000}:host div.finbar-vertical div.thumb{width:var(--hypergrid-scrollbar--width,13px);right:-1px;background-color:#9e9e9e;box-shadow:0 0 0 #000,0 0 0 #000,0 0 0 #000;margin:0!important;border-radius:var(--hypergrid-scrollbar--border-radius,0)}:host div.finbar-horizontal{margin:0!important;height:15px!important;box-shadow:0 0 0 #000,0 0 0 #000,0 0 0 #000}:host div.finbar-horizontal div.thumb{margin:-3px 2px;height:var(--hypergrid-scrollbar--width,13px);bottom:4px;background-color:#9e9e9e;box-shadow:0 0 0 #000,0 0 0 #000,0 0 0 #000;border-radius:var(--hypergrid-scrollbar--border-radius,0)}',""])},function(e,t,n){"use strict";n.r(t),function(e){n(16),n(28),n(60),n(63);var t=n(84),i=n(86),r=n.n(i);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(s.prototype,HTMLElement.prototype),Object.setPrototypeOf(s,HTMLElement);const a=n(106),l=n(3),u=n(176),c=n(177),h=n(190),d=n(191).treeLineRendererPaint,f=n(192),g=f.psp2hypergrid,p=f.page2hypergrid,v=n(83).cloneDeep,m=n(193),y={autoSelectRows:!1,cellPadding:5,cellSelection:!1,columnSelection:!1,rowSelection:!1,checkboxOnlyRowSelections:!1,columnClip:!0,columnHeaderFont:"12px Helvetica, sans-serif",columnHeaderForegroundSelectionFont:'12px "Arial", Helvetica, sans-serif',columnsReorderable:!1,defaultRowHeight:24,editable:!1,editOnKeydown:!0,editor:"textfield",editorActivationKeys:["alt","esc"],enableContinuousRepaint:!1,fixedColumnCount:0,fixedRowCount:0,fixedLinesHWidth:1,fixedLinesVWidth:1,font:'12px "Arial", Helvetica, sans-serif',foregroundSelectionFont:'12px "Arial", Helvetica, sans-serif',gridLinesH:!1,gridLinesV:!0,gridLinesUserDataArea:!1,halign:"left",headerTextWrapping:!1,hoverColumnHighlight:{enabled:!1},hoverRowHighlight:{enabled:!0,backgroundColor:"#555"},hoverCellHighlight:{enabled:!0,backgroundColor:"#333"},noDataMessage:"",minimumColumnWidth:50,multipleSelections:!1,renderFalsy:!1,rowHeaderFont:"12px Arial, Helvetica, sans-serif",rowHeaderForegroundSelectionFont:'12px "Arial", Helvetica, sans-serif',rowResize:!0,scrollbarHoverOff:"visible",rowHeaderCheckboxes:!1,rowHeaderNumbers:!1,showFilterRow:!0,showHeaderRow:!0,showTreeColumn:!1,singleRowSelectionMode:!1,sortColumns:[],sortOnDoubleClick:!0,treeRenderer:"TreeCell",treeHeaderFont:"12px Arial, Helvetica, sans-serif",treeHeaderForegroundSelectionFont:'12px "Arial", Helvetica, sans-serif',useBitBlit:!1,vScrollbarClassPrefix:"",voffset:0},b={backgroundColor:"#ffffff",color:"#666",lineColor:"#AAA",font:'12px "Open Sans", Helvetica, sans-serif',foregroundSelectionFont:"12px amplitude-regular, Helvetica, sans-serif",foregroundSelectionColor:"#666",backgroundSelectionColor:"rgba(162, 183, 206, 0.3)",selectionRegionOutlineColor:"rgb(45, 64, 85)",columnHeaderColor:"#666",columnHeaderHalign:"left",columnHeaderBackgroundColor:"#fff",columnHeaderForegroundSelectionColor:"#333",columnHeaderBackgroundSelectionColor:"#40536d",rowHeaderForegroundSelectionFont:"12px Arial, Helvetica, sans-serif",treeHeaderColor:"#666",treeHeaderBackgroundColor:"#fff",treeHeaderForegroundSelectionColor:"#333",treeHeaderBackgroundSelectionColor:"#40536d",hoverCellHighlight:{enabled:!0,backgroundColor:"#eeeeee"},hoverRowHighlight:{enabled:!0,backgroundColor:"#f6f6f6"}};function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.format.bind(e);return e.format=e=>{if("string"==typeof e)return e;if(t===e)return"-";let i=n(e);return""===i?"-":i},e}Object(t.a)(m,r.a)(class extends s{set_data(e,t,n,i,r){const o=g(e,t,n,i,r);this.grid?this.grid.behavior.setPSP(o):this._hg_data=o}get_style(e){return window.ShadyCSS?window.ShadyCSS.getComputedStyleValue(this,e):getComputedStyle(this).getPropertyValue(e)}apply_styles(){const e="".concat(this.get_style("--hypergrid--font-size")," ").concat(this.get_style("--hypergrid--font-family")),t="".concat(this.get_style("--hypergrid-header--font-size")," ").concat(this.get_style("--hypergrid-header--font-family")),n={enabled:!0,backgroundColor:this.get_style("--hypergrid-row-hover--background"),color:this.get_style("--hypergrid-row-hover--color")},i={enabled:!0,backgroundColor:this.get_style("--hypergrid-cell-hover--background"),color:this.get_style("--hypergrid-cell-hover--color")},r={treeHeaderBackgroundColor:this.get_style("--hypergrid-tree-header--background"),backgroundColor:this.get_style("--hypergrid-tree-header--background"),treeHeaderColor:this.get_style("--hypergrid-tree-header--color"),color:this.get_style("--hypergrid-tree-header--color"),columnHeaderBackgroundColor:this.get_style("--hypergrid-header--background"),columnHeaderSeparatorColor:this.get_style("--hypergrid-separator--color"),columnHeaderColor:this.get_style("--hypergrid-header--color"),columnColorNumberPositive:this.get_style("--hypergrid-positive--color"),columnColorNumberNegative:this.get_style("--hypergrid-negative--color"),columnBackgroundColorNumberPositive:this.get_style("--hypergrid-positive--background"),columnBackgroundColorNumberNegative:this.get_style("--hypergrid-negative--background"),columnHeaderFont:t,font:e,rowHeaderFont:e,treeHeaderFont:e,hoverRowHighlight:n,hoverCellHighlight:i};this.grid&&this.grid.addProperties(r)}connectedCallback(){if(!this.grid){const t=this.shadowRoot.querySelector("#mainGrid");t.setAttribute("hidden",!0),this.grid=new a(t,{DataModel:h}),this.grid.canvas.stopResizeLoop(),t.removeAttribute("hidden"),this.grid.installPlugins([c,[u,{paintBackground:null,columnHeaderLines:!1,groupConfig:[{halign:"center",font:"12px Open Sans, sans-serif"}]}]]);let n=this.grid.cellRenderers.items.GroupedHeader.paint;this.grid.cellRenderers.items.GroupedHeader.paint=function(e,t){return this.visibleColumns=t.grid.renderer.visibleColumns,n.call(this,e,t)};const i=(e=b,Object.assign({},v(y),v(e)));i.showRowNumbers=i.showCheckboxes||i.showRowNumbers,this.grid.addProperties(i),this.apply_styles(),this.grid.localization.header={format:e=>this.grid.behavior.formatColumnHeader(e)},this.grid.cellRenderers.add("TreeCell",l.extend({paint:d}));const r=w(new this.grid.localization.NumberFormatter("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}));this.grid.localization.add("FinanceFloat",r);const o=w(new this.grid.localization.NumberFormatter("en-us",{}));this.grid.localization.add("FinanceInteger",o);const s=w(new this.grid.localization.DateFormatter("en-us",{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),-1),f=w(new this.grid.localization.DateFormatter("en-us",{week:"numeric",year:"numeric",month:"numeric",day:"numeric"}),-1);this.grid.localization.add("FinanceDatetime",s),this.grid.localization.add("FinanceDate",f),this.grid.localization.add("FinanceTree",{format:function(e,t){const n={date:f,datetime:s,integer:o,float:r}[t];return n?n.format(e):e},parse:e=>e}),this._hg_data&&(this.grid.behavior.setPSP(this._hg_data),delete this._hgdata)}var e}});const C=Symbol("Hypergrid private");function x(e){var t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.hypergrid?t=this[C].grid:(t=this[C].grid=document.createElement("perspective-hypergrid"),Object.defineProperty(this,"hypergrid",{configurable:!0,get:()=>this[C].grid?this[C].grid.grid:void 0})),t.isConnected){n.next=7;break}return e.innerHTML="",e.appendChild(t),n.next=6,regeneratorRuntime.awrap(new Promise(e=>setTimeout(e)));case 6:t.grid.canvas.resize(!1,!0);case 7:return n.abrupt("return",t);case 8:case"end":return n.stop()}},null,this)}e.registerPlugin("hypergrid",{name:"Grid",create:function(e,t,n){var i,r,s,a,l,u,c,h,d,f,g,v,m,y;return regeneratorRuntime.async(function(b){for(;;)switch(b.prev=b.next){case 0:return this[C]=this[C]||{},(i=this.hypergrid)&&(i.behavior.dataModel._view=void 0),b.next=5,regeneratorRuntime.awrap(t.get_config());case 5:if(r=b.sent,!n.cancelled){b.next=8;break}return b.abrupt("return");case 8:return s=r.column_pivots,a=r.row_pivots,l={start_row:0,end_row:Math.max(s.length+1,a.length+1)},b.next=13,regeneratorRuntime.awrap(Promise.all([t.num_rows(),t.to_columns(l),t.schema(),this._table.schema()]));case 13:if(u=b.sent,c=o(u,4),h=c[0],d=c[1],f=c[2],g=c[3],!n.cancelled){b.next=21;break}return b.abrupt("return");case 21:return b.next=23,regeneratorRuntime.awrap(x.call(this,e));case 23:if(v=b.sent,!n.cancelled){b.next=26;break}return b.abrupt("return");case 26:return m=this.hypergrid.behavior.dataModel,y=Object.keys(d),m.setIsTree(a.length>0),m.setDirty(h),m._view=t,m._config=r,m._viewer=this,m.pspFetch=e=>{var t,n,i,r;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e.end_row+=this.hasAttribute("settings")?8:2,e.end_col+=a&&a.length>0?1:0,o.next=4,regeneratorRuntime.awrap(m._view.to_columns(e));case 4:t=o.sent,m.data=[],n=p(t,a,y),i=m.data,r=e.start_row,n.forEach((e,t)=>i[r+t]=e);case 10:case"end":return o.stop()}},null,this)},v.set_data(d,f,g,a,y),this.hypergrid.renderer.computeCellsBounds(!0),b.next=38,regeneratorRuntime.awrap(this.hypergrid.canvas.resize(!0));case 38:this.hypergrid.canvas.paintNow(),this.hypergrid.canvas.paintNow();case 40:case"end":return b.stop()}},null,this)},selectMode:"toggle",update:function(e,t,n){var i,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(t.num_rows());case 2:if(i=e.sent,!n.cancelled){e.next=5;break}return e.abrupt("return");case 5:(r=this.hypergrid.behavior.dataModel).setDirty(i),r._view=t,this.hypergrid.canvas.paintNow();case 9:case"end":return e.stop()}},null,this)},deselectMode:"pivots",styleElement:function(){const e=this[C].grid;e.apply_styles(),e.grid.canvas.paintNow()},resize:function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hypergrid){t.next=8;break}return this.hypergrid.canvas.checksize(),this.hypergrid.canvas.paintNow(),t.next=5,regeneratorRuntime.awrap(this._view.num_rows());case 5:e=t.sent,this.hypergrid.behavior.dataModel.setDirty(e),this.hypergrid.canvas.paintNow();case 8:case"end":return t.stop()}},null,this)},delete:function(){this.hypergrid&&(this.hypergrid.terminate(),this.hypergrid.div=void 0,this.hypergrid.canvas.div=void 0,this.hypergrid.canvas.canvas=void 0,this.hypergrid.sbVScroller=void 0,this.hypergrid.sbHScroller=void 0,delete this[C].grid)}})}.call(this,n(54))},function(e,t,n){"use strict";var i=n(89),r=n(90),o=n(36),s=n(14);e.exports=n(92)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var i=n(1)("unscopables"),r=Array.prototype;null==r[i]&&n(7)(r,i,{}),e.exports=function(e){r[i][e]=!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var i=n(24);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var i=n(22),r=n(26),o=n(15),s=n(7),a=n(36),l=n(95),u=n(41),c=n(100),h=n(1)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,g,p,v,m){l(n,t,g);var y,b,w,C=function(e){if(!d&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",S="values"==p,R=!1,E=e.prototype,A=E[h]||E["@@iterator"]||p&&E[p],_=A||C(p),k=p?S?C("entries"):_:void 0,M="Array"==t&&E.entries||A;if(M&&(w=c(M.call(new e)))!==Object.prototype&&w.next&&(u(w,x,!0),i||"function"==typeof w[h]||s(w,h,f)),S&&A&&"values"!==A.name&&(R=!0,_=function(){return A.call(this)}),i&&!m||!d&&!R&&E[h]||s(E,h,_),a[t]=_,a[x]=f,p)if(y={values:S?_:C("values"),keys:v?_:C("keys"),entries:k},m)for(b in y)b in E||o(E,b,y[b]);else r(r.P+r.F*(d||R),t,y);return y}},function(e,t,n){e.exports=n(20)("native-function-to-string",Function.toString)},function(e,t,n){var i=n(37);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var i=n(57),r=n(23),o=n(41),s={};n(7)(s,n(1)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(s,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var i=n(10),r=n(8),o=n(27);e.exports=n(9)?Object.defineProperties:function(e,t){r(e);for(var n,s=o(t),a=s.length,l=0;a>l;)i.f(e,n=s[l++],t[n]);return e}},function(e,t,n){var i=n(14),r=n(59),o=n(98);e.exports=function(e){return function(t,n,s){var a,l=i(t),u=r(l.length),c=o(s,u);if(e&&n!=n){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var i=n(38),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},function(e,t,n){var i=n(5).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(11),r=n(42),o=n(39)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var i=n(17)("meta"),r=n(13),o=n(11),s=n(10).f,a=0,l=Object.isExtensible||function(){return!0},u=!n(6)(function(){return l(Object.preventExtensions({}))}),c=function(e){s(e,i,{value:{i:"O"+ ++a,w:{}}})},h=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[i].w},onFreeze:function(e){return u&&h.NEED&&l(e)&&!o(e,i)&&c(e),e}}},function(e,t,n){var i=n(27),r=n(64),o=n(43);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var s,a=n(e),l=o.f,u=0;a.length>u;)l.call(e,s=a[u++])&&t.push(s);return t}},function(e,t,n){var i=n(24);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(14),r=n(65).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(i(e))}},function(e,t,n){var i=n(43),r=n(23),o=n(14),s=n(35),a=n(11),l=n(55),u=Object.getOwnPropertyDescriptor;t.f=n(9)?u:function(e,t){if(e=o(e),t=s(t,!0),l)try{return u(e,t)}catch(e){}if(a(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t,n){"use strict";n(107);var i=n(2).Point,r=n(2).Rectangle,o=n(29),s=n(108).bind(n(110)),a=n(3),l=n(45),u=n(67),c=n(112),h=n(114),d=n(122),f=n(47),g=n(31),p=n(148),v=n(154),m=n(163),y=n(78),b=["top","bottom","left","right"],w=b.concat(["width","height","position"]),C=a.extend("Hypergrid",{initialize:function(e,t){this.selectionInitialize(),"string"==typeof e||e instanceof HTMLElement||(t=e,e=null),t=t||{},this.clearState(),this.setContainer(e||t.container||function(e){var t=document.getElementById("hypergrid");t&&!t.firstElementChild||(R(t=document.createElement("div"),e,w),document.body.appendChild(t));return t}(t.boundingRect)),C.prototype.installPlugins(t.plugins),this.lastEdgeSelection=[0,0],this.isWebkit=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,this.selectionModel=new d(this),this.renderOverridesCache={},this.allowEventHandlers=!0,this.dragExtent=new i(0,0),this.numRows=0,this.numColumns=0,this.clearMouseDown(),this.setFormatter(t.localization),this.listeners={},this.cellRenderers=v,this.cellEditors=Object.create(m),Object.defineProperty(this.cellEditors,"create",{value:A.bind(this)}),this.initCanvas(t),t.data?this.setData(t.data,t):(t.Behavior||t.dataModel||t.DataModel)&&this.setBehavior(t),t.state&&this.loadState(t.state),this.plugins={},this.installPlugins(t.plugins),document.addEventListener("mousedown",this.mouseCatcher=function(){this.abortEditing()}.bind(this)),setTimeout(this.repaint.bind(this)),C.grids.push(this),this.resetGridBorder("Top"),this.resetGridBorder("Right"),this.resetGridBorder("Bottom"),this.resetGridBorder("Left")},terminate:function(){document.removeEventListener("mousedown",this.mouseCatcher),this.behavior.dataModel.removeListener(this.behavior.boundDispatchEvent),this.removeAllEventListeners(!0),this.canvas.stop();for(var e=this.div;e.hasChildNodes();)e.removeChild(e.firstChild);C.grids.splice(C.grids.indexOf(this),1)},resetGridBorder:function(e){var t="gridBorder"+(e=e||""),n="border"+e,i=this.properties,r=i[t];switch(r){case!0:r=i.lineWidth+"px solid "+i.lineColor;break;case!1:r=null}this.canvas.canvas.style[n]=r},modules:y,behavior:null,isWebkit:!0,mouseDown:[],dragExtent:null,selectionModel:null,cellEditor:null,renderOverridesCache:{},hoverCell:null,lastEdgeSelection:null,setAttribute:function(e,t){this.div.setAttribute(e,t)},clearState:function(){this.properties=Object.defineProperties(this.initThemeLayer(),{grid:{value:this},var:{value:new S}}),Object.keys(l).forEach(function(e){var t=l[e];"object"==typeof t&&(u[e]?this[e]=t:this[e]=function e(t){var n=(i=t,Array.isArray(i)?i.slice():"object"==typeof i?Object.defineProperties({},Object.getOwnPropertyDescriptors(i)):i);var i;Object.keys(n).forEach(function(t){var i=Object.getOwnPropertyDescriptor(n,t);"object"==typeof i.value&&(n[t]=e(i.value))});return n}(t))},this.properties)},reset:function(e){this.clearState(),this.removeAllEventListeners(),this.lastEdgeSelection=[0,0],this.selectionModel.reset(),this.renderOverridesCache={},this.clearMouseDown(),this.dragExtent=new i(0,0),this.numRows=0,this.numColumns=0,this.vScrollValue=0,this.hScrollValue=0,this.cancelEditing(),this.sbPrevVScrollValue=null,this.sbPrevHScrollValue=null,this.hoverCell=null,this.scrollingNow=!1,this.lastEdgeSelection=[0,0],this.behavior.reset({subgrids:e&&e.subgrids}),this.renderer.reset(),this.canvas.resize(),this.behaviorChanged(),this.refreshProperties()},installPlugins:function(e){var t=this===C.prototype;e&&(Array.isArray(e)||(e=[e]),e.forEach(function(e){var n,i,r;if(e&&(i=[this],t&&i.push(g.prototype),Array.isArray(e)&&(e.length?"string"!=typeof e[0]?(i=i.concat(e.slice(1)),e=e[0]):e.length>=2?(i=i.concat(e.slice(2)),n=e[0],e=e[1]):e=void 0:e=void 0),e)){if((n=n||e.name||e.$$CLASS_NAME)&&(n=n.substr(0,1).toLowerCase()+n.substr(1)),t)r=this.constructor.plugins,e.preinstall&&!r[n]&&e.preinstall.apply(e,i);else if(r=this.plugins,"function"==typeof e)e=this.createApply(e,i);else if(e.install)e.install.apply(e,i);else if(!e.preinstall)throw new a.prototype.HypergridError("Expected plugin (a constructor; or an API with a `preinstall` method and/or an `install` method).");n&&(r[n]=e)}},this))},uninstallPlugins:function(e){e?Array.isArray(e)||(e=[e]):e=[],o(this.plugins).each(function(t,n,i){i.hasOwnProperty(n)&&e.indexOf(n)>=0&&t.uninstall&&t.uninstall(this,n,i)},this)},computeCellsBounds:function(){this.renderer.computeCellsBounds()},setFormatter:function(e){e=e||{},this.localization=new f(e.locale||C.localization.locale,e.numberOptions||C.localization.numberOptions,e.dateOptions||C.localization.dateOptions)},getFormatter:function(e){return this.localization.get(e).format},formatValue:function(e,t){return this.getFormatter(e)(t)},setHoverCell:function(e){var t=this.hoverCell;t&&t.equals(e.gridCell)||(this.hoverCell=e.gridCell,t&&this.fireSyntheticOnCellExitEvent(e),this.fireSyntheticOnCellEnterEvent(e),this.repaint())},addProperties:function(e){Object.assign(this.properties,e),this.refreshProperties()},refreshProperties:function(){this.behaviorShapeChanged(),this.behavior.defaultRowHeight=null,this.behavior.autosizeAllColumns()},setState:function(e){this.addState(e,!0)},addState:function(e,t){this.behavior.addState(e,t),this.refreshProperties(),this.behaviorChanged()},getState:function(){return this.behavior.getState()},loadState:function(e){this.behavior.setState(e)},saveState:function(e){var t=void 0===(e=e||{}).space?"\t":e.space,n=this.properties,i=n.calculators;if((e.blacklist=e.blacklist||[]).push("columnProperties"),i){if(e.compact){var r=this.behavior.getColumns();Object.keys(i).forEach(function(e){r.find(function(t){return t.properties.calculator===i[e]})||delete i[e]})}i.toJSON=E}this.headerify=e.headerify;var o=JSON.stringify(n,function(t,r){return this===n&&e.blacklist.indexOf(t)>=0?r=void 0:"calculator"===t&&(r=i?Object.keys(i).find(function(e){return i[e]===r}):r.toString()),r},t);return delete this.headerify,o},getMouseDown:function(){if(this.mouseDown.length)return this.mouseDown[this.mouseDown.length-1]},popMouseDown:function(){var e;return this.mouseDown.length&&(e=this.mouseDown.pop()),e},clearMouseDown:function(){this.mouseDown=[new i(-1,-1)],this.dragExtent=null},setMouseDown:function(e){this.mouseDown.push(e)},getDragExtent:function(){return this.dragExtent},setDragExtent:function(e){this.dragExtent=e},gridRenderedNotification:function(){this.cellEditor&&this.cellEditor.gridRenderedNotification(),this.checkColumnAutosizing()&&this.paintNow(),this.fireSyntheticGridRenderedEvent()},tickNotification:function(){this.fireSyntheticTickEvent()},checkColumnAutosizing:function(){var e=this.behavior.checkColumnAutosizing(!1);return e&&this.behaviorShapeChanged(),e},checkClipboardCopy:function(e){if(this.hasFocus()){e.preventDefault();var t=this.getSelectionAsTSV();e.clipboardData.setData("text/plain",t)}},hasFocus:function(){return this.canvas.hasFocus()},setBehavior:function(e){var t=e&&e.Behavior||p;this.behavior=new t(this,e),this.initScrollbars(),this.refreshProperties(),this.behavior.reindex()},getColumnCount:function(){return this.behavior.getActiveColumnCount()},getRowCount:function(){return this.behavior.getRowCount()},getRow:function(e){return this.behavior.getRow(e)},getValue:function(e,t,n){return this.behavior.getValue(e,t,n)},setValue:function(e,t,n,i){this.behavior.setValue(e,t,n,i)},setData:function(e,t){this.behavior||this.setBehavior(t),this.behavior.setData(e,t),this.setInfo(e.length?"":this.properties.noDataMessage),this.behavior.shapeChanged()},setInfo:function(e){this.renderer.setInfo(e)},reindex:function(){x.call(this)?this.needsReindex=!0:this.behavior.reindex(),this.behaviorShapeChanged()},behaviorChanged:function(){this.divCanvas&&(this.numColumns!==this.getColumnCount()||this.numRows!==this.getRowCount()?(this.numColumns=this.getColumnCount(),this.numRows=this.getRowCount(),this.behaviorShapeChanged()):this.behaviorStateChanged())},behaviorShapeChanged:function(){x.call(this)?(this.needsShapeChanged=!0,this.canvas.requestRepaint()):this.divCanvas&&(this.synchronizeScrollingBoundaries(),this.repaint())},behaviorStateChanged:function(){x.call(this)?(this.needsStateChanged=!0,this.canvas.requestRepaint()):this.divCanvas&&(this.computeCellsBounds(),this.repaint())},deferredBehaviorChange:function(){this.needsReindex&&(this.behavior.reindex(),this.needsReindex=!1),this.needsShapeChanged?this.divCanvas&&this.synchronizeScrollingBoundaries():this.needsStateChanged&&this.divCanvas&&this.computeCellsBounds(),this.needsShapeChanged=this.needsStateChanged=!1},getBounds:function(){return this.renderer.getBounds()},repaint:function(){var e=this.canvas;e&&(this.properties.repaintImmediately?this.paintNow():e.repaint())},paintNow:function(){this.behavior.columnsCreated&&this.canvas.paintNow()},setContainer:function(e){this.initContainer(e),this.initRenderer()},initContainer:function(e){"string"==typeof e&&(e=document.querySelector(e)),e.style.position||(e.style.position=null),e.clientHeight<1&&(e.style.height=null),s("grid"),e.oncontextmenu=function(e){return e.stopPropagation(),e.preventDefault(),!1},e.removeAttribute("tabindex"),e.classList.add("hypergrid-container"),e.id=e.id||"hypergrid"+(document.querySelectorAll(".hypergrid-container").length-1||""),this.div=e},initCanvas:function(e){if(!this.divCanvas){var t=document.createElement("div");R(t,e&&e.margin,b),this.div.appendChild(t);var n=e&&(e.contextAttributes||e.canvasContextAttributes),i=new c(t,this.renderer,n);i.canvas.classList.add("hypergrid"),this.divCanvas=t,this.canvas=i,this.delegateCanvasEvents()}},convertViewPointToDataPoint:function(e){return this.behavior.convertViewPointToDataPoint(e)},convertDataPointToViewPoint:function(e){return this.behavior.convertDataPointToViewPoint(e)},beCursor:function(e){e?Array.isArray(e)||(e=[e]):e=["default"],e.forEach(function(e){this.cursor=e},this.div.style)},stopEditing:function(){return!this.cellEditor||this.cellEditor.stopEditing()},cancelEditing:function(){return!this.cellEditor||this.cellEditor.cancelEditing()},abortEditing:function(){return!this.cellEditor||(this.cellEditor.abortEditing?this.cellEditor.abortEditing():this.cellEditor.stopEditing())},getDataBounds:function(){var e=this.canvas.bounds;return new r(0,0,e.origin.x+e.extent.x,e.origin.y+e.extent.y)},editAt:function(e){var t;return this.abortEditing(),e.isDataColumn&&e.properties[e.isDataRow?"editable":"filterable"]&&(t=this.getCellEditorAt(e))&&t.beginEditing(),t},isColumnVisible:function(e){return this.renderer.isColumnVisible(e)},isDataRowVisible:function(e){return this.renderer.isDataRowVisible(e)},isDataVisible:function(e,t){return this.isDataRowVisible(t)&&this.isColumnVisible(e)},insureModelColIsVisible:function(e,t){var n=this.getColumnCount()-1,i=e+Math.sign(t),r=!this.isColumnVisible(i)||e===n;return r&&this.scrollBy(t,0),r},insureModelRowIsVisible:function(e,t){var n=this.getRowCount()-1,i=e+(t>-1?1:0),r=!this.isDataRowVisible(i)||e===n;return r&&this.scrollBy(0,t),r},getGridCellFromMousePoint:function(e){return this.renderer.getGridCellFromMousePoint(e)},getBoundsOfCell:function(e){var t=this.renderer.getBoundsOfCell(e.x,e.y);return new r(t.x,t.y,t.width,t.height)},resized:function(){this.behaviorShapeChanged()},cellClicked:function(e){return this.behavior.cellClicked(e)},windowOpen:function(e,t,n,i){return window.open.apply(window,arguments)},getColumns:function(e,t){var n=this.behavior.getColumns();return n.slice.apply(n,arguments)},getActiveColumns:function(e,t){var n=this.behavior.getActiveColumns();return n.slice.apply(n,arguments)},getHiddenColumns:function(){return this.behavior.getHiddenColumns()},takeFocus:function(){var e=this.cellEditor;this.stopEditing(),e||this.canvas.takeFocus()},editorTakeFocus:function(){if(this.cellEditor)return this.cellEditor.takeFocus()},getVisibleRows:function(){return this.renderer.getVisibleRows()},getVisibleColumns:function(){return this.renderer.getVisibleColumns()},initRenderer:function(){this.renderer=this.renderer||new h(this)},getColumnWidth:function(e){return this.behavior.getColumnWidth(e)},setColumnWidth:function(e,t){this.abortEditing()&&this.behavior.setColumnWidth(e,t)},getFixedColumnsWidth:function(){return this.behavior.getFixedColumnsWidth()},getRowHeight:function(e,t){return this.behavior.getRowHeight(e,t)},setRowHeight:function(e,t,n){this.abortEditing()&&this.behavior.setRowHeight(e,t,n)},getFixedRowsHeight:function(){return this.behavior.getFixedRowsHeight()},getFixedColumnCount:function(){return this.behavior.getFixedColumnCount()},getFixedRowCount:function(){return this.behavior.getFixedRowCount()},topLeftClicked:function(e){this.behavior.topLeftClicked(this,e)},rowHeaderClicked:function(e){this.behavior.rowHeaderClicked(this,e)},columnHeaderClicked:function(e){this.behavior.columnHeaderClicked(this,e)},onEditorActivate:function(e){return this.editAt(e)},getCellEditorAt:function(e){return this.behavior.getCellEditorAt(e)},toggleHiDPI:function(){this.properties.useHiDPI?this.removeAttribute("hidpi"):this.setAttribute("hidpi",null),this.canvas.resize()},getHiDPI:function(e){if(window.devicePixelRatio&&this.properties.useHiDPI)var t=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1);else t=1;return t},getRenderedWidth:function(e){return this.renderer.getRenderedWidth(e)},getRenderedHeight:function(e){return this.renderer.getRenderedHeight(e)},updateCursor:function(){var e=this.behavior.getCursorAt(-1,-1),t=this.hoverCell;if(t&&t.x>-1&&t.y>-1){var n=t.x+this.getHScrollValue();e=this.behavior.getCursorAt(n,t.y+this.getVScrollValue())}this.beCursor(e)},repaintCell:function(e,t){this.renderer.repaintCell(e,t)},isDraggingColumn:function(){return!!this.renderOverridesCache.dragger},getRenderedData:function(){return this.renderer.getVisibleCellMatrix()},autosizeColumn:function(e){(e>=-2?this.behavior.getActiveColumn(e):e).checkColumnAutosizing(!0),this.computeCellsBounds()},setFocusable:function(e){this.canvas.setFocusable(e)},getVisibleColumnsCount:function(){return this.renderer.getVisibleColumnsCount()},getVisibleRowsCount:function(){return this.renderer.getVisibleRowsCount()},updateSize:function(){this.canvas.checksize()},stopPaintThread:function(){this.canvas.stopPaintThread()},stopResizeThread:function(){this.canvas.stopResizeThread()},restartResizeThread:function(){this.canvas.restartResizeThread()},restartPaintThread:function(){this.canvas.restartPaintThread()},swapColumns:function(e,t){this.behavior.swapColumns(e,t)},endDragColumnNotification:function(){this.behavior.endDragColumnNotification()},getFixedColumnsMaxWidth:function(){return this.behavior.getFixedColumnsMaxWidth()},isMouseDownInHeaderArea:function(){var e=this.getHeaderRowCount(),t=this.getMouseDown();return t.x<0||t.y<e},getColumnProperties:function(e){return this.behavior.getColumnProperties(e)},setColumnProperties:function(e,t){this.behavior.setColumnProperties(e,t)},clearAllCellProperties:function(e){this.behavior.clearAllCellProperties(e),this.renderer.resetAllCellPropertiesCaches()},isGridRow:function(e){return new this.behavior.CellEvent(0,e).isDataRow},getHeaderRowCount:function(){return this.behavior.getHeaderRowCount()},getFooterRowCount:function(){return this.behavior.getFooterRowCount()},getLogicalRowCount:function(){return this.behavior.getLogicalRowCount()},hasTreeColumn:function(){return this.behavior.hasTreeColumn()},lookupFeature:function(e){return this.behavior.lookupFeature(e)},newPoint:function(e,t){return new i(e,t)},newRectangle:function(e,t,n,i){return new r(e,t,n,i)},get charMap(){return this.behavior.charMap},decorateColumnArray:function(e){if(!this.columnArrayDecorations){var t=this;this.columnArrayDecorations={findWithNeg:{value:function(e,n){for(var i=t.behavior.leftMostColIndex;i<0;i++)if(this[i]&&e.call(n,this[i],i,this))return this[i];return this.find(e,n)}},forEachWithNeg:{value:function(e,n){for(var i=t.behavior.leftMostColIndex;i<0;i++)this[i]&&e.call(n,this[i],i,this);return this.forEach(e,n)}}}}return Object.defineProperties(e||[],this.columnArrayDecorations)}});function x(){return!this.properties.repaintImmediately&&this.canvas.paintLoopRunning()}function S(){this.gridRenderer=l.gridRenderer,this.rowHeaderCheckboxes=l.rowHeaderCheckboxes,this.rowHeaderNumbers=l.rowHeaderNumbers,this.gridBorder=l.gridBorder,this.gridBorderTop=l.gridBorderTop,this.gridBorderRight=l.gridBorderRight,this.gridBorderBottom=l.gridBorderBottom,this.gridBorderLeft=l.gridBorderLeft}function R(e,t,n){if(t){var i=e.style;n.forEach(function(e){void 0!==t[e]&&(i[e]=t[e])})}}function E(){var e=this;return Object.keys(this).reduce(function(t,n){return"toJSON"!==n&&(t[n]=/^function /.test(n)?null:e[n].toString().replace(/^function anonymous\(/,"function(").replace("\n/*``*/)",")")),t},{})}function A(e,t){var n=m.get(e);if(n)return new n(this,t)}function _(e,t){if(!_.warned[e]){var n=e.match(/\w+$/)[0];console.warn("Reference to "+n+" external module using `Hypergrid."+n+".` has been deprecated as of v3.0.0 in favor of `require('"+e+"')` from within a Hypergrid Client Module (otherwise use `Hypergrid.require(...)`) and will be removed in a future release. See https://github.com/fin-hypergrid/core/wiki/Client-Modules#internal-modules."),_.warned[e]=!0}return t}C.plugins={},C.localization={locale:"en-US",numberOptions:{maximumFractionDigits:0}},C.mixIn=C.prototype.mixIn,C.mixIn(n(80).sharedMixin),C.prototype.mixIn(n(80).mixin),C.prototype.mixIn(n(171).mixin),C.prototype.mixIn(n(172).mixin),C.prototype.mixIn(n(174).mixin),C.prototype.mixIn(n(175).mixin),_.warned={},Object.defineProperties(C,{Base:{get:function(){return _("fin-hypergrid/src/Base",n(3))}},images:{get:function(){return _("fin-hypergrid/images",n(19))}}}),C.grids=[],C.defaults=C.properties=l,C.modules=y,e.exports=C},function(e,t,n){"use strict";Math.sign=Math.sign=function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1},"function"!=typeof Array.prototype.findIndex&&(Array.prototype.findIndex=function(e){for(var t=arguments[1],n=0,i=this.length;n<i;n++)if(e.call(t,this[n],n,this))return n;return-1}),"function"!=typeof Array.prototype.fill&&(Array.prototype.fill=function(e,t,n){t=void 0===t?0:t<0?this.length+t:t,n=void 0===n?this.length:n<0?this.length+n:n;for(var i=t||0;i<n;++i)this[i]=e;return this}),"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e}),"function"!=typeof Object.getOwnPropertyDescriptors&&(Object.getOwnPropertyDescriptors=function(e){return Object.getOwnPropertyNames(e).reduce(function(t,n){return t[n]=Object.getOwnPropertyDescriptor(e,n),t},{})})},function(e,t,n){"use strict";var i=n(109);function r(e,t){var n,o,s,a,l,u,c=r.prefix;if("boolean"==typeof e?n=2:(t=e,e=r.before,n=1),!(o=document.getElementById(c+t))){if(s=document.querySelector("head"),e&&(a=Array.prototype.slice.call(s.children).find(function(e){var t=e.getAttribute("id");return"STYLE"===e.tagName&&(!t||t.indexOf(c)!==c)||"LINK"===e.tagName&&"stylesheet"===e.getAttribute("rel")})),!(l=this[t]))throw"Expected to find member `"+t+"` in calling context.";u=["<style>\n"+l+"\n</style>\n",s,a||null],arguments.length>1&&(u=u.concat(Array.prototype.slice.call(arguments,n))),(o=i.append.apply(null,u)[0]).id=c+t}return o}r.before=!0,r.prefix="injected-stylesheet-",e.exports=r},function(e,t,n){"use strict";function i(e,t){var n=arguments.length>1;if("function"==typeof e&&(e=e.call(this)),n){var r=arguments;e=(e=e.replace(i.replacersRegex,function(e,t){return t-=-1,r.length>t?r[t]:""})).replace(i.encodersRegex,function(e,t){if(t-=-1,r.length>t){var n=document.createElement("DIV");return n.textContent=r[t],n.innerHTML}return""})}return e}function r(e,t,n){var r="object"!=typeof t,o=Array.prototype.slice.call(arguments,1);return r?(t=document.createElement("DIV"),o.unshift(e)):o[0]=e,t.innerHTML=i.apply(null,o),t}i.encodersRegex=/%\{(\d+)\}/g,i.replacersRegex=/\$\{(.*?)\}/g,i.format=i,i.replace=r,i.append=function(e,t,n,i){var o=3;"object"!=typeof n&&(n=null,o=2),i=Array.prototype.slice.call(arguments,o);for(var s=[],a=r.apply(null,[e].concat(i));a.childNodes.length;)s.push(a.firstChild),t.insertBefore(a.firstChild,n);return s},i.firstChild=function(e,t){return r.apply(null,arguments).firstChild},i.firstElement=function(e,t){return r.apply(null,arguments).firstElementChild},e.exports=i},function(e,t,n){"use strict";t.grid=[".hypergrid-container {","\tposition: relative;","\theight: 500px;","}",".hypergrid-container > div:first-child {","\tposition: absolute;","\tleft: 0;","\ttop: 0;","\tright: 0;","\tbottom: 0;","}",".hypergrid-container > div:first-child > div.info {","\tposition: absolute;","\tdisplay: none; /* initially hidden */","\tmargin-top: 150px; /* to place below headers */","\tcolor: #eee;","\ttext-shadow: 1px 1px #ccc;","\tfont-size: 36pt;","\tfont-weight: bold;","\ttext-align: center;","\ttop: 0; right: 0; bottom: 0; left: 0;","}",".hypergrid-textfield {","\tposition: absolute;","\tfont-size: 12px;","\tcolor: black;","\tbackground-color: ivory;","\tbox-sizing: border-box;","\tmargin: 0;","\tpadding: 0 5px;","\tborder: 0; /*border: 1px solid #777;*/","\toutline: 0;","}","",""].join("\n")},function(e,t,n){"use strict";console.warn||(console.warn=function(){console.log.apply(console,["WARNING:"].concat(Array.prototype.slice.call(arguments)))});var i=/^[\w\.]+\(.*\)$/,r=function(e,t,n,s,a){"string"==typeof s&&(a=s,s=void 0);var l,u,c=t.split("."),h=this.$$DEPRECATION_WARNED=this.$$DEPRECATION_WARNED||{},d=this,f=t.indexOf(" ")>=0,g=i.test(e);if(e in h||(h[e]=r.warnings),!g){if(f)return void(h[e]&&(--h[e],console.warn(t)));throw"Expected method name with parentheses in 1st parameter OR simple warning (containing one or more spaces) in 2nd parameter of deprecated() call."}if(f)throw"Expected replacement method or property in 2nd parameter of deprecated() call.";h[e]&&(--h[e],l=i.test(t)?"method":"property",u="The ."+e+" method has been deprecated as of v"+n+" in favor of the ."+c.join(".")+" "+l+". (Will be removed in a future release.)",a&&(u+=" "+a),console.warn(u));var p=o(e);function v(e){var t=p.indexOf(e);if(-1===t)throw'Actual arg "'+e+'" not found in formal arg list '+p;return s[t]}for(var m=0,y=c.length-1;m<=y;++m){var b=c[m],w=b.match(/\w+/)[0],C=i.test(b),x=C?o(b):void 0,S=[];x?(S=x.map(v),d=d[w].apply(d,S)):d=C?d[w]():d[w]}return d};function o(e){return e.match(/^\w+\((.*)\)$/)[1].match(/(\w+)/g)}r.warnings=1,e.exports=r},function(e,t,n){"use strict";"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},window.CustomEvent.prototype=window.Event.prototype);var i,r,o=n(2),s=200,a=[],l=[],u=function(){for(var e=[],t=["",""],n=0;n<256;n++)e[n]=t;return e[27]=["ESC","ESCSHIFT"],e[192]=["`","~"],e[49]=["1","!"],e[50]=["2","@"],e[51]=["3","#"],e[52]=["4","$"],e[53]=["5","%"],e[54]=["6","^"],e[55]=["7","&"],e[56]=["8","*"],e[57]=["9","("],e[48]=["0",")"],e[189]=["-","_"],e[187]=["=","+"],e[8]=["BACKSPACE","BACKSPACESHIFT"],e[46]=["DELETE","DELETESHIFT"],e[9]=["TAB","TABSHIFT"],e[81]=["q","Q"],e[87]=["w","W"],e[69]=["e","E"],e[82]=["r","R"],e[84]=["t","T"],e[89]=["y","Y"],e[85]=["u","U"],e[73]=["i","I"],e[79]=["o","O"],e[80]=["p","P"],e[219]=["[","{"],e[221]=["]","}"],e[220]=["\\","|"],e[220]=["CAPSLOCK","CAPSLOCKSHIFT"],e[65]=["a","A"],e[83]=["s","S"],e[68]=["d","D"],e[70]=["f","F"],e[71]=["g","G"],e[72]=["h","H"],e[74]=["j","J"],e[75]=["k","K"],e[76]=["l","L"],e[186]=[";",":"],e[222]=["'","|"],e[13]=["RETURN","RETURNSHIFT"],e[16]=["SHIFT","SHIFT"],e[90]=["z","Z"],e[88]=["x","X"],e[67]=["c","C"],e[86]=["v","V"],e[66]=["b","B"],e[78]=["n","N"],e[77]=["m","M"],e[188]=[",","<"],e[190]=[".",">"],e[191]=["/","?"],e[16]=["SHIFT","SHIFT"],e[17]=["CTRL","CTRLSHIFT"],e[18]=["ALT","ALTSHIFT"],e[91]=["COMMANDLEFT","COMMANDLEFTSHIFT"],e[32]=["SPACE","SPACESHIFT"],e[93]=["COMMANDRIGHT","COMMANDRIGHTSHIFT"],e[18]=["ALT","ALTSHIFT"],e[38]=["UP","UPSHIFT"],e[37]=["LEFT","LEFTSHIFT"],e[40]=["DOWN","DOWNSHIFT"],e[39]=["RIGHT","RIGHTSHIFT"],e[33]=["PAGEUP","PAGEUPSHIFT"],e[34]=["PAGEDOWN","PAGEDOWNSHIFT"],e[35]=["PAGERIGHT","PAGERIGHTSHIFT"],e[36]=["PAGELEFT","PAGELEFTSHIFT"],e[112]=["F1","F1SHIFT"],e[113]=["F2","F2SHIFT"],e[114]=["F3","F3SHIFT"],e[115]=["F4","F4SHIFT"],e[116]=["F5","F5SHIFT"],e[117]=["F6","F6SHIFT"],e[118]=["F7","F7SHIFT"],e[119]=["F8","F8SHIFT"],e[120]=["F9","F9SHIFT"],e[121]=["F10","F10SHIFT"],e[122]=["F11","F11SHIFT"],e[123]=["F12","F12SHIFT"],e}();function c(e,t,n){var i=this;this.div=e,this.component=t,this.dragEndtime=Date.now(),this.infoDiv=document.createElement("div"),this.infoDiv.className="info",this.div.appendChild(this.infoDiv),this.gc=y(this.canvas=document.createElement("canvas"),n),this.bc=y(this.buffer=document.createElement("canvas"),n),this.div.appendChild(this.canvas),this.canvas.style.outline="none",this.mouseLocation=new o.Point(-1,-1),this.dragstart=new o.Point(-1,-1),this.bounds=new o.Rectangle(0,0,0,0),this.hasMouse=!1,document.addEventListener("mousemove",function(e){(i.hasMouse||i.isDragging())&&i.finmousemove(e)}),document.addEventListener("mouseup",function(e){i.finmouseup(e)}),document.addEventListener("wheel",function(e){i.finwheelmoved(e)}),document.addEventListener("keydown",function(e){i.finkeydown(e)}),document.addEventListener("keyup",function(e){i.finkeyup(e)}),this.canvas.onmouseover=function(){i.hasMouse=!0},this.addEventListener("focus",function(e){i.finfocusgained(e)}),this.addEventListener("blur",function(e){i.finfocuslost(e)}),this.addEventListener("mousedown",function(e){i.finmousedown(e)}),this.addEventListener("mouseout",function(e){i.hasMouse=!1,i.finmouseout(e)}),this.addEventListener("click",function(e){i.finclick(e)}),this.addEventListener("dblclick",function(e){i.findblclick(e)}),this.addEventListener("contextmenu",function(e){return i.fincontextmenu(e),e.preventDefault(),!1}),this.canvas.setAttribute("tabindex",0),this.resize(),this.beginResizing(),this.beginPainting()}function h(e){i&&(a.forEach(function(t){try{t.tickPainter(e)}catch(e){console.error(e)}t.component.tickNotification&&t.component.tickNotification()}),i=requestAnimationFrame(h))}function d(){i=i||requestAnimationFrame(h)}function f(e){if(r)for(var t=0;t<l.length;t++)try{l[t].tickResizer(e)}catch(e){console.error(e)}}function g(){r=r||setInterval(f,s)}function p(e,t){var n=this.getKeyChar(e);switch(n){case"TAB":case"TABSHIFT":case"Tab":e.preventDefault()}return v.call(this,n,t),n}function v(e,t){var n=this.currentKeys.indexOf(e);!t&&n>=0&&this.currentKeys.splice(n,1),"SHIFT"===e&&this.currentKeys.forEach(function(e,n,i){var r=u.find(function(n){return n[t?0:1]===e});r&&(i[n]=r[t?1:0])}),t&&n<0&&this.currentKeys.push(e)}function m(e,t,n){var i=this;return Object.defineProperty(n,t,{configurable:!0,ennumerable:!0,get:function(){var t;"shiftKey"in e?v.call(i,"SHIFT",t=e.shiftKey):t=i.currentKeys.indexOf("SHIFT")>=0;var n=t?"SHIFT":"";return"ctrlKey"in e&&v.call(i,"CTRL"+n,e.ctrlKey),"altKey"in e&&v.call(i,"ALT"+n,e.altKey),i.currentKeys.slice()}}),n}function y(e,t){var i=e.getContext("2d",t),r={},o={};function s(e){e in r||/^(webkit|moz|ms|o)[A-Z]/.test(e)||"function"==typeof i[e]||Object.defineProperty(r,e,{get:function(){return o[e]=o[e]||i[e]},set:function(t){t!==o[e]&&(i[e]=o[e]=t)}})}return Object.keys(Object.getPrototypeOf(i)).forEach(s),Object.keys(i).forEach(s),i.cache=r,i.cache.save=function(){i.save(),o=Object.create(o)},i.cache.restore=function(){i.restore(),o=Object.getPrototypeOf(o)},i.conditionalsStack=[],Object.getOwnPropertyNames(c.graphicsContextAliases).forEach(function(e){i[e]=i[c.graphicsContextAliases[e]]}),Object.assign(i,n(113))}c.prototype={constructor:c.prototype.constructor,div:null,component:null,canvas:null,focuser:null,buffer:null,ctx:null,mouseLocation:null,dragstart:null,origin:null,bounds:null,dirty:!1,size:null,mousedown:!1,dragging:!1,repeatKeyCount:0,repeatKey:null,repeatKeyStartTime:0,currentKeys:[],hasMouse:!1,dragEndTime:0,lastRepaintTime:0,currentPaintCount:0,currentFPS:0,lastFPSComputeTime:0,addEventListener:function(e,t){this.canvas.addEventListener(e,t)},removeEventListener:function(e,t){this.canvas.removeEventListener(e,t)},stopPaintLoop:function(){i&&(cancelAnimationFrame(i),i=void 0)},restartPaintLoop:d,stopResizeLoop:function(){r&&(clearInterval(r),r=void 0)},restartResizeLoop:g,detached:function(){this.stopPainting(),this.stopResizing()},getCurrentFPS:function(){return this.currentFPS},tickPaint:function(e){var t=this.component.properties.enableContinuousRepaint,n=this.component.properties.repaintIntervalRate;if(0!==n){var i=1e3/n;e-this.lastRepaintTime>i&&(t||this.dirty)&&(this.paintNow(),this.lastRepaintTime=e,t&&(this.currentPaintCount++,e-this.lastFPSComputeTime>=1e3&&(this.currentFPS=1e3*this.currentPaintCount/(e-this.lastFPSComputeTime),this.currentPaintCount=0,this.lastFPSComputeTime=e)))}},beginPainting:function(){var e=this;this.requestRepaint(),this.tickPainter=function(t){e.tickPaint(t)},a.push(this)},stopPainting:function(){a.splice(a.indexOf(this),1)},beginResizing:function(){var e=this;this.tickResizer=function(){e.checksize()},l.push(this)},stopResizing:function(){l.splice(l.indexOf(this),1)},start:function(){this.beginPainting(),this.beginResizing()},stop:function(){this.stopPainting(),this.stopResizing()},getDivBoundingClientRect:function(){var e=this.div.getBoundingClientRect(),t=Math.floor(e.top),n=Math.floor(e.left),i=Math.ceil(e.width),r=Math.ceil(e.height);return{top:t,right:n+i,bottom:t+r,left:n,width:i,height:r,x:e.x,y:e.y}},checksize:function(){var e=this.getDivBoundingClientRect();e.width===this.size.width&&e.height===this.size.height||this.resize()},resize:function(){var e=this.size=this.getDivBoundingClientRect();this.width=e.width,this.height=e.height;var t=1,n=window.devicePixelRatio&&this.component.properties.useHiDPI;n&&(t=(window.devicePixelRatio||1)/(this.gc.webkitBackingStorePixelRatio||this.gc.mozBackingStorePixelRatio||this.gc.msBackingStorePixelRatio||this.gc.oBackingStorePixelRatio||this.gc.backingStorePixelRatio||1));this.buffer.width=this.canvas.width=this.width*t,this.buffer.height=this.canvas.height=this.height*t,this.canvas.style.width=this.buffer.style.width=this.width+"px",this.canvas.style.height=this.buffer.style.height=this.height+"px",this.bc.scale(t,t),n&&!this.component.properties.useBitBlit&&this.gc.scale(t,t),this.bounds=new o.Rectangle(0,0,this.width,this.height),this.component.setBounds(this.bounds),this.resizeNotification(),this.paintNow()},resizeNotification:function(){this.dispatchNewEvent(void 0,"fin-canvas-resized",{width:this.width,height:this.height})},getBounds:function(){return this.bounds},paintNow:function(){var e=this.component.properties.useBitBlit,t=e?this.bc:this.gc;try{t.cache.save(),this.dirty=!1,this.component.paint(t)}catch(e){console.error(e)}finally{t.cache.restore()}e&&this.flushBuffer()},flushBuffer:function(){this.buffer.width>0&&this.buffer.height>0&&this.gc.drawImage(this.buffer,0,0)},newEvent:function(e,t,n){var i={detail:n||{}};return e&&(i.detail.primitiveEvent=e),new CustomEvent(t,i)},dispatchNewEvent:function(e,t,n){return this.canvas.dispatchEvent(this.newEvent(e,t,n))},dispatchNewMouseKeysEvent:function(e,t,n){return(n=n||{}).mouse=this.mouseLocation,m.call(this,e,"keys",n),this.dispatchNewEvent(e,t,n)},finmousemove:function(e){!this.isDragging()&&this.mousedown&&(this.beDragging(),this.dispatchNewMouseKeysEvent(e,"fin-canvas-dragstart",{isRightClick:this.isRightClick(e),dragstart:this.dragstart}),this.dragstart=new o.Point(this.mouseLocation.x,this.mouseLocation.y)),this.mouseLocation=this.getLocal(e),this.isDragging()&&this.dispatchNewMouseKeysEvent(e,"fin-canvas-drag",{dragstart:this.dragstart,isRightClick:this.isRightClick(e)}),this.bounds.contains(this.mouseLocation)&&this.dispatchNewMouseKeysEvent(e,"fin-canvas-mousemove")},finmousedown:function(e){this.mouseLocation=this.mouseDownLocation=this.getLocal(e),this.mousedown=!0,this.dispatchNewMouseKeysEvent(e,"fin-canvas-mousedown",{isRightClick:this.isRightClick(e)}),this.takeFocus()},finmouseup:function(e){this.mousedown&&(this.isDragging()&&(this.dispatchNewMouseKeysEvent(e,"fin-canvas-dragend",{dragstart:this.dragstart,isRightClick:this.isRightClick(e)}),this.beNotDragging(),this.dragEndtime=Date.now()),this.mousedown=!1,this.dispatchNewMouseKeysEvent(e,"fin-canvas-mouseup",{dragstart:this.dragstart,isRightClick:this.isRightClick(e)}))},finmouseout:function(e){this.mousedown||(this.mouseLocation=new o.Point(-1,-1)),this.repaint(),this.dispatchNewMouseKeysEvent(e,"fin-canvas-mouseout",{dragstart:this.dragstart})},finwheelmoved:function(e){!this.isDragging()&&this.hasFocus()&&(e.preventDefault(),this.dispatchNewMouseKeysEvent(e,"fin-canvas-wheelmoved",{isRightClick:this.isRightClick(e)}))},finclick:function(e){this.mouseLocation=this.getLocal(e),this.dispatchNewMouseKeysEvent(e,"fin-canvas-click",{isRightClick:this.isRightClick(e)})},findblclick:function(e){this.mouseLocation=this.getLocal(e),this.dispatchNewMouseKeysEvent(e,"fin-canvas-dblclick",{isRightClick:this.isRightClick(e)})},getCharMap:function(){return u},getKeyChar:function(e){var t=e.keyCode||e.detail.key,n=e.shiftKey||e.detail.shift,i=e.key;return e.legacyKey=u[t]&&u[t][n?1:0],"string"==typeof i&&1===i.length?i:e.legacyKey||i},finkeydown:function(e){if(this.hasFocus()){var t=p.call(this,e,!0);e.repeat?this.repeatKey===t?this.repeatKeyCount++:(this.repeatKey=t,this.repeatKeyStartTime=Date.now()):(this.repeatKey=null,this.repeatKeyCount=0,this.repeatKeyStartTime=0),this.dispatchNewEvent(e,"fin-canvas-keydown",m.call(this,e,"currentKeys",{alt:e.altKey,ctrl:e.ctrlKey,char:t,legacyChar:e.legacyKey,code:e.charCode,key:e.keyCode,meta:e.metaKey,repeatCount:this.repeatKeyCount,repeatStartTime:this.repeatKeyStartTime,shift:e.shiftKey,identifier:e.key}))}},finkeyup:function(e){if(this.hasFocus()){var t=p.call(this,e,!1);this.repeatKeyCount=0,this.repeatKey=null,this.repeatKeyStartTime=0,this.dispatchNewEvent(e,"fin-canvas-keyup",m.call(this,e,"currentKeys",{alt:e.altKey,ctrl:e.ctrlKey,char:t,legacyChar:e.legacyKey,code:e.charCode,key:e.keyCode,meta:e.metaKey,repeat:e.repeat,shift:e.shiftKey,identifier:e.key,currentKeys:this.currentKeys.slice(0)}))}},finfocusgained:function(e){this.dispatchNewEvent(e,"fin-canvas-focus-gained")},finfocuslost:function(e){this.dispatchNewEvent(e,"fin-canvas-focus-lost")},fincontextmenu:function(e){e.ctrlKey&&-1===this.currentKeys.indexOf("CTRL")&&this.currentKeys.push("CTRL"),this.dispatchNewMouseKeysEvent(e,"fin-canvas-context-menu",{isRightClick:this.isRightClick(e)})},paintLoopRunning:function(){return!!i},requestRepaint:function(){this.dirty=!0},repaint:function(){this.requestRepaint(),i&&0!==this.component.properties.repaintIntervalRate||this.paintNow()},getMouseLocation:function(){return this.mouseLocation},getOrigin:function(){var e=this.canvas.getBoundingClientRect();return new o.Point(e.left,e.top)},getLocal:function(e){var t=this.canvas.getBoundingClientRect();return new o.Point(e.clientX-t.left,e.clientY-t.top)},hasFocus:function(){return document.activeElement===this.canvas},takeFocus:function(){var e=this;this.hasFocus()||setTimeout(function(){e.canvas.focus()},10)},beDragging:function(){this.dragging=!0,this.disableDocumentElementSelection()},beNotDragging:function(){this.dragging=!1,this.enableDocumentElementSelection()},isDragging:function(){return this.dragging},disableDocumentElementSelection:function(){var e=document.body.style;e.cssText=e.cssText+"-webkit-user-select: none"},enableDocumentElementSelection:function(){var e=document.body.style;e.cssText=e.cssText.replace("-webkit-user-select: none","")},setFocusable:function(e){this.focuser.style.display=e?"":"none"},isRightClick:function(e){var t;return"which"in(e=e||window.event)?t=3===e.which:"button"in e&&(t=2===e.button),t},dispatchEvent:function(e){return this.canvas.dispatchEvent(e)},setInfo:function(e,t){e&&(void 0!==t&&(t&&!isNaN(Number(t))&&(t+="px"),this.infoDiv.style.width=t),e.indexOf("<")?this.infoDiv.innerHTML=e:this.infoDiv.innerText=e),this.infoDiv.style.display=e?"block":"none"}},d(),g(),c.graphicsContextAliases={simpleText:"fillText"},e.exports=c},function(e,t,n){"use strict";var i;var r=/^(transparent|((RGB|HSL)A\(.*,\s*([\d\.]+)\)))$/i;function o(e){var t;return e?null===(t=e.match(r))?1:void 0===t[4]?0:Number(t[4]):0}var s={};var a="\u2026";var l={};i={clearFill:function(e,t,n,i,r){var s=o(r);s<1&&this.clearRect(e,t,n,i),s>0&&(this.cache.fillStyle=r,this.fillRect(e,t,n,i))},alpha:o,getTextWidth:function(e){for(var t=s[this.cache.font]=s[this.cache.font]||{},n=0,i=0,r=(e+="").length;n<r;++n){var o=e[n];i+=t[o]=t[o]||this.measureText(o).width}return i},getTextWidthTruncated:function(e,t,n,i){var r,o,l,u=s[this.cache.font],c=void 0!==n;u||((u=s[this.cache.font]={})[a]=this.measureText(a).width),t+=!1===n?2:-1;for(var h=0,d=0,f=(e+="").length;h<f;++h){var g=e[h],p=u[g]=u[g]||this.measureText(g).width;if(d+=p,!r&&c&&d>t){switch(l=h,n){case!0:for(o=d-p+u[a];l&&o>t;)o-=u[e[--l]];r=o>t?"":r=e.substr(0,l)+a;break;case!1:r=e.substr(0,l);break;default:++l<e.length&&(r=e.substr(0,l))}if(i)break}}return{string:r,width:d}},getTextHeight:function(e){var t=l[e];if(!t){t={};var n=document.createElement("span");n.textContent="Hg",n.style.font=e;var i=document.createElement("div");i.style.display="inline-block",i.style.width="1px",i.style.height="0px";var r=document.createElement("div");r.appendChild(n),r.appendChild(i),r.style.position="absolute",document.body.appendChild(r);try{i.style.verticalAlign="baseline";var o=i.getBoundingClientRect(),s=n.getBoundingClientRect();t.ascent=o.top-s.top,i.style.verticalAlign="bottom",t.height=o.top-s.top,t.descent=t.height-t.ascent}finally{document.body.removeChild(r)}0!==t.height&&(l[e]=t)}return t},clipSave:function(e,t,n,i,r){this.conditionalsStack.push(e),e&&(this.cache.save(),this.beginPath(),this.rect(t,n,i,r),this.clip())},clipRestore:function(e){this.conditionalsStack.pop()&&this.cache.restore()},truncateTextWithEllipsis:!0},e.exports=i},function(e,t,n){"use strict";var i=n(3),r=n(19),o=n(117),s=n(68),a=[],l=i.extend("Renderer",{cell:{x:0,y:0,width:0,height:0},scrollHeight:0,reset:function(){this.bounds={width:0,height:0},this.visibleColumns=this.grid.decorateColumnArray(),this.visibleRows=[],this.insertionBounds=[],this.cellEventPool=[]},initialize:function(e){this.grid=e,this.gridRenderers={},a.forEach(function(e){this.registerGridRenderer(e)},this),this.setGridRenderer(this.properties.gridRenderer||"by-columns-and-rows"),this.reset()},registerGridRenderer:function(e){this.gridRenderers[e.key]={paintCells:e}},setGridRenderer:function(e){var t=this.gridRenderers[e];if(!t)throw new this.HypergridError('Unregistered grid renderer "'+e+'"');t!==this.gridRenderer&&(this.gridRenderer=t,this.gridRenderer.reset=!0)},resetAllGridRenderers:function(e){Object.keys(this.gridRenderers).forEach(function(t){this.gridRenderers[t].reset=!e||e.indexOf(t)<0},this)},rebundleGridRenderers:function(){Object.keys(this.gridRenderers).forEach(function(e){this.gridRenderers[e].paintCells.rebundle&&(this.gridRenderers[e].rebundle=!0)},this)},resetRowHeaderColumnWidth:function(){this.lastKnowRowCount=void 0},computeCellsBounds:function(e){e?(u.call(this),this.needsComputeCellsBounds=!1):this.needsComputeCellsBounds=!0},get properties(){return this.grid.properties},paint:function(e){this.grid.canvas&&(this.renderGrid(e),this.grid.gridRenderedNotification())},tickNotification:function(){this.grid.tickNotification()},getVisibleRowsCount:function(){return this.visibleRows.length-1},getVisibleScrollHeight:function(){var e=this.grid.properties.defaultRowHeight*this.grid.behavior.getFooterRowCount();return this.getBounds().height-e-this.grid.getFixedRowsHeight()},getVisibleColumnsCount:function(){return this.visibleColumns.length-1},getBoundsOfCell:function(e,t){var n=this.visibleColumns[e],i=this.visibleRows[t];return{x:n.left,y:i.top,width:n.width,height:i.height}},getColumnFromPixelX:function(e){for(var t=this.grid.getFixedColumnCount(),n=this.grid.getHScrollValue(),i=this.visibleColumns,r=1;r<i.length-1;r++)if(e<i[r].left-(i[r].left-i[r-1].left)/2)return r>t&&(r+=n),r-1;return r>t&&(r+=n),r-1},getGridCellFromMousePoint:function(e){var t=e.x,n=e.y,i=!1,r=!1,o=this.visibleRows,s=this.visibleColumns,a=s[this.grid.behavior.leftMostColIndex],l=a&&t<a.right?a:s.findWithNeg(function(e){return t<e.right}),u=o.find(function(e){return n<e.bottom}),c={fake:!1};u?i=!1:(u=o[o.length-1],i=!0),l?r=!1:(l=s[s.length-1],r=!0);var h=new this.grid.behavior.CellEvent(l.columnIndex,u.index),d=this.findCell(h);return c.cellEvent=d?Object.create(d):h,c.cellEvent.mousePoint=this.grid.newPoint(t-l.left,n-u.top),(r||i)&&(c.fake=!0,this.grid.beCursor(null)),c},getVisibleCellMatrix:function(){for(var e=Array(this.visibleRows.length),t=this.grid.behavior.hasTreeColumn()?1:0,n=0;n<e.length;++n)e[n]=Array(this.visibleColumns.length);return this.cellEventPool.forEach(function(n){var i=n.gridCell.x+t;i>=0&&(e[n.gridCell.y][i]=n.value)}),e},isColumnVisible:function(e){return!!this.getVisibleColumn(e)},getVisibleColumn:function(e){return this.visibleColumns.findWithNeg(function(t){return t.columnIndex===e})},getMinimumLeftPositionToShowColumn:function(e){var t,n,i,r,o=this.grid.getFixedColumnCount(),s=0,a=0,l=0,u=[],c=null,h=0,d=0,f=0;for(h=0;h<=e;h++)d=f,f+=Math.ceil(this.grid.getColumnWidth(h)),u.push({left:d,right:f});i=u[u.length-1].right,r=u[o-1],this.properties.showRowNumbers&&(s=this.grid.getColumnWidth(this.grid.behavior.rowColumnIndex)),this.grid.hasTreeColumn()&&(a=this.grid.getColumnWidth(this.grid.behavior.treeColumnIndex)),t=r?r.right:0,n=this.getBounds().width-t-s-a,h=e;do{l=h,c=u[h],h--}while(c.left+n>i&&h>=0);return l},isDataColumnVisible:function(e){return!!this.getVisibleDataColumn(e)},getVisibleDataColumn:function(e){return this.visibleColumns.findWithNeg(function(t){return t.column.index===e})},getFinalVisibleColumnBoundary:function(){var e=this.isLastColumnVisible()?2:1,t=this.visibleColumns[this.visibleColumns.length-e].right;return Math.min(t,this.getBounds().width)},isRowVisible:function(e){return!!this.visibleRows[e]},getVisibleRow:function(e){return this.visibleRows[e]},isDataRowVisible:function(e,t){return!!this.getVisibleDataRow(e,t)},getVisibleDataRow:function(e,t){return t=t||this.grid.behavior.dataModel,this.visibleRows.find(function(n){return n.subgrid===t&&n.rowIndex===e})},isSelected:function(e,t){return this.grid.isSelected(e,t)},renderGrid:function(e){var t=this.grid;t.deferredBehaviorChange();var n=t.getRowCount();if(n!==this.lastKnowRowCount){var i=function(e,t){var n=this.grid.behavior.getColumnProperties(this.grid.behavior.rowColumnIndex),i=this.grid.properties,o=2*n.cellPadding;i.rowHeaderCheckboxes&&r.checked&&(o+=r.checked.width);if(i.rowHeaderNumbers){var s=n.rowHeader;e.cache.font=s.foregroundSelectionFont.indexOf("bold ")>=0?s.foregroundSelectionFont:s.font,o+=e.getTextWidth(t)}n.preferredWidth=n.width=o}.call(this,e,n);i!==this.handleColumnWidth&&(this.needsComputeCellsBounds=!0,this.handleColumnWidth=i),this.lastKnowRowCount=n}this.needsComputeCellsBounds&&(u.call(this),this.needsComputeCellsBounds=!1,t.behavior.dataModel.fetchData)?t.behavior.dataModel.fetchData(function(){var e=this.dataWindow;if(!this.grid.properties.fetchSubregions){var t=this.grid.newRectangle(e.left,e.top,e.width,e.height);return[t]}var n=this.visibleColumns.map(function(e){return e.column.index}).sort(c),i=n[0],r=n[n.length-1]-i+1;return[this.grid.newRectangle(i,e.top,r,e.height)]}.call(this),function(e,t){t||(this.gridRenderer.paintCells.call(this,e),this.grid.repaint())}.bind(this,e)):(this.gridRenderer.paintCells.call(this,e),this.renderOverrides(e),this.renderLastSelection(e))},renderLastSelection:function(e){var t,n,i,r,o,a=this.grid,l=a.properties,u=a.selectionModel;switch(u.getLastSelectionType()){case"column":var c=u.columnSelectionModel.selection,h=c[c.length-1];n=h[0],i=0,r=h[1]-n+1,o=a.getRowCount(),t=new s(n,i,r,o);break;case"row":if(!l.collapseCellSelections||"cell"!==u.getLastSelectionType(1)){var d=u.rowSelectionModel.selection,f=d[d.length-1];n=0,i=f[0],r=a.behavior.getActiveColumns().length,o=f[1]-i+1,t=new s(n,i,r,o);break}case"cell":t=u.getLastSelection()}if(t&&-1!==t.origin.x){var g,p,v=this.visibleColumnsByIndex,m=this.visibleRowsByDataRowIndex,y=this.visibleColumns[this.visibleColumns.length-1],b=this.visibleRows[this.visibleRows.length-1],w=v[this.dataWindow.origin.x],C=m[this.dataWindow.origin.y],x=l.fixedColumnCount,S=l.fixedRowCount,R=a.getHeaderRowCount();if(!((g=this.visibleColumns[0])&&t.corner.x<g.columnIndex||x&&w&&(g=this.visibleColumns[x-1])&&t.origin.x>g.columnIndex&&t.corner.x<w.columnIndex||y&&t.origin.x>y.columnIndex||(p=this.visibleRows[R])&&t.corner.y<p.rowIndex||S&&C&&(p=this.visibleRows[R+S-1])&&t.origin.y>p.rowIndex&&t.corner.y<C.rowIndex||b&&t.origin.y>b.rowIndex)){var E=v[t.origin.x]||w,A=m[t.origin.y]||C,_=v[t.corner.x]||(t.corner.x>y.columnIndex?y:v[x-1]),k=m[t.corner.y]||(t.corner.y>b.rowIndex?b:m[S-1]);if(E&&A&&_&&k){var M={bounds:{x:E.left,y:A.top,width:_.right-E.left,height:k.bottom-A.top},selectionRegionOverlayColor:this.gridRenderer.paintCells.partial?"transparent":l.selectionRegionOverlayColor,selectionRegionOutlineColor:l.selectionRegionOutlineColor};a.cellRenderers.get("lastselection").paint(e,M),"by-cells"===this.gridRenderer.paintCells.key&&(this.gridRenderer.reset=!0)}}}},renderOverrides:function(e){var t=this.grid.renderOverridesCache;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];i&&this.renderOverride(e,i)}},renderOverride:function(e,t){var n=t.hdpiratio,i=t.startX,r=t.width+1,o=t.height,s=t.ctx,a=e.getImageData(i,0,Math.round(r*n),Math.round(o*n));s.putImageData(a,0,0),e.cache.fillStyle=this.properties.backgroundColor2,e.fillRect(Math.round(i/n),0,r,o)},getScrollTop:function(){return this.grid.getVScrollValue()},getScrollLeft:function(){return this.grid.getHScrollValue()},isLastColumnVisible:function(){var e=this.grid.getColumnCount()-1;return!!this.visibleColumns.findWithNeg(function(t){return t.columnIndex===e})},getRenderedWidth:function(e){var t=this.visibleColumns;return e>=t.length?t[t.length-1].right:t[e].left},getRenderedHeight:function(e){var t,n=this.visibleRows;e>=n.length?t=n[n.length-1].bottom:t=n[e].top;return t},isDraggingColumn:function(){return this.grid.isDraggingColumn()},getPageUpRow:function(){for(var e=this.grid,t=this.getVisibleScrollHeight(),n=this.dataWindow.origin.y-this.properties.fixedRowCount-1,i=0;i<t&&n>=0;)i+=e.getRowHeight(n),n--;return n+1},getPageDownRow:function(){return this.dataWindow.corner.y-this.properties.fixedRowCount},renderErrorCell:function(e,t,n,i){var r=e&&(e.message||e)||"Unknown error.",o={x:n.left,y:i.top,width:n.width,height:i.height},s={bounds:o};console.error(r),t.cache.save(),t.beginPath(),t.rect(o.x,o.y,o.width,o.height),t.clip(),this.grid.cellRenderers.get("errorcell").paint(t,s,r),t.cache.restore()},paintGridlines:function(e){var t=this.visibleColumns,n=t.length,i=this.visibleRows,r=i.length;if(n&&r){var o,s,a,l=this.properties,u=n-1,c=r-1,h=t[u].right,d=i[c].bottom,f=l.gridLinesVColor,g=l.gridLinesHColor,p="border-box"===l.boxSizing;if(l.gridLinesV&&(l.gridLinesUserDataArea||l.gridLinesColumnHeader)){var v=l.gridLinesVWidth,m=this.grid.getHeaderRowCount(),y=i[m-1],b=i[m],w=b&&b.top,C=l.gridLinesColumnHeader?0:w,x=l.gridLinesUserDataArea?d:y&&y.bottom;void 0!==C&&void 0!==x&&(e.cache.fillStyle=f,t.forEachWithNeg(function(t,n){if(t&&n<u){var i=t.right,r=Math.max(C,t.top||0),o=Math.min(x,t.bottom||1/0)-r;p&&(i-=v),e.fillRect(i,r,v,o),l.gridLinesUserDataArea&&t.bottom<w&&e.fillRect(i,w,v,x-w)}}))}if(l.gridLinesH&&(l.gridLinesUserDataArea||(o=l.gridLinesRowHeader&&(t[-1]||t[-2])))){var S=l.gridLinesHWidth,R=l.gridLinesRowHeader?0:t[0].left,E=l.gridLinesUserDataArea?h:o.right;e.cache.fillStyle=g,i.forEach(function(t,n){if(n<c){var i=t.bottom;p&&(i-=S),e.fillRect(R,i,E-R,S)}})}void 0!==l.fixedLinesHWidth&&(a=i.gap)&&(e.cache.fillStyle=l.fixedLinesHColor||g,(s=l.fixedLinesHEdge)?(e.fillRect(0,a.top,h,s),e.fillRect(0,a.bottom-s,h,s)):e.fillRect(0,a.top,h,a.bottom-a.top)),void 0!==l.fixedLinesVWidth&&(a=t.gap)&&(e.cache.fillStyle=l.fixedLinesVColor||f,(s=l.fixedLinesVEdge)?(e.fillRect(a.left,0,s,d),e.fillRect(a.right-s,0,s,d)):e.fillRect(a.left,0,a.right-a.left,d))}},_paintCell:function(e,t,n){var i,r,o=this.grid,s=o.selectionModel,a=t.isHandleColumn,l=t.isTreeColumn,u=t.isColumnSelected,c=t.isDataRow,h=t.isRowSelected,d=t.isCellSelected,f=t.isHeaderRow,g=t.isFilterRow,p=a||l,v=!p&&c,m=this.assignProps(t),y=(m.gridCell=t.gridCell).x,b=(m.dataCell=t.dataCell).y;a?(r=h||s.isCellSelectedInRow(b),m.halign="right"):l?(r=h||s.isCellSelectedInRow(b),m.halign="left"):r=c?d||h||u:!g&&(!!u||s.isCellSelectedInColumn(y)),a?c?m.rowHeaderNumbers&&(i=b+1):f&&(m.allRowsSelected=s.areAllRowsSelected()):(m.dataRow=t.dataRow,i=t.value),m.isSelected=r,m.isDataColumn=!p,m.isHandleColumn=a,m.isTreeColumn=l,m.isDataRow=c,m.isHeaderRow=f,m.isFilterRow=g,m.isUserDataArea=v,m.isColumnHovered=t.isColumnHovered,m.isRowHovered=t.isRowHovered,m.isCellHovered=t.isCellHovered,m.bounds=t.bounds,m.isCellSelected=d,m.isRowSelected=h,m.isColumnSelected=u,m.isInCurrentSelectionRectangle=s.isInCurrentSelectionRectangle(y,b),m.prefillColor=n,o.mouseDownState&&(m.mouseDown=o.mouseDownState.gridCell.equals(t.gridCell)),m.subrow=0;var w=v&&i&&i.constructor===Array,C=w&&i.subrows&&i.length;if(C){var x=m.bounds=Object.assign({},m.bounds);x.height/=C,m.subrows=C,m.value=m.exec(i[0])}else C=1,m.value=!w&&v?m.exec(i):i;for(;;){var S=t.subgrid.getCell(m,m.renderer);if(m.formatValue=o.getFormatter(m.format),m.snapshot=t.snapshot[m.subrow],m.minWidth=t.minWidth,S.forEach?S.forEach(function(t){t.paint(e,m)}):S.paint(e,m),t.snapshot[m.subrow]=m.snapshot,(void 0===t.minWidth||m.minWidth>t.minWidth)&&(t.minWidth=m.minWidth),++m.subrow===C)break;x.y+=x.height,m.value=m.exec(i[m.subrow])}return t.clickRect=m.clickRect,t.cellRenderer=S,m.minWidth},assignProps:o,findCell:function(e,t,n){var i,r,o=this.cellEventPool;"object"==typeof e?(n=e.subgrid,t=e.dataCell.y,i=e.dataCell.x):i=e,n=n||this.grid.behavior.dataModel;var s=this.visibleColumns.length;this.grid.properties.showRowNumbers&&s++,this.grid.behavior.hasTreeColumn()&&s++,s*=this.visibleRows.length;for(var a=0;a<s;++a)if((r=o[a]).subgrid===n&&r.dataCell.x===i&&r.dataCell.y===t)return r},resetCellPropertiesCache:function(e,t,n){var i=this.findCell.apply(this,arguments);return i&&(i._cellOwnProperties=void 0),i},resetAllCellPropertiesCaches:function(){this.cellEventPool.forEach(function(e){e._cellOwnProperties=void 0})},getBounds:function(){return this.bounds},setBounds:function(e){return this.bounds=e},setInfo:function(e){var t;this.visibleColumns.length&&(t=this.visibleColumns[this.visibleColumns.length-1].right),this.grid.canvas.setInfo(e,t)}});function u(){var e,t,n,i,r,o,a,l,u,c,h,d,f,g,p,v,m,y,b,w,C,x,S,R,E,A,_,k,M,P,O,D,T,H,I,L,F,j,N,B,z=this.getScrollTop(),V=this.getScrollLeft(),W=this.getBounds(),U=this.grid,G=U.behavior,K=G.hasTreeColumn(),Y=G.treeColumnIndex,Z=U.cellEditor&&U.cellEditor.event,Q=0,$=0,J=U.properties,q="border-box"===J.boxSizing,X=J.gridLinesVWidth,ee=q?0:X,te=J.gridLinesHWidth,ne=q?0:te,ie=this.grid.getFixedColumnCount(),re=this.grid.getFixedRowCount(),oe=G.leftMostColIndex,se=0,ae=-3,le=-1,ue=G.subgrids;for(Z&&(t=Z.gridCell.x,i=Z.dataCell.y,r=Z.subgrid),J.showRowNumbers&&(ae=K?Y:0,se+=1),K&&(ae=0,se+=1),ie&&(ae=ie),re&&(le=re),void 0===J.fixedLinesVWidth?ae=-3:(b=Math.max(J.fixedLinesVWidth||X,X),C=(w=q?b-X:b)-b),void 0===J.fixedLinesHWidth?le=-1:(x=Math.max(J.fixedLinesHWidth||te,te),R=(S=q?x-te:x)-x),this.scrollHeight=0,this.visibleColumns.length=0,this.visibleColumns.gap=this.visibleColumns[-1]=this.visibleColumns[-2]=void 0,this.visibleRows.length=0,this.visibleRows.gap=void 0,this.visibleColumnsByIndex=[],this.visibleRowsByDataRowIndex={},this.insertionBounds=[],a=0,h=oe,d=U.getColumnCount(),l=W.width||U.canvas.width;h<d&&a<=l;h++)if(K||h!==Y){if((B=h===ae)?(this.visibleColumns.gap={left:D.right+C,right:void 0},a+=w):a&&(a+=ee),M=h,h>=ie&&(L=M+=V,void 0===I&&(I=L)),M>=d)break;T=Math.ceil(G.getColumnWidth(M)),this.visibleColumns[h]=this.visibleColumnsByIndex[M]=D={index:h,columnIndex:M,column:G.getActiveColumn(M),left:a,width:T,right:a+T},B&&(this.visibleColumns.gap.right=D.left),t===M&&(e=D),a+=T,Q+=Math.round(T/2)+$,this.insertionBounds.push(Q),$=Math.round(T/2)}else this.visibleColumns[h]=void 0;for(k=J.defaultRowHeight*G.getFooterRowCount(),y=p=f=u=0,g=ue.length,c=W.height-k;f<g;f++,y+=m){for(m=(E=ue[f]).getRowCount(),_=E.isData,o=r===E,N=p,v=p+m;p<v&&u<c&&((B=_&&p===le)?(this.visibleRows.gap={top:O.bottom+R,bottom:void 0},u+=S):u&&(u+=ne),P=p,!(_&&p>=re&&(j=(P+=z)-y,void 0===F&&(F=j),P>=v)));p++)A=P-y,H=G.getRowHeight(A,E),this.visibleRows[p]=O={index:p,subgrid:E,rowIndex:A,top:u,height:H,bottom:u+H},B&&(this.visibleRows.gap.bottom=O.top),_&&(this.visibleRowsByDataRowIndex[P-y]=O),o&&i===A&&(n=O),u+=H;_&&(m=p-N)}Z&&(Z.visibleColumn=e,Z.visibleRow=n,Z.gridCell.y=n&&n.index,Z._bounds=null),this.dataWindow=new s(I,F,Math.min(L-I+1,this.visibleColumns.length),Math.min(j-F+1,this.visibleRows.length));var ce=this.cellEventPool,he=ce.length,de=(this.visibleColumns.length+se)*this.visibleRows.length;de>he&&(ce.length=de);for(var fe=he;fe<de;fe++)ce[fe]=new G.CellEvent;this.resetAllGridRenderers()}function c(e,t){return e-t}function h(e){a.indexOf(e)<0&&a.push(e)}h(n(118)),h(n(119)),h(n(120)),h(n(69)),h(n(121)),l.registerGridRenderer=h,e.exports=l},function(e,t,n){"use strict";var i,r="((data:image/svg\\+xml)(;\\w+)?(,)(.*)|(.*\\.svg))",o=new RegExp("^()"+r+"()$"),s=new RegExp('^(url\\(")'+r+'("\\))$'),a=0,l=2,u=3,c=4,h=5,d=6,f=7;function g(e,t,n,i){var r=this;e[f]?function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===p&&n.status===v&&t(n.responseText)},n.send(null)}(e[f],function(o){e[u]="data:image/svg+xml",e[c]=";base64",e[h]=",",e[d]=o,e[f]="",m.call(r,e,t,n,i)}):m.call(this,e,t,n,i)}(i=t).cssImagePropertyNames=["background-image","list-style-image","border-image","content"],i.setSvgProps=function(e){e.color&&(this.style.stroke=this.style.color=e.color),e.backgroundColor&&(this.style.fill=e.backgroundColor)},i.setImgSvgProps=function(e,t){if("IMG"===this.tagName){var n=this.src.match(o);n&&g.call(this,n,e,t,function(e){this.src=e})}return this},i.setRuleSvgProps=function(e,t,n){var r,o=this.style;function a(e){return r=o[e].match(s)}if("string"==typeof t&&(n=t,t=void 0),n)a(n);else for(var l=0;l<i.cssImagePropertyNames.length&&!a(n=i.cssImagePropertyNames[l]);++l);return r&&g.call(this,r,e,t,function(e){o[n]=e}),this};var p=4,v=200;function m(e,t,n,r){var o=e[c],s=e[d],u=document.createElement("div");switch(n=n||this.setSvgProps||i.setSvgProps,o){case void 0:u.innerHTML=s.indexOf("%3C")>=0?decodeURIComponent(s):s,n.call(u.firstElementChild,t);var h=(new XMLSerializer).serializeToString(u.firstElementChild);e[d]=encodeURIComponent(h);break;case";base64":u.innerHTML=s.indexOf("<")<0?atob(s):s,n.call(u.firstElementChild,t);h=(new XMLSerializer).serializeToString(u.firstElementChild);e[d]=btoa(h);break;default:throw new TypeError('Unexpected encoding "'+o+'"')}e[a]=e[l]=void 0,r.call(this,e.join(""))}i.mixin=function(e,t){return"svg"===e.tagName?t?e.setTheme=t:Object.defineProperty(e,"setTheme",{get:function(){return i.setSvgProps}}):"IMG"===e.tagName?(t&&(e.setSvgProps=t),e.setTheme=i.setImgSvgProps):"[object CSSStyleRule]"==e&&(t&&(e.setSvgProps=t),e.setTheme=i.setRuleSvgProps),e}},function(e,t){e.exports={calendar:{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAc0lEQVR4nIXQwQkCMRSE4U9ZLMCT9Xjaq2AfNhfYU5oQLMAOtoN48EWei5iBIRPe/yYQ3qrhf1lFG7iKcEaJxSfukUvMWgdHavt0uWHtg2QwxXnAnJZ2uOLyVZtybzzhgWNmfoFl0/YB87NbzR1cjP9xeQHSDC6mcL1xFQAAAABJRU5ErkJggg=="},checked:{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4xpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDMwMiwgMjAxNy8wMy8wMi0xNjo1OTozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZmM0YjdjYS01N2U3LTRjZTUtYWE3Zi1kYmFjZTU0ODJmZjciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkIzRUM3OEQzNkMyMTFFODhEOUJCMzRBRUM0QUQ5QUMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkIzRUM3OEMzNkMyMTFFODhEOUJCMzRBRUM0QUQ5QUMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIEVsZW1lbnRzIDE2LjAgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphZjdjMDA1NS1mMzJlLTQ1NjAtOGQxOS1lYTU1NGVhNDkzMmEiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo0YmZiODQwOS03ZWY0LTExN2ItYjI4MS05MDYxODEwMDAwMDAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5PI8IaAAAAkFBMVEVOTk5NTU29vb1paWnPz8/AwMC7u7u5ublDQ0NSUlJFRUVfX1/IyMixsbHi4uKFhYXT09PDw8NXV1fKysrMzMxYWFhzc3N7e3ve3t6ioqK+vr7Ly8uhoaHa2tqysrKurq7s7Oyvr6/Jycm2trbt7e3X19fh4eG1tbW/v7+3t7fo6OhERES6urrW1tbd3d0AAADC/hfQAAAAMHRSTlP//////////////////////////////////////////////////////////////wBipdB4AAAAcElEQVR42hTIRRbDMAwAUYVTZoa4ZleyfP/btZrVfwOlq4l66utlge5lrbIqq0cL9JX07Onv8PZr791pvm8H+DBrbhBiTn9f4IzjjcW6Qhw3zNnAxLHChln+iq9xsRUPQNFlyYUjlF0KwZiQDuUnwACjfw8FagWYLwAAAABJRU5ErkJggg=="},"down-rectangle":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAAkAAAAECAYAAABcDxXOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAABpJREFUGFdjgIL/eDAKIKgABggqgAE0BQwMAPTlD/Fpi0JfAAAAAElFTkSuQmCC"},"filter-off":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAChSURBVChTzZHBCoUgFET9TqEiskgyWoutQvRLRIr+cR7XQAjiJW/1BgZmMUevXsY5xy9OoDEGMcYiUzeB67qibVuwQjVNA6311V+WBeM4vsLDMEApde/1fY9pmtI453neHEKAlBJd1z0fXtc16PbjODK07zvmeUZVVd8nooc75zJIOX3Gm6i0bVsGKf8xKIRIuyJTLgJJ3nvQzsjW2geIsQ/pr9hMVrSncAAAAABJRU5ErkJggg=="},"filter-on":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAACoSURBVChTY3BqfP2fHAzWmDbj7f8p294RhVOBasEa02e+/e/VBmQQCTxaX/9PnvYGoj5ywpv/Qd2ENft3vv4f1gfVBAP+nW/+h/a+ATtn1q73KHjytvdgg3070DTBgHvL6/8g22fsQGiaDmSHA21xaybgIpDHixa8hWssnA8NDEIApCh3LkIjiD2INYJCL2X6W3B8gdhEaQQBUOCA4gyE8+e9xaKJgQEA/74BNE3cElkAAAAASUVORK5CYII="},unchecked:{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4xpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDMwMiwgMjAxNy8wMy8wMi0xNjo1OTozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphNDQ3MTQ0Zi0wYmFmLTQ3YzMtYjBmNi1kODRlNDI0MjU4ZDIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkIzRUM3OTEzNkMyMTFFODhEOUJCMzRBRUM0QUQ5QUMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkIzRUM3OTAzNkMyMTFFODhEOUJCMzRBRUM0QUQ5QUMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIEVsZW1lbnRzIDE2LjAgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OWY2YWVhMC0xZjJkLTRjM2UtYTRiZi02MWYyMDNlMmI4YjciIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2Nzk3NWVjNC03ZWY0LTExN2ItYjI4MS05MDYxODEwMDAwMDAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6ywX99AAAAYFBMVEW5ubm/v7/X19fLy8vp6ene3t69vb2xsbG6urq+vr6urq7a2tq4uLji4uLIyMjBwcHDw8PJycnPz8/V1dW1tbWvr6/t7e23t7e7u7vs7Oy2trbo6Ojh4eHW1tbd3d0AAAAm0pqPAAAAIHRSTlP/////////////////////////////////////////AFxcG+0AAABZSURBVHjaTIqHDoAgEEOLC9wL5RTP+/+/VIIxdCTNSyFjZQwR1YNAtftxhOQLUHjvQ68K+orqW2C7P7FL9okmrjLl5cv1/+lAKuOVmTObQyZ32tdulkeAAQCpggrEM7zMmAAAAABJRU5ErkJggg=="},"up-down-spin":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAGJJREFUOE+lkwEKACEIBH2Zb/PnHsoGeaVJDUjGOgRRpKpkiIj+y4MME3eDR7kaKOVNsJyMNjIHzGy9YnW6J7qIcrriQimeCqORNABd0fpRTkt8uVUj7EsxC6vs/q3e/Q6iD2bwnByjPXHNAAAAAElFTkSuQmCC"},"up-down":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAGFJREFUOE+lkkEKQCEIRD2ZJ3Ph3iN4WD9GflpYhj0YYowpGgJmbikd3gjMDFokwbuT1iAiurG5nomgqo5QaPo9ERQRI6Jf7sfGjudy2je23+i0Wl2oQ85TOdlfrJQOazF8br+rqTXQKn0AAAAASUVORK5CYII="}}},function(e,t,n){"use strict";var i=n(45),r=i.propClassEnum.COLUMNS,o=i.propClassEnum.CELLS,s=i.propClassEnum.ROWS,a=i.propClassEnum.STRIPES,l=[];l[r]=function(e){return e.columnProperties},l[o]=function(e){return e.cellOwnProperties},l[a]=function(e){var t=e.isDataRow&&e.columnProperties.rowStripes;return t&&t[e.dataCell.y%t.length]},l[s]=function(e){return e.rowOwnProperties},e.exports=function(e){var t,n,i,u=e.properties.propClassLayers;switch(u[0]){case s:t=1,n=e.rowOwnProperties||this.grid.properties;break;case r:u[1]===o?(t=2,n=e.properties):(t=1,n=e.columnProperties);break;case o:u[1]===r?(n=e.cellOwnProperties)?t=1:(t=2,n=e.columnProperties):u[2]===r||u[3]===r?(t=1,n=e.properties):(t=0,n=this.grid.properties);break;case a:t=0,n=this.grid.properties}for(i=[Object.create(n)];t<u.length;++t)i.push(l[u[t]](e));return Object.assign.apply(Object,i)}},function(e,t,n){"use strict";var i=n(69);function r(e){var t,n,r,o,s=this.visibleColumns,a=this.visibleRows,l=s.length,u=l-1,c=a.length,h=0,d=this.cellEventPool,f=c?a[c-1].bottom:0;l&&c&&(this.gridRenderer.reset&&(this.resetAllGridRenderers(),i.call(this,e),this.gridRenderer.reset=!1),this.visibleColumns.forEachWithNeg(function(i,s){for(i=(t=d[h]).visibleColumn,o=i.column.properties.columnClip,e.clipSave(o||null===o&&s===u,0,0,i.right,f),r=n=0;n<c;n++,h++){t=d[h];try{r=Math.max(r,this._paintCell(e,d[h]))}catch(t){this.renderErrorCell(t,e,i,d[h].visibleRow)}}e.clipRestore(o),t.column.properties.preferredWidth=Math.round(r)},this),"border-box"===this.grid.properties.boxSizing&&this.paintGridlines(e))}r.key="by-cells",r.partial=!0,e.exports=r},function(e,t,n){"use strict";var i=n(46);function r(e){var t,n,r,o,s,a,l,u,c=this.grid.properties.backgroundColor,h=this.visibleColumns,d=this.visibleRows,f=h.length,g=f-1,p=d.length,v=this.cellEventPool,m=f?h[g].right:0,y=p?d[p-1].bottom:0;if(e.clearRect(0,0,this.bounds.width,this.bounds.height),f&&p){for(e.alpha(c)>0&&(e.cache.fillStyle=c,e.fillRect(0,0,m,y)),this.gridRenderer.reset?(this.resetAllGridRenderers(["by-columns-discrete"]),this.gridRenderer.reset=!1,i.call(this,!0)):this.gridRenderer.rebundle&&(this.gridRenderer.rebundle=!1,i.call(this)),s=(o=this.columnBundles).length;s--;)r=o[s],e.clearFill(r.left,0,r.right-r.left,y,r.backgroundColor);var b=0;this.visibleColumns.forEachWithNeg(function(i,r){for(i=(n=v[b]).visibleColumn,t=n.column.properties.backgroundColor,u=i.column.properties.columnClip,e.clipSave(u||null===u&&r===g,0,0,i.right,y),l=a=0;a<p;a++,b++){n=v[b];try{l=Math.max(l,this._paintCell(e,n,t))}catch(t){this.renderErrorCell(t,e,i,n.visibleRow)}}e.clipRestore(u),n.column.properties.preferredWidth=Math.round(l)},this),this.paintGridlines(e)}}r.key="by-columns",r.rebundle=!0,e.exports=r},function(e,t,n){"use strict";var i=n(46);function r(e){var t,n,r,o,s,a=this.visibleColumns,l=this.visibleRows,u=a.length,c=u-1,h=l.length,d=this.cellEventPool,f=h?l[h-1].bottom:0;if(e.clearRect(0,0,this.bounds.width,this.bounds.height),u&&h){this.gridRenderer.reset&&(this.resetAllGridRenderers(["by-columns"]),this.gridRenderer.reset=!1,i.call(this,!0));var g=0;this.visibleColumns.forEachWithNeg(function(i,a){for(i=(n=d[g]).visibleColumn,t=n.column.properties.backgroundColor,e.clearFill(i.left,0,i.width,f,t),s=i.column.properties.columnClip,e.clipSave(s||null===s&&a===c,0,0,i.right,f),o=r=0;r<h;r++,g++){n=d[g];try{o=Math.max(o,this._paintCell(e,n,t))}catch(t){this.renderErrorCell(t,e,i,n.visibleRow)}}e.clipRestore(s),n.column.properties.preferredWidth=Math.round(o)},this),this.paintGridlines(e)}}r.key="by-columns-discrete",e.exports=r},function(e,t,n){"use strict";var i=n(70);function r(e){var t,n,r,o,s,a,l,u,c=this.grid.properties,h=c.backgroundColor,d=this.rowBundles,f=this.visibleColumns,g=this.visibleRows,p=f.length,v=p-1,m=g.length,y=this.cellEventPool,b=Array(p-0).fill(0),w=p?f[p-1].right:0,C=m?g[m-1].bottom:0,x=c.gridLinesH,S=c.gridLinesHWidth,R=c.gridLinesHColor;if(e.clearRect(0,0,this.bounds.width,this.bounds.height),p&&m){for(e.alpha(h)>0&&(e.cache.fillStyle=h,e.fillRect(0,0,w,C)),this.gridRenderer.reset&&(this.resetAllGridRenderers(),this.gridRenderer.reset=!1,i.call(this,!0)),n=this.rowPrefillColors,a=d.length;a--;)o=d[a],e.clearFill(0,o.top,w,o.bottom-o.top,o.backgroundColor);for(l=0,a=0;a<m;a++)t=n[a],x&&(e.cache.fillStyle=R,e.fillRect(0,y[l].visibleRow.bottom,w,S)),this.visibleColumns.forEachWithNeg(function(n){n=(r=y[++l]).visibleColumn,u=n.column.properties.columnClip,e.clipSave(u||null===u&&s===v,0,0,n.right,C);try{b[s]=Math.max(b[s],this._paintCell(e,r,t))}catch(t){this.renderErrorCell(t,e,n,void 0)}e.clipRestore(u)},this);this.paintGridlines(e),this.visibleColumns.forEachWithNeg(function(e,t){e.column.properties.preferredWidth=Math.round(b[t])})}}r.key="by-rows",e.exports=r},function(e,t,n){"use strict";var i=n(71),r=n(68);function o(e){this.grid=e,this.reset()}o.prototype={constructor:o.prototype.constructor,allRowsSelected:!1,reset:function(){this.selections=[],this.flattenedX=[],this.flattenedY=[],this.rowSelectionModel=new i,this.columnSelectionModel=new i,this.lastSelectionType=[]},getLastSelection:function(){var e=this.selections;return e[e.length-1]},getLastSelectionType:function(e){return this.lastSelectionType[e||0]||""},setLastSelectionType:function(e,t){var n=this.lastSelectionType.indexOf(e);(0!==n||t)&&(n>=0&&this.lastSelectionType.splice(n,1),t||this.lastSelectionType.unshift(e))},select:function(e,t,n,i,o){var s=new r(e,t,n+1,i+1);s.firstSelectedCell=this.grid.newPoint(e,t),s.lastSelectedCell=s.firstSelectedCell.x===s.origin.x&&s.firstSelectedCell.y===s.origin.y?s.corner:s.origin,this.grid.properties.multipleSelections?(this.selections.push(s),this.flattenedX.push(s.flattenXAt(0)),this.flattenedY.push(s.flattenYAt(0))):(this.selections[0]=s,this.flattenedX[0]=s.flattenXAt(0),this.flattenedY[0]=s.flattenYAt(0)),this.setLastSelectionType("cell"),this.grid.selectionChanged(o)},toggleSelect:function(e,t,n,i){var r=this.selections.findIndex(function(r){return r.origin.x===e&&r.origin.y===t&&r.extent.x===n&&r.extent.y===i});r>=0?(this.selections.splice(r,1),this.flattenedX.splice(r,1),this.flattenedY.splice(r,1),this.setLastSelectionType("cell",!this.selections.length),this.grid.selectionChanged()):this.select(e,t,n,i)},clearMostRecentSelection:function(e){e||this.setAllRowsSelected(!1),this.selections.length&&--this.selections.length,this.flattenedX.length&&--this.flattenedX.length,this.flattenedY.length&&--this.flattenedY.length,this.setLastSelectionType("cell",!this.selections.length)},clearMostRecentColumnSelection:function(){this.columnSelectionModel.clearMostRecentSelection(),this.setLastSelectionType("column",!this.columnSelectionModel.selection.length)},clearMostRecentRowSelection:function(){this.rowSelectionModel.clearMostRecentSelection(),this.setLastSelectionType("row",!this.rowSelectionModel.selection.length)},clearRowSelection:function(){this.rowSelectionModel.clear(),this.setLastSelectionType("row",!this.rowSelectionModel.selection.length)},getSelections:function(){return this.selections},hasSelections:function(){return 0!==this.selections.length},hasRowSelections:function(){return!this.rowSelectionModel.isEmpty()},hasColumnSelections:function(){return!this.columnSelectionModel.isEmpty()},isCellSelectedInRow:function(e){return this._isCellSelected(this.flattenedX,0,e)},isCellSelectedInColumn:function(e){return this._isCellSelected(this.flattenedY,e,0)},isSelected:function(e,t){return this.isColumnSelected(e)||this.isRowSelected(t)||this._isCellSelected(this.selections,e,t)},isCellSelected:function(e,t){return this._isCellSelected(this.selections,e,t)},_isCellSelected:function(e,t,n){var i=this;return!!e.find(function(e){return i.rectangleContains(e,t,n)})},clear:function(e){this.selections.length=0,this.flattenedX.length=0,this.flattenedY.length=0,this.columnSelectionModel.clear(),e?this.lastSelectionType.indexOf("row")>=0?this.lastSelectionType=["row"]:this.lastSelectionType.length=0:(this.lastSelectionType.length=0,this.setAllRowsSelected(!1),this.rowSelectionModel.clear())},isRectangleSelected:function(e,t,n,i){return!!this.selections.find(function(r){return r.origin.x===e&&r.origin.y===t&&r.extent.x===n&&r.extent.y===i})},isColumnSelected:function(e){return this.columnSelectionModel.isSelected(e)},isRowSelected:function(e){return this.allRowsSelected||this.rowSelectionModel.isSelected(e)},selectColumn:function(e,t){this.columnSelectionModel.select(e,t),this.setLastSelectionType("column",!this.columnSelectionModel.selection.length)},selectAllRows:function(){this.clear(),this.setAllRowsSelected(!0)},setAllRowsSelected:function(e){this.allRowsSelected=e},areAllRowsSelected:function(){return this.allRowsSelected},selectRow:function(e,t){this.rowSelectionModel.select(e,t),this.setLastSelectionType("row",!this.rowSelectionModel.selection.length)},deselectColumn:function(e,t){this.columnSelectionModel.deselect(e,t),this.setLastSelectionType("column",!this.columnSelectionModel.selection.length)},deselectRow:function(e,t){this.areAllRowsSelected()&&(this.setAllRowsSelected(!1),this.rowSelectionModel.select(0,this.grid.getRowCount()-1)),this.rowSelectionModel.deselect(e,t),this.setLastSelectionType("row",!this.rowSelectionModel.selection.length)},getSelectedRows:function(){if(this.areAllRowsSelected()){for(var e=this.grid.getRowCount(),t=new Array(e),n=0;n<e;n++)t[n]=n;return t}return this.rowSelectionModel.getSelections()},getSelectedColumns:function(){return this.columnSelectionModel.getSelections()},isColumnOrRowSelected:function(){return!this.columnSelectionModel.isEmpty()||!this.rowSelectionModel.isEmpty()},getFlattenedYs:function(){var e=[],t={};return this.selections.forEach(function(n){for(var i=n.origin.y,r=n.height,o=0;o<r;o++){var s=o+i;t[s]||(e.push(s),t[s]=!0)}}),e.sort(function(e,t){return e-t}),e},selectRowsFromCells:function(e,t){e=e||0;var n=this.rowSelectionModel;t||(this.setAllRowsSelected(!1),n.clear()),this.selections.forEach(function(t){var i=t.origin.y,r=t.extent.y;i+=e,n.select(i,i+r)})},selectColumnsFromCells:function(e){e=e||0;var t=this.columnSelectionModel;t.clear(),this.selections.forEach(function(n){var i=n.origin.x,r=n.extent.x;i+=e,t.select(i,i+r)})},isInCurrentSelectionRectangle:function(e,t){var n=this.getLastSelection();return n&&this.rectangleContains(n,e,t)},rectangleContains:function(e,t,n){var i=e.origin.x,r=e.origin.y,o=i+e.extent.x,s=r+e.extent.y;return e.extent.x<0&&(i=o,o=e.origin.x),e.extent.y<0&&(r=s,s=e.origin.y),t>=i&&n>=r&&t<=o&&n<=s}},e.exports=o},function(e,t,n){"use strict";var i=n(30),r=n(124),o=n(48),s=n(18),a=n(19),l={};function u(e,t){switch(typeof t){case"number":l.number||(console.warn("Column(behavior: object, index: number) overload has been deprecated as of v2.1.6 in favor of Column(behavior: object, columnSchema: object) overload with defined columnSchema.index. (Will be removed in a future release.)"),l.number=!0),t={index:t};break;case"string":var n,i;if(l.string||(console.warn("Column(behavior:object, name: string) overload (where name is sought in schema) has been deprecated as of v2.1.6 in favor of Column(behavior: object, columnSchema: object) overload with defined columnSchema.index. (Will be removed in a future release.)"),l.string=!0),n=t,(i=e.dataModel.schema.findIndex(function(e){return e.name===n}))<0)throw new this.HypergridError('Column named "'+n+'" not found in schema.');t={name:n,index:i};break;case"object":if(void 0===t.index){if(l.object||(console.warn("Column(behavior:object, columnSchema: object) overload (where columnSchema.index is undefined but columnSchema.name is sought in schema) has been deprecated as of v2.1.6 in favor of defined columnSchema.index. (Will be removed in a future release.)"),l.object=!0),n=t.name,(i=e.dataModel.schema.findIndex(function(e){return e.name===n}))<0)throw new this.HypergridError('Column named "'+n+'" not found in schema.');t.index=i}}if(void 0===t.index)throw new s("Column index required.");switch(this.behavior=e,this.dataModel=e.dataModel,Object.defineProperties(this,{index:{value:t.index},name:{enumerable:!0,value:t.name||t.index.toString()}}),this.properties=this.schema=t,t.index){case this.behavior.treeColumnIndex:var r=a[Object.create(this.properties.treeHeader,{isDataRow:{value:!0}}).leftIcon];this.properties.minimumColumnWidth=r?r.width+3:0;break;case this.behavior.rowColumnIndex:break;default:if(t.index<0)throw new this.HypergridError("New column index "+t.index+" out of range.")}}u.prototype={constructor:u.prototype.constructor,$$CLASS_NAME:"Column",HypergridError:s,mixIn:i.mixIn,set header(e){this.schema.header=e,this.behavior.grid.repaint()},get header(){return this.schema.header},set calculator(e){(e=function(e){if(!e)return;var t=' (for column "'+this.name+'").';if("function"==typeof e)e=e.toString();else if("string"!=typeof e)throw new s("Expected calculator function OR string containing calculator function OR calculator name"+t);var n,i,o=this.behavior.grid.properties.calculators||(this.behavior.grid.properties.calculators={});if(/^\w+$/.test(e)){if(!o[i=e])throw new s('Unknown calculator name "'+i+t)}else if(n=e.match(h))i=n[1];else if(e.test(d))i=e;else if(c.test(e))throw new s("Arrow function not permitted as column calculator "+t);o[i]||(o[i]=e);return o[i]=r(o[i]),o[i]}.call(this,e))!==this.schema.calculator&&(this.schema.calculator=e,this.behavior.grid.reindex())},get calculator(){return this.schema.calculator},set type(e){this.schema.type=e,this.behavior.reindex()},get type(){return this.schema.type},getValue:function(e,t){return this.dataModel.getValue(this.index,e,t)},setValue:function(e,t,n){return this.dataModel.setValue(this.index,e,t,n)},getWidth:function(){return this.properties.width||this.behavior.grid.properties.defaultColumnWidth},setWidth:function(e){(e=Math.min(Math.max(this.properties.minimumColumnWidth,e),this.properties.maximumColumnWidth||1/0))!==this.properties.width&&(this.properties.width=e,this.properties.columnAutosizing=!1)},checkColumnAutosizing:function(e){var t,n,i,r=this.properties;return r.columnAutosizing&&(t=r.width,n=r.preferredWidth||t,e=e||!r.columnAutosized,(t!==n||e&&void 0!==n)&&(r.width=e?n:Math.max(t,n),r.columnAutosizingMax&&r.width>r.columnAutosizingMax&&(r.width=r.columnAutosizingMax),r.columnAutosized=!isNaN(r.width),i=r.width!==t)),i},getCellType:function(e){var t=this.getValue(e);return this.typeOf(t)},getType:function(){var e=this.properties,t=e.type;return t||"unknown"!==(t=this.computeColumnType())&&(e.type=t),t},computeColumnType:function(){var e=this.behavior.getHeaderRowCount(),t=this.behavior.getRowCount(),n=this.getValue(e),i=this.typeOf(n);if(!i)return"unknown";for(var r=this.typeOf(n),o=e;o<t;o++)n=this.getValue(o),i=this.typeOf(n);return r},typeOf:function(e){if(null==e)return null;var t=typeof e;switch(t){case"object":return e.constructor.name.toLowerCase();case"number":return parseInt(e)===e?"int":"float";default:return t}},get properties(){return this._properties},set properties(e){this.addProperties(e,!0)},addProperties:function(e,t){e&&(!t&&this._properties||(this._properties=this.createColumnProperties()),o(this._properties,e))},setBackgroundColor:function(e){this.properties.backgroundColor!==e&&(this.properties.backgroundColor=e,this.behavior.grid.renderer.rebundleGridRenderers())},getCellEditorAt:function(e){var t=this.index,n=e.gridCell.y,i=e.properties.editor,r=Object.create(e,{format:{writable:!0,enumerable:!0,value:e.properties.format}}),o=e.subgrid.getCellEditorAt(t,n,i,r);return o&&!o.grid&&(o=void 0),o},getFormatter:function(){var e=this.properties.format;return this.behavior.grid.localization.get(e).format}};var c=/^(\(.*\)|\w+)\s*=>/,h=/^function\s+(\w+)\(/,d=/^function\s*\(/;u.prototype.mixIn(n(125).mixin),u.prototype.mixIn(n(126).mixin),e.exports=u},function(e,t,n){"use strict";var i=n(18);e.exports=function(e){switch(typeof e){case"undefined":case"function":return e;case"string":break;default:throw new i("Expected string, function, or undefined.")}var t=e.match(/^function\s*\w*\s*\(([^]*?)\)/);if(!t)throw new i("Expected function keyword with formal parameter list.");t=t[1].split(",").map(function(e,t){if(!(e=e.match(/\s*(\w*)\s*/))&&t)throw new i("Expected formal parameter.");return e[1]});var n=e.match(/{\s*([^]*?)\s*}\s*$/);if(!n)throw new i("Expected function body.");return n=n[1],1!==t.length||t[0]?t=t.concat(n):t[0]=n,Function.apply(null,t)}},function(e,t,n){"use strict";var i=n(48);function r(e,t){return this.getCellOwnProperties(e,t)||o.call(this,e,t)}function o(e,t){var n=(t||this.dataModel).getRowMetadata(e,null),i=this.properties;switch(this.index){case this.behavior.treeColumnIndex:i=i.treeHeader;break;case this.behavior.rowColumnIndex:i=i.rowHeader;break;default:t&&"filter"===t.type&&(i=this.properties.filterProperties)}return n[this.name]=Object.create(i)}t.mixin={getCellProperties:function(e,t){return this.getCellOwnProperties(e,t)||this.properties},setCellProperties:function(e,t,n){if(t)return Object.assign(o.call(this,e,n),t)},addCellProperties:function(e,t,n){if(t)return i(r.call(this,e,n),t)},getCellOwnProperties:function(e,t){var n;return(n=(t||this.dataModel).getRowMetadata(e))&&n&&n[this.name]||null},deleteCellOwnProperties:function(e,t){var n=(t=t||this.dataModel).getRowMetadata(e);n&&(delete n[this.name],0===Object.keys(n).length&&t.setRowMetadata(e))},getCellProperty:function(e,t,n){return this.getCellProperties(e,n)[t]},setCellProperty:function(e,t,n,i){var o=r.call(this,e,i);return o[t]=n,o},deleteCellProperty:function(e,t,n){var i=this.getCellOwnProperties(e,n);i&&delete i[t]},clearAllCellProperties:function(){this.behavior.subgrids.forEach(function(e){for(var t=e.getRowCount();t--;)this.deleteCellOwnProperties(t,e)},this)}}},function(e,t,n){"use strict";function i(){var e,t=this,n=t.behavior.grid.properties;switch(e=Object.create(n,{index:{get:function(){return t.index}},name:{get:function(){return t.name}},field:{get:function(){return t.name}},columnName:{get:function(){return t.name}},header:{get:function(){return t.header},set:function(e){this!==t.properties&&(n.header=e),t.header=e}},type:{get:function(){return t.type},set:function(e){this!==t.properties&&(n.type=e),t.type=e}},calculator:{get:function(){return t.calculator},set:function(e){this!==t.properties&&(n.calculator=e),t.calculator=e}},toJSON:{value:function(){return Object.assign({header:this.header,type:this.type,calculator:this.calculator},this)}}}),Object.defineProperties(e,{rowHeader:{value:Object.create(e,i.rowHeaderDescriptors)},treeHeader:{value:Object.create(e,i.treeHeaderDescriptors)},columnHeader:{value:Object.create(e,i.columnHeaderDescriptors)},filterProperties:{value:Object.create(e,i.filterDescriptors)}}),t.index){case t.behavior.treeColumnIndex:e=e.treeHeader;break;case t.behavior.rowColumnIndex:e=e.rowHeader}return e}i.treeHeaderDescriptors={font:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderFont},set:function(e){this.treeHeaderFont=e}},color:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderColor},set:function(e){this.treeHeaderColor=e}},backgroundColor:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderBackgroundColor},set:function(e){this.treeHeaderBackgroundColor=e}},foregroundSelectionFont:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderForegroundSelectionFont},set:function(e){this.treeHeaderForegroundSelectionFont=e}},foregroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderForegroundSelectionColor},set:function(e){this.treeHeaderForegroundSelectionColor=e}},renderer:{configurable:!0,enumerable:!0,get:function(){return this.isDataRow?this.treeRenderer:this.grid.properties.renderer},set:function(e){this.treeRenderer=e}},backgroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderBackgroundSelectionColor},set:function(e){this.treeHeaderBackgroundSelectionColor=e}},columnAutosizing:{configurable:!0,enumerable:!0,get:function(){return this.treeColumnAutosizing},set:function(e){this.treeColumnAutosizing=e}},columnAutosizingMax:{configurable:!0,enumerable:!0,get:function(){return this.treeColumnAutosizingMax},set:function(e){this.treeColumnAutosizingMax=e}}},i.rowHeaderDescriptors={font:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderFont},set:function(e){this.rowHeaderFont=e}},color:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderColor},set:function(e){this.rowHeaderColor=e}},backgroundColor:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderBackgroundColor},set:function(e){this.rowHeaderBackgroundColor=e}},foregroundSelectionFont:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderForegroundSelectionFont},set:function(e){this.rowHeaderForegroundSelectionFont=e}},foregroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderForegroundSelectionColor},set:function(e){this.rowHeaderForegroundSelectionColor=e}},backgroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderBackgroundSelectionColor},set:function(e){this.rowHeaderBackgroundSelectionColor=e}},leftIcon:{configurable:!0,enumerable:!0,get:function(){var e;if(this.grid.properties.rowHeaderCheckboxes)return this.isDataRow?e=this.isRowSelected?"checked":"unchecked":this.isHeaderRow?e=this.allRowsSelected?"checked":"unchecked":this.isFilterRow&&(e="filter-off"),e},set:function(e){Object.defineProperty(this,"leftIcon",{configurable:!0,enumerable:!0,writable:!0,value:e})}},columnAutosizing:{configurable:!0,enumerable:!0,get:function(){return this.rowNumberAutosizing},set:function(e){this.rowNumberAutosizing=e}}},i.filterDescriptors={font:{configurable:!0,enumerable:!0,get:function(){return this.filterFont},set:function(e){this.filterFont=e}},color:{configurable:!0,enumerable:!0,get:function(){return this.filterColor},set:function(e){this.filterColor=e}},backgroundColor:{configurable:!0,enumerable:!0,get:function(){return this.filterBackgroundColor},set:function(e){this.filterBackgroundColor=e}},foregroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.filterForegroundSelectionColor},set:function(e){this.filterForegroundSelectionColor=e}},backgroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.filterBackgroundSelectionColor},set:function(e){this.filterBackgroundSelectionColor=e}},halign:{configurable:!0,enumerable:!0,get:function(){return this.filterHalign},set:function(e){this.filterHalign=e}},renderer:{configurable:!0,enumerable:!0,get:function(){return this.filterRenderer},set:function(e){this.filterRenderer=e}},editor:{configurable:!0,enumerable:!0,get:function(){return this.filterEditor},set:function(e){this.filterEditor=e}},rightIcon:{configurable:!0,enumerable:!0,get:function(){var e;return this.filterable&&(e=this.filter?"filter-on":"filter-off"),e},set:function(e){Object.defineProperty(this,"rightIcon",{configurable:!0,enumerable:!0,writable:!0,value:e})}}},i.columnHeaderDescriptors={font:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderFont},set:function(e){this.columnHeaderFont=e}},color:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderColor},set:function(e){this.columnHeaderColor=e}},backgroundColor:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderBackgroundColor},set:function(e){this.columnHeaderBackgroundColor=e}},foregroundSelectionFont:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderForegroundSelectionFont},set:function(e){this.columnHeaderForegroundSelectionFont=e}},foregroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderForegroundSelectionColor},set:function(e){this.columnHeaderForegroundSelectionColor=e}},backgroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderBackgroundSelectionColor},set:function(e){this.columnHeaderBackgroundSelectionColor=e}},halign:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderHalign},set:function(e){this.columnHeaderHalign=e}},format:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderFormat},set:function(e){this.columnHeaderFormat=e}},renderer:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderRenderer},set:function(e){this.columnHeaderRenderer=e}},leftIcon:{writable:!0,value:void 0},centerIcon:{writable:!0,value:void 0},rightIcon:{writable:!0,value:void 0}},t.mixin={createColumnProperties:i}},function(e,t,n){"use strict";var i=Object.defineProperties({},{value:{get:function(){return this.subgrid.getValue(this.dataCell.x,this.dataCell.y)},set:function(e){this.subgrid.setValue(this.dataCell.x,this.dataCell.y,e)}},dataRow:{get:function(){return this.subgrid.getRow(this.dataCell.y)}},formattedValue:{get:function(){return this.grid.formatValue(this.properties.format,this.value)}},bounds:{get:function(){return this._bounds||(this._bounds={x:this.visibleColumn.left,y:this.visibleRow.top,width:this.visibleColumn.width,height:this.visibleRow.height})}},columnProperties:{get:function(){var e=this._columnProperties;return e||(e=this.column.properties,this.isDataColumn&&(this.isDataRow||(e=this.isFilterRow?e.filterProperties:e.columnHeader)),this._columnProperties=e),e}},cellOwnProperties:{get:function(){return void 0===this._cellOwnProperties&&(this._cellOwnProperties=this.column.getCellOwnProperties(this.dataCell.y,this.subgrid)),this._cellOwnProperties}},properties:{get:function(){return this.cellOwnProperties||this.columnProperties}},getCellProperty:{value:function(e){return this.properties[e]}},setCellProperty:{value:function(e,t){this._cellOwnProperties=this.column.setCellProperty(this.dataCell.y,e,t,this.subgrid)}},rowOwnProperties:{get:function(){return this.behavior.getRowProperties(this,void 0,this.subgrid)}},rowProperties:{get:function(){return this.behavior.getRowProperties(this,null,this.subgrid)},set:function(e){this.behavior.setRowProperties(this,e,this.subgrid)}},getRowProperty:{value:function(e){var t=this.rowOwnProperties;return t&&t[e]}},setRowProperty:{value:function(e,t){this.rowProperties[e]=t}},reset:{value:function(e,t){this._columnProperties=void 0,this._cellOwnProperties=void 0,this._bounds=void 0,this.snapshot=[],this.minWidth=void 0,this.visibleColumn=e,this.visibleRow=t,this.subgrid=t.subgrid,this.column=e.column,this.gridCell.x=e.columnIndex,this.gridCell.y=t.index,this.dataCell.x=this.column&&this.column.index,this.dataCell.y=t.rowIndex}},resetGridCY:{value:function(e,t){var n,i,r=(i=this.renderer.getVisibleColumn(e))&&(n=this.renderer.getVisibleRow(t));return r&&this.reset(i,n),r}},resetGridXY:{value:function(e,t){var n,i,r=(i=this.renderer.visibleColumns[e])&&(n=this.renderer.getVisibleRow(t));return r&&this.reset(i,n),r}},resetDataXY:{value:function(e,t,n){var i,r,o=(r=this.renderer.getVisibleDataColumn(e))&&(i=this.renderer.getVisibleDataRow(t,n));return o&&this.reset(r,i),o}},resetGridXDataY:{value:function(e,t,n,i){var r,o,s;return i?(o={column:this.behavior.getColumn(e),columnIndex:e},s={subgrid:n||this.behavior.dataModel,rowIndex:t},r=!0):r=(o=this.renderer.getVisibleColumn(e))&&(s=this.renderer.getVisibleDataRow(t,n)),r&&this.reset(o,s),r&&this}},clone:{value:function(e){var t=new this.constructor;return t.resetGridXY(this.visibleColumn.index,this.visibleRow.index),e&&Object.assign(t,this),t}},editPoint:{get:function(){throw"The `.editPoint` property is no longer available as of v1.2.10. Use the following coordinates instead:\n`.gridCell.x` - The active column index. (Adjusted for column scrolling after fixed columns.)\n`.gridCell.y` - The vertical grid coordinate. (Unaffected by row scrolling.)\n`.dataCell.x` - The data model's column index. (Unaffected by column scrolling.)\n`.dataCell.y` - The data model's row index. (Adjusted for data row scrolling after fixed rows.)\n"}},mousePointInClickRect:{get:function(){var e="clickRect"in this?this.clickRect:this.properties.clickRect;return!e||("function"==typeof e.contains?e.contains(this.mousePoint):e.x<=this.mousePoint.x&&this.mousePoint.x<e.x+e.width&&e.y<=this.mousePoint.y&&this.mousePoint.y<e.y+e.height)}},isRowVisible:{get:function(){return!!this.visibleRow}},isColumnVisible:{get:function(){return!!this.visibleColumn}},isCellVisible:{get:function(){return this.isRowVisible&&this.isColumnVisible}},isDataRow:{get:function(){return this.subgrid.isData}},isDataColumn:{get:function(){return this.gridCell.x>=0}},isDataCell:{get:function(){return this.isDataRow&&this.isDataColumn}},isRowSelected:{get:function(){return this.isDataRow&&this.selectionModel.isRowSelected(this.dataCell.y)}},isColumnSelected:{get:function(){return this.isDataColumn&&this.selectionModel.isColumnSelected(this.gridCell.x)}},isCellSelected:{get:function(){return this.selectionModel.isCellSelected(this.gridCell.x,this.dataCell.y)}},isRowHovered:{get:function(){return this.grid.canvas.hasMouse&&this.isDataRow&&this.grid.hoverCell&&this.grid.hoverCell.y===this.gridCell.y}},isColumnHovered:{get:function(){return this.grid.canvas.hasMouse&&this.isDataColumn&&this.grid.hoverCell&&this.grid.hoverCell.x===this.gridCell.x}},isCellHovered:{get:function(){return this.isRowHovered&&this.isColumnHovered}},isRowFixed:{get:function(){return this.isDataRow&&this.dataCell.y<this.grid.properties.fixedRowCount}},isColumnFixed:{get:function(){return this.isDataColumn&&this.gridCell.x<this.grid.properties.fixedColumnCount}},isCellFixed:{get:function(){return this.isRowFixed&&this.isColumnFixed}},isHandleColumn:{get:function(){return this.gridCell.x===this.behavior.rowColumnIndex&&this.grid.properties.showRowNumbers}},isHandleCell:{get:function(){return this.isHandleColumn&&this.isDataRow}},isTreeColumn:{get:function(){return this.gridCell.x===this.behavior.treeColumnIndex}},isHeaderRow:{get:function(){return this.subgrid.isHeader}},isHeaderHandle:{get:function(){return this.isHeaderRow&&this.isHandleColumn}},isHeaderCell:{get:function(){return this.isHeaderRow&&this.isDataColumn}},isFilterRow:{get:function(){return this.subgrid.isFilter}},isFilterHandle:{get:function(){return this.isFilterRow&&this.isHandleColumn}},isFilterCell:{get:function(){return this.isFilterRow&&this.isDataColumn}},isSummaryRow:{get:function(){return this.subgrid.isSummary}},isSummaryHandle:{get:function(){return this.isSummaryRow&&this.isHandleColumn}},isSummaryCell:{get:function(){return this.isSummaryRow&&this.isDataColumn}},isTopTotalsRow:{get:function(){return this.subgrid===this.behavior.subgrids.lookup.topTotals}},isTopTotalsHandle:{get:function(){return this.isTopTotalsRow&&this.isHandleColumn}},isTopTotalsCell:{get:function(){return this.isTopTotalsRow&&this.isDataColumn}},isBottomTotalsRow:{get:function(){return this.subgrid===this.behavior.subgrids.lookup.bottomTotals}},isBottomTotalsHandle:{get:function(){return this.isBottomTotalsRow&&this.isHandleColumn}},isBottomTotalsCell:{get:function(){return this.isBottomTotalsRow&&this.isDataColumn}},$$CLASS_NAME:{value:"CellEvent"}}),r=n(2).Point;function o(e,t){}o.prototype=r.prototype;var s={writable:!0},a={writable:!0,enumerable:!0};e.exports=function(e){function t(e,t){Object.defineProperties(this,{visibleColumn:s,visibleRow:s,subgrid:s,gridCell:{value:new o},dataCell:{value:new o},column:a,_columnProperties:s,_cellOwnProperties:s,_bounds:s,snapshot:s,minWidth:s,disabled:s}),arguments.length&&this.resetGridCY(e,t)}return t.prototype=Object.create(i,{constructor:{value:t},grid:{value:e},renderer:{value:e.renderer},selectionModel:{value:e.selectionModel},behavior:{value:e.behavior},dataModel:{value:e.behavior.dataModel}}),t}},function(e,t,n){"use strict";var i=n(32),r=/^__/,o={decorateSchema:function(e){return(new i).decorateArray(e),e},decorateColumnSchema:function(e,t){var n=new i;return n.transformations={},n.transformations[t]="header",n.decorateArray(e),e},normalizeSchema:function(e){e.forEach(function(t,n){"string"==typeof t&&(e[n]={name:t})});for(var t=e.length;t--;)r.test(e[t].name)&&e.splice(t,1);return e.forEach(function(e,t){e.index=t}),e},getFieldNames:function(e){return Object.keys(e||{}).filter(function(e){return!r.test(e)})},titleize:n(49).toTitle,getSchema:function(e){var t=e&&e[0]||{},n=o.getFieldNames(t);return o.normalizeSchema(n),o.decorateSchema(n),o.decorateColumnSchema(n,"toTitle"),n}};e.exports=o},function(e,t,n){"use strict";var i=n(33).extend("Features",{BaseClass:n(0),initialize:function(){this.add(i.CellClick),this.add(i.CellEditing),this.add(i.CellSelection),this.add(i.ColumnMoving),this.add(i.ColumnResizing),this.add(i.ColumnSelection),this.add(i.ColumnSorting),this.add(i.Filters),this.add(i.KeyPaging),this.add(i.OnHover),this.add(i.RowSelection),this.add(i.ThumbwheelScrolling)}});i.BaseClass=n(0),i.CellClick=n(130),i.CellEditing=n(131),i.CellSelection=n(133),i.ColumnMoving=n(134),i.ColumnResizing=n(135),i.ColumnSelection=n(136),i.ColumnSorting=n(137),i.Filters=n(138),i.KeyPaging=n(139),i.OnHover=n(140),i.RowSelection=n(141),i.ThumbwheelScrolling=n(142),e.exports=new i},function(e,t,n){"use strict";var i=n(0).extend("CellClick",{handleMouseMove:function(e,t){var n=t.properties.link,i=n&&"boolean"!=typeof n;this.cursor=i?"pointer":null,this.next&&this.next.handleMouseMove(e,t)},handleClick:function(e,t){!((t.isDataCell||t.isTreeColumn)&&(void 0!==this.openLink(e,t)||e.cellClicked(t)))&&this.next&&this.next.handleClick(e,t)},openLink:function(e,t){var n,i,r=t.dataRow,o=Object.create(t.properties,{dataRow:{value:r}}),s=o.exec(t.value),a=t.properties.link,l=a instanceof Array,u=l?a[0]:a;switch(typeof u){case"string":"*"===u?i=s:/^\w+$/.test(u)&&(i=r[u]);break;case"function":i=u(t)}return i&&(i=i.toString().replace(/%name/g,o.name).replace(/%value/g,s),l?((a=a.slice())[0]=i,n=e.windowOpen.apply(e,a)):n=e.windowOpen(i,t.properties.linkTarget)),n&&(t.setCellProperty("linkColor",e.properties.linkVisitedColor),e.renderer.resetCellPropertiesCache(t),e.repaint()),n}});e.exports=i},function(e,t,n){"use strict";var i=n(0),r=n(12),o=i.extend("CellEditing",{handleClick:function(e,t){s.call(this,e,t)},handleDoubleClick:function(e,t){s.call(this,e,t,!0)},handleKeyDown:function(e,t){var n,i,o,s,a;(a=e.getGridCellFromLastSelection())&&a.properties.editOnKeydown&&!e.cellEditor&&("F2"===(n=t.detail.char)||(i=1===n.length&&!(t.detail.meta||t.detail.ctrl))||(o="DELETE"===n||"BACKSPACE"===n))?(s=e.onEditorActivate(a))instanceof r&&(i?s.input.value=n:o&&s.setEditorValue(""),t.detail.primitiveEvent.preventDefault()):this.next&&this.next.handleKeyDown(e,t)}});function s(e,t,n){!t.isDataCell||t.getCellProperty("editOnDoubleClick")^n||e.onEditorActivate(t),this.next&&this.next[n?"handleDoubleClick":"handleClick"](e,t)}e.exports=o},function(e,t,n){"use strict";t.shaker=function(e){var t=this,n=(e=e||{}).el||t.el,i=e.duration||"0.065s",r=window.getComputedStyle(n),o=r.transition.split(","),s=r.position,a=parseInt(r.left),l=-3,u=6;function c(i){i&&"left"!==i.propertyName||(n.style.left=a+l+"px",u--||(n.removeEventListener("transitionend",c),o.pop(),n.style.transition=o.join(","),n.style.position=s,e.callback&&e.callback.call(t,e)),l=u?-l:0)}o.push("left "+i),n.style.transition=o.join(","),n.addEventListener("transitionend",c),c()};var i={"background-color":"yellow","box-shadow":"0 0 10px red"};t.glower=function(e){var t=this,n=(e=e||{}).el||t.el,r=e.duration||"0.25s",o=e.styles||i,s=o.length,a=window.getComputedStyle(n),l={},u=a.transition,c=u.split(",");Object.keys(o).forEach(function(e){l[e]={style:a[e],undo:!0},c.push(e+" "+r)}),n.style.transition=c.join(","),n.addEventListener("transitionend",function i(r){var o=l[r.propertyName];o.undo?(n.style[r.propertyName]=o.style,o.undo=!1):--s||(n.removeEventListener("transitionend",i),n.style.transition=u,e.callback&&e.callback.call(t,e))}),Object.keys(o).forEach(function(e){n.style[e]=o[e]})}},function(e,t,n){"use strict";var i=n(0).extend("CellSelection",{currentDrag:null,lastDragCell:null,sbLastAuto:0,sbAutoStart:0,handleMouseUp:function(e,t){this.dragging&&(this.dragging=!1),this.next&&this.next.handleMouseUp(e,t)},handleMouseDown:function(e,t){var n=t.gridCell.x,i=t.dataCell.y;if(e.behavior.getCellProperty(t.dataCell.x,t.gridCell.y,"cellSelection")&&t.isDataCell&&!t.primitiveEvent.detail.isRightClick){var r=e.newPoint(n,i),o=t.primitiveEvent.detail.keys;this.dragging=!0,this.extendSelection(e,r,o)}else this.next&&this.next.handleMouseDown(e,t)},handleMouseDrag:function(e,t){this.dragging&&e.properties.cellSelection&&!t.primitiveEvent.detail.isRightClick?(this.currentDrag=t.primitiveEvent.detail.mouse,this.lastDragCell=e.newPoint(t.gridCell.x,t.dataCell.y),this.checkDragScroll(e,this.currentDrag),this.handleMouseDragCellSelection(e,this.lastDragCell,t.primitiveEvent.detail.keys)):this.next&&this.next.handleMouseDrag(e,t)},handleKeyDown:function(e,t){var n=t.detail,i=e.getGridCellFromLastSelection(!0),r=this["handle"+(i&&(i.properties.mappedNavKey(n.char,n.ctrl)||i.properties.navKey(n.char,n.ctrl)))];r?(r.call(this,e,n),i.properties.editOnNextCell&&(e.renderer.computeCellsBounds(!0),i=e.getGridCellFromLastSelection(),e.editAt(i)),e.cellEditor||e.takeFocus()):this.next&&this.next.handleKeyDown(e,t)},handleMouseDragCellSelection:function(e,t,n){var i=Math.max(0,t.x),r=Math.max(0,t.y),o=e.getDragExtent(),s=e.getMouseDown(),a=i-s.x,l=r-s.y;o.x===a&&o.y===l||(e.clearMostRecentSelection(),e.select(s.x,s.y,a,l),e.setDragExtent(e.newPoint(a,l)),e.repaint())},checkDragScroll:function(e,t){e.properties.scrollingEnabled&&(e.getDataBounds().contains(t)?e.isScrollingNow()&&e.setScrollingNow(!1):e.isScrollingNow()||(e.setScrollingNow(!0),this.scrollDrag(e)))},scrollDrag:function(e){if(e.isScrollingNow()){var t=e.isMouseDownInHeaderArea(),n=this.lastDragCell,i=e.getDataBounds(),r=0,o=0,s=e.getFixedColumnCount(),a=e.getFixedRowCount(),l=n.x<s,u=n.y<a;t||(this.currentDrag.x<i.origin.x&&(r=-1),this.currentDrag.y<i.origin.y&&(o=-1)),this.currentDrag.x>i.origin.x+i.extent.x&&(r=1),this.currentDrag.y>i.origin.y+i.extent.y&&(o=1);var c=r,h=o;l&&(c=0),u&&(h=0),this.lastDragCell=n.plusXY(c,h),e.scrollBy(r,o),this.handleMouseDragCellSelection(e,n,[]),e.repaint(),setTimeout(this.scrollDrag.bind(this,e),25)}},extendSelection:function(e,t,n){var i=n.indexOf("CTRL")>=0,r=n.indexOf("SHIFT")>=0,o=e.getMouseDown(),s=t.x,a=t.y;if(!(s<0||a<0)){if(i&&s===o.x&&a===o.y)return e.clearMostRecentSelection(),e.popMouseDown(),void e.repaint();i||r||e.clearSelections(),r?(e.clearMostRecentSelection(),e.select(o.x,o.y,s-o.x,a-o.y),e.setDragExtent(e.newPoint(s-o.x,a-o.y))):(e.select(s,a,0,0),e.setMouseDown(e.newPoint(s,a)),e.setDragExtent(e.newPoint(0,0))),e.repaint()}},handleDOWNSHIFT:function(e){this.moveShiftSelect(e,0,1)},handleUPSHIFT:function(e){this.moveShiftSelect(e,0,-1)},handleLEFTSHIFT:function(e){this.moveShiftSelect(e,-1,0)},handleRIGHTSHIFT:function(e){this.moveShiftSelect(e,1,0)},handleDOWN:function(e,t){t.primitiveEvent.preventDefault();var n=this.getAutoScrollAcceleration();e.moveSingleSelect(0,n)},handleUP:function(e,t){t.primitiveEvent.preventDefault();var n=this.getAutoScrollAcceleration();e.moveSingleSelect(0,-n)},handleLEFT:function(e){e.moveSingleSelect(-1,0)},handleRIGHT:function(e){e.moveSingleSelect(1,0)},getAutoScrollAcceleration:function(){var e=this.getAutoScrollDuration()/2e3;return Math.max(1,Math.floor(e*e*e*e))},setAutoScrollStartTime:function(){this.sbAutoStart=Date.now()},pingAutoScroll:function(){Date.now()-this.sbLastAuto>500&&this.setAutoScrollStartTime(),this.sbLastAuto=Date.now()},getAutoScrollDuration:function(){return Date.now()-this.sbLastAuto>500?0:Date.now()-this.sbAutoStart},moveShiftSelect:function(e,t,n){e.extendSelect(t,n)&&this.pingAutoScroll()}});e.exports=i},function(e,t,n){"use strict";var i,r,o,s,a=n(0),l=["grab","-moz-grab","-webkit-grab"],u=["grabbing","-moz-grabbing","-webkit-grabbing"],c=function(e){this.cursor=e},h=a.extend("ColumnMoving",{floaterAnimationQueue:[],columnDragAutoScrollingRight:!1,columnDragAutoScrollingLeft:!1,dragArmed:!1,dragging:!1,dragCol:-1,dragOffset:0,initializeOn:function(e){this.isFloatingNow=!1,this.initializeAnimationSupport(e),this.next&&this.next.initializeOn(e)},initializeAnimationSupport:function(e){i||((i=document.createElement("canvas")).setAttribute("width","0px"),i.setAttribute("height","0px"),i.style.position="fixed",document.body.appendChild(i),r=i.getContext("2d",{alpha:!1})),o||((o=document.createElement("canvas")).setAttribute("width","0px"),o.setAttribute("height","0px"),o.style.position="fixed",document.body.appendChild(o),s=o.getContext("2d",{alpha:!1}))},handleMouseDrag:function(e,t){var n,i=t.gridCell;Math.abs(t.primitiveEvent.detail.dragstart.x-t.primitiveEvent.detail.mouse.x)<10||t.isColumnFixed?this.next&&this.next.handleMouseDrag(e,t):(t.isHeaderCell&&this.dragArmed&&!this.dragging?(this.dragging=!0,this.dragCol=i.x,this.dragOffset=t.mousePoint.x,this.detachChain(),n=t.primitiveEvent.detail.mouse.x-this.dragOffset,this.createDragColumn(e,n,this.dragCol)):this.next&&this.next.handleMouseDrag(e,t),this.dragging&&(n=t.primitiveEvent.detail.mouse.x-this.dragOffset,this.dragColumn(e,n)))},handleMouseDown:function(e,t){e.properties.columnsReorderable&&!t.primitiveEvent.detail.isRightClick&&!t.isColumnFixed&&t.isHeaderCell?(this.dragArmed=!0,this.cursor=u,e.clearSelections()):this.next&&this.next.handleMouseDown(e,t)},handleMouseUp:function(e,t){if(this.dragging){this.cursor=null;var n=this;this.endDragColumn(e),setTimeout(function(){n.attachChain()},200)}this.dragCol=-1,this.dragging=!1,this.dragArmed=!1,this.cursor=null,e.repaint(),this.next&&this.next.handleMouseUp(e,t)},handleMouseMove:function(e,t){e.properties.columnsReorderable&&!t.isColumnFixed&&!this.dragging&&t.isHeaderCell&&t.mousePoint.y<e.properties.columnGrabMargin?this.cursor=l:this.cursor=null,this.next&&this.next.handleMouseMove(e,t),t.isHeaderCell&&this.dragging&&(this.cursor=u)},floatColumnTo:function(e,t){this.floatingNow=!0;var n,i,r=e.renderer.visibleColumns,o=e.getHScrollValue(),s=e.renderOverridesCache.floater.columnIndex,a=e.renderOverridesCache.dragger.columnIndex,l=e.renderOverridesCache.dragger.hdpiratio,u=e.getFixedColumnCount(),c=e.getColumnWidth(a),h=e.getColumnWidth(s),d=e.getVisibleColumnsCount(),f=0,g=0;a>=u&&(f=o),s>=u&&(g=o),t?(n=r[Math.min(d,a-f)].left,i=r[Math.min(d,s-g)].left,e.renderOverridesCache.dragger.startX=(n+h)*l,e.renderOverridesCache.floater.startX=n*l):(n=(i=r[Math.min(d,s-g)].left)+c,e.renderOverridesCache.dragger.startX=i*l,e.renderOverridesCache.floater.startX=n*l),e.swapColumns(a,s),e.renderOverridesCache.dragger.columnIndex=s,e.renderOverridesCache.floater.columnIndex=a,this.floaterAnimationQueue.unshift(this.doColumnMoveAnimation(e,i,n)),this.doFloaterAnimation(e)},doColumnMoveAnimation:function(e,t,n){var i=this;return function(){var r=o;r.style.display="inline",i.setCrossBrowserProperty(r,"transform","translate("+t+"px, 0px)"),requestAnimationFrame(function(){i.setCrossBrowserProperty(r,"transition",(i.isWebkit?"-webkit-":"")+"transform 150ms ease"),i.setCrossBrowserProperty(r,"transform","translate("+n+"px, "+-2+"px)")}),e.repaint(),setTimeout(function(){i.setCrossBrowserProperty(r,"transition",""),e.renderOverridesCache.floater=null,e.repaint(),i.doFloaterAnimation(e),requestAnimationFrame(function(){r.style.display="none",i.isFloatingNow=!1})},200)}},doFloaterAnimation:function(e){if(0===this.floaterAnimationQueue.length)return this.floatingNow=!1,void e.repaint();this.floaterAnimationQueue.pop()()},createFloatColumn:function(e,t){var n=e.getFixedColumnCount(),i=e.getHScrollValue();t<n&&(i=0);var r=e.getColumnWidth(t),a=e.div.clientHeight,l=o,h=l.style,d=e.div.getBoundingClientRect();h.top=d.top-2+"px",h.left=d.left+"px";var f=e.getHiDPI(s);l.setAttribute("width",Math.round(r*f)+"px"),l.setAttribute("height",Math.round(a*f)+"px"),h.boxShadow="0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)",h.width=r+"px",h.height=a+"px",h.borderTop="1px solid "+e.properties.lineColor,h.backgroundColor=e.properties.backgroundColor;var g=e.renderer.visibleColumns[t-i].left*f;s.scale(f,f),e.renderOverridesCache.floater={columnIndex:t,ctx:s,startX:g,width:r,height:a,hdpiratio:f},h.zIndex="4",this.setCrossBrowserProperty(l,"transform","translate("+g+"px, "+-2+"px)"),u.forEach(c,h),e.repaint()},setCrossBrowserProperty:function(e,t,n){var i=t[0].toUpperCase()+t.substr(1);this.setProp(e,"webkit"+i,n),this.setProp(e,"Moz"+i,n),this.setProp(e,"ms"+i,n),this.setProp(e,"O"+i,n),this.setProp(e,t,n)},setProp:function(e,t,n){t in e.style&&(e.style[t]=n)},createDragColumn:function(e,t,n){var o=e.getFixedColumnCount(),s=e.getHScrollValue();n<o&&(s=0);var a=e.getHiDPI(r),l=e.getColumnWidth(n),h=e.div.clientHeight,d=i,f=e.div.getBoundingClientRect(),g=d.style;g.top=f.top+"px",g.left=f.left+"px",g.opacity=.85,g.boxShadow="0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22)",g.borderTop="1px solid "+e.properties.lineColor,g.backgroundColor=e.properties.backgroundColor,d.setAttribute("width",Math.round(l*a)+"px"),d.setAttribute("height",Math.round(h*a)+"px"),g.width=l+"px",g.height=h+"px";var p=e.renderer.visibleColumns[n-s].left*a;r.scale(a,a),e.renderOverridesCache.dragger={columnIndex:n,startIndex:n,ctx:r,startX:p,width:l,height:h,hdpiratio:a},this.setCrossBrowserProperty(d,"transform","translate("+t+"px, -5px)"),g.zIndex="5",u.forEach(c,g),e.repaint()},dragColumn:function(e,t){var n=this.columnDragAutoScrollingRight||this.columnDragAutoScrollingLeft,o=e.getHiDPI(r),s=e.renderOverridesCache.dragger.columnIndex,a=e.renderer.getFinalVisibleColumnBoundary();t=Math.min(t,a+15);var l=(t=Math.max(-15,t))<0&&0!==s,u=t>a,c=i;this.setCrossBrowserProperty(c,"transition",(this.isWebkit?"-webkit-":"")+"transform 0ms ease, box-shadow 150ms ease"),this.setCrossBrowserProperty(c,"transform","translate("+t+"px, "+-10+"px)"),requestAnimationFrame(function(){c.style.display="inline"});var h=e.renderer.getColumnFromPixelX(t+c.width/2/o);l&&(h=0),u&&(h=e.getColumnCount()-1);var d=s>h;if((d=d||h-s>=1)&&!n){var f=s<h;if(this.isFloatingNow)return;this.isFloatingNow=!0,this.createFloatColumn(e,h),this.floatColumnTo(e,f)}else{if(t<-10&&this.checkAutoScrollToLeft(e,t),t>-10&&(this.columnDragAutoScrollingLeft=!1),u||t>a+10)return void this.checkAutoScrollToRight(e,t);t<a+10&&(this.columnDragAutoScrollingRight=!1)}},checkAutoScrollToRight:function(e,t){this.columnDragAutoScrollingRight||(this.columnDragAutoScrollingRight=!0,this._checkAutoScrollToRight(e,t))},_checkAutoScrollToRight:function(e,t){if(this.columnDragAutoScrollingRight){var n=e.getHScrollValue();if(e.dragging&&!(n>e.sbHScroller.range.max-2)){var i=e.renderOverridesCache.dragger.columnIndex;e.scrollBy(1,0);var r=i+1;e.swapColumns(r,i),e.renderOverridesCache.dragger.columnIndex=r,setTimeout(this._checkAutoScrollToRight.bind(this,e,t),250)}}},checkAutoScrollToLeft:function(e,t){this.columnDragAutoScrollingLeft||(this.columnDragAutoScrollingLeft=!0,this._checkAutoScrollToLeft(e,t))},_checkAutoScrollToLeft:function(e,t){if(this.columnDragAutoScrollingLeft){var n=e.getHScrollValue();if(e.dragging&&!(n<1)){var i=e.renderOverridesCache.dragger.columnIndex;e.swapColumns(i+n,i+n-1),e.scrollBy(-1,0),setTimeout(this._checkAutoScrollToLeft.bind(this,e,t),250)}}},endDragColumn:function(e){var t=e.getFixedColumnCount(),n=e.getHScrollValue(),r=e.renderOverridesCache.dragger.columnIndex;r<t&&(n=0);var o=e.renderer.visibleColumns[r-n].left,s=i,a=e.renderOverridesCache.dragger.startIndex!==e.renderOverridesCache.dragger.columnIndex;this.setCrossBrowserProperty(s,"transition",(this.isWebkit?"-webkit-":"")+"transform 150ms ease, box-shadow 150ms ease"),this.setCrossBrowserProperty(s,"transform","translate("+o+"px, "+-1+"px)"),s.style.boxShadow="0px 0px 0px #888888",setTimeout(function(){e.renderOverridesCache.dragger=null,e.repaint(),requestAnimationFrame(function(){s.style.display="none",e.endDragColumnNotification(),a&&e.fireSyntheticOnColumnsChangedEvent()})},200)}});e.exports=h},function(e,t,n){"use strict";var i=n(0).extend("ColumnResizing",{dragStart:-1,dragStartWidth:-1,getMouseValue:function(e){return e.primitiveEvent.detail.mouse.x},overAreaDivider:function(e,t){var n=e.behavior.leftMostColIndex;return t.gridCell.x!==n&&t.mousePoint.x<=3||t.mousePoint.x>=t.bounds.width-3},getCursorName:function(){return"col-resize"},handleMouseDrag:function(e,t){if(this.dragColumn){var n=this.getMouseValue(t)-this.dragStart,i=this.dragStartWidth+n,r=this.nextStartWidth-n;if(this.nextColumn){var o=this.nextColumn.properties,s=this.dragColumn.properties;(0<n&&n<=this.nextStartWidth-o.minimumColumnWidth&&(!s.maximumColumnWidth||i<=s.maximumColumnWidth)||0>n&&n>=-(this.dragStartWidth-s.minimumColumnWidth)&&(!o.maximumColumnWidth||r<o.maximumColumnWidth))&&(e.behavior.setColumnWidth(this.dragColumn,i),e.behavior.setColumnWidth(this.nextColumn,r))}else e.behavior.setColumnWidth(this.dragColumn,i)}else this.next&&this.next.handleMouseDrag(e,t)},handleMouseDown:function(e,t){if(t.isHeaderRow&&this.overAreaDivider(e,t)){var n=t.gridCell.x;if(t.mousePoint.x<=3){n-=1;var i=e.renderer.visibleColumns[n]||e.renderer.visibleColumns[n-1];if(!i)return;this.dragColumn=i.column,this.dragStartWidth=i.width}else this.dragColumn=t.column,this.dragStartWidth=t.bounds.width;this.dragStart=this.getMouseValue(t),this.dragColumn.properties.resizeColumnInPlace?(n+=1,(i=e.renderer.visibleColumns[n]||e.renderer.visibleColumns[n+1])?(this.nextColumn=i.column,this.nextStartWidth=this.nextColumn.getWidth()):this.nextColumn=void 0):this.nextColumn=void 0}else this.next&&this.next.handleMouseDown(e,t)},handleMouseUp:function(e,t){this.dragColumn?(this.cursor=null,this.dragColumn=!1,t.primitiveEvent.stopPropagation(),e.behaviorShapeChanged()):this.next&&this.next.handleMouseUp(e,t)},handleMouseMove:function(e,t){this.dragColumn||(this.cursor=null,this.next&&this.next.handleMouseMove(e,t),this.cursor=t.isHeaderRow&&this.overAreaDivider(e,t)?this.getCursorName():null)},handleDoubleClick:function(e,t){if(t.isHeaderRow&&this.overAreaDivider(e,t)){var n=t.mousePoint.x<=3?e.behavior.getActiveColumn(t.gridCell.x-1):t.column;n.addProperties({columnAutosizing:!0,columnAutosized:!1}),setTimeout(function(){e.autosizeColumn(n)})}else this.next&&this.next.handleDoubleClick(e,t)}});e.exports=i},function(e,t,n){"use strict";var i=n(0).extend("ColumnSelection",{currentDrag:null,lastDragColumn:null,sbLastAuto:0,sbAutoStart:0,handleMouseUp:function(e,t){this.dragging&&(this.dragging=!1),this.next&&this.next.handleMouseUp(e,t)},handleDoubleClick:function(e,t){this.doubleClickTimer&&(clearTimeout(this.doubleClickTimer),this.doubleClickTimer=void 0),this.next&&this.next.handleDoubleClick(e,t)},handleMouseDown:function(e,t){this.doubleClickTimer||(e.properties.columnSelection&&!t.primitiveEvent.detail.isRightClick&&(e.properties.autoSelectColumns||t.isHeaderCell&&t.mousePoint.y>=5)?this.doubleClickTimer=setTimeout(function(e,t){this.doubleClickTimer=void 0,this.dragging=!0,this.extendSelection(e,t.gridCell.x,t.primitiveEvent.detail.keys)}.bind(this,e,t),function(e,t){var n;return t.isHeaderCell&&!(n=t.columnProperties).unsortable&&n.sortOnDoubleClick&&300}.call(this,e,t)):this.next&&this.next.handleMouseDown(e,t))},handleMouseDrag:function(e,t){e.properties.columnSelection&&!this.isColumnDragging(e)&&!t.primitiveEvent.detail.isRightClick&&this.dragging?(this.lastDragColumn=t.gridCell.x,this.currentDrag=t.primitiveEvent.detail.mouse,this.checkDragScroll(e,this.currentDrag),this.handleMouseDragCellSelection(e,this.lastDragColumn,t.primitiveEvent.detail.keys)):this.next&&this.next.handleMouseDrag(e,t)},handleKeyDown:function(e,t){var n=t.detail,i="column"===e.getLastSelectionType()&&this["handle"+n.char];i?i.call(this,e,n):this.next&&this.next.handleKeyDown(e,t)},handleMouseDragCellSelection:function(e,t,n){var i=e.getMouseDown().x;e.clearMostRecentColumnSelection(),e.selectColumn(i,t),e.setDragExtent(e.newPoint(t-i,0)),e.repaint()},checkDragScroll:function(e,t){e.properties.scrollingEnabled&&e.getDataBounds().contains(t)?e.isScrollingNow()&&e.setScrollingNow(!1):e.isScrollingNow()||(e.setScrollingNow(!0),this.scrollDrag(e))},scrollDrag:function(e){if(e.isScrollingNow()){var t,n=e.getDataBounds();this.currentDrag.x<n.origin.x?t=-1:this.currentDrag.x>n.origin.x+n.extent.x&&(t=1),t&&(this.lastDragColumn>=e.getFixedColumnCount()&&(this.lastDragColumn+=t),e.scrollBy(t,0)),this.handleMouseDragCellSelection(e,this.lastDragColumn,[]),e.repaint(),setTimeout(this.scrollDrag.bind(this,e),25)}},extendSelection:function(e,t,n){if(e.abortEditing()){var i=e.getMouseDown().x,r=n.indexOf("SHIFT")>0;t<0||(r?(e.clearMostRecentColumnSelection(),e.selectColumn(t,i),e.setDragExtent(e.newPoint(t-i,0))):(e.toggleSelectColumn(t,n),e.setMouseDown(e.newPoint(t,0)),e.setDragExtent(e.newPoint(0,0))),e.repaint())}},handleDOWNSHIFT:function(e){},handleUPSHIFT:function(e){},handleLEFTSHIFT:function(e){this.moveShiftSelect(e,-1)},handleRIGHTSHIFT:function(e){this.moveShiftSelect(e,1)},handleDOWN:function(e){},handleUP:function(e){},handleLEFT:function(e){this.moveSingleSelect(e,-1)},handleRIGHT:function(e){this.moveSingleSelect(e,1)},getAutoScrollAcceleration:function(){var e=this.getAutoScrollDuration()/2e3;return Math.max(1,Math.floor(e*e*e*e))},setAutoScrollStartTime:function(){this.sbAutoStart=Date.now()},pingAutoScroll:function(){Date.now()-this.sbLastAuto>500&&this.setAutoScrollStartTime(),this.sbLastAuto=Date.now()},getAutoScrollDuration:function(){return Date.now()-this.sbLastAuto>500?0:Date.now()-this.sbAutoStart},moveShiftSelect:function(e,t){var n=e.getMouseDown(),i=e.getDragExtent().x+t,r=e.renderer.visibleColumns.length-1,o=e.getColumnCount()-1;e.properties.scrollingEnabled||(o=Math.min(o,r)),i=Math.min(o-n.x,Math.max(-n.x,i)),e.clearMostRecentColumnSelection(),e.selectColumn(n.x,n.x+i),e.setDragExtent(e.newPoint(i,0)),e.insureModelColIsVisible(i+n.x,t)&&this.pingAutoScroll(),e.repaint()},moveSingleSelect:function(e,t){var n=e.getDragExtent(),i=e.getMouseDown().plus(n).x+t,r=e.getColumnCount()-1,o=e.getVisibleColumnsCount()-1;e.properties.scrollingEnabled||(r=Math.min(r,o)),i=Math.min(r,Math.max(0,i)),e.clearSelections(),e.selectColumn(i),e.setMouseDown(e.newPoint(i,0)),e.setDragExtent(e.newPoint(0,0)),e.insureModelColIsVisible(i,t)&&this.pingAutoScroll(),e.repaint()},isColumnDragging:function(e){var t=e.lookupFeature("ColumnMoving");return t&&(t.dragging||t.dragArmed)}});e.exports=i},function(e,t,n){"use strict";var i=n(0).extend("ColumnSorting",{handleClick:function(e,t){r.call(this,e,t)},handleDoubleClick:function(e,t){r.call(this,e,t,!0)},handleMouseMove:function(e,t){var n;t.isRowFixed&&t.isHeaderCell&&(n=e.behavior.getColumnProperties(t.gridCell.x))&&!n.unsortable?this.cursor="pointer":this.cursor=null,this.next&&this.next.handleMouseMove(e,t)}});function r(e,t,n){var i;!t.isHeaderCell||(i=t.columnProperties).unsortable||i.sortOnDoubleClick^n||e.fireSyntheticColumnSortEvent(t.gridCell.x,t.primitiveEvent.detail.keys),this.next&&this.next[n?"handleDoubleClick":"handleClick"](e,t)}e.exports=i},function(e,t,n){"use strict";var i=n(0).extend("Filters",{handleKeyDown:function(e,t){var n,i,r=t.detail;r.editor&&(n=r.editor.event).isFilterCell&&(i=this["handle"+n.properties.mappedNavKey(r.char)]),i?i.call(this,e,r):this.next&&this.next.handleKeyDown(e,t)},handleLEFT:function(e,t){r(e,t,-1)},handleRIGHT:function(e,t){r(e,t,1)},handleUP:o,handleDOWN:o,handleDoubleClick:function(e,t){t.isFilterCell?e.onEditorActivate(t):this.next&&this.next.handleDoubleClick(e,t)},handleClick:function(e,t){t.isFilterCell?e.onEditorActivate(t):this.next&&this.next.handleClick(e,t)}});function r(e,t,n){var i=t.editor.event,r=i.visibleColumn.index,s=i.visibleRow.index,a=r,l=e.renderer.visibleColumns.length;for(i=new e.behavior.CellEvent;(r=(r+n+l)%l)!==a&&i.resetGridXY(r,s);)if(i.properties.filterable)return void e.editAt(i);o(e,i)}function o(e,t){var n=t.editor.event.visibleColumn.index;e.selectViewportCell(n,0),e.takeFocus()}e.exports=i},function(e,t,n){"use strict";var i=n(0),r={PAGEDOWN:function(e){e.pageDown()},PAGEUP:function(e){e.pageUp()},PAGELEFT:function(e){e.pageLeft()},PAGERIGHT:function(e){e.pageRight()}},o=i.extend("KeyPaging",{handleKeyDown:function(e,t){var n=r[t.detail.char];n?n(e):this.next&&this.next.handleKeyDown(e,t)}});e.exports=o},function(e,t,n){"use strict";var i=n(0).extend("OnHover",{handleMouseMove:function(e,t){var n=e.hoverCell;t.gridCell.equals(n)?this.next&&this.next.handleMouseMove(e,t):(n&&this.handleMouseExit(e,n),this.handleMouseEnter(e,t),e.setHoverCell(t))}});e.exports=i},function(e,t,n){"use strict";var i=n(0).extend("RowSelection",{currentDrag:null,lastDragCell:null,sbLastAuto:0,sbAutoStart:0,dragArmed:!1,handleMouseUp:function(e,t){this.dragArmed?(this.dragArmed=!1,r(e),e.fireSyntheticRowSelectionChangedEvent()):this.dragging?(this.dragging=!1,r(e),e.fireSyntheticRowSelectionChangedEvent()):this.next&&this.next.handleMouseUp(e,t)},handleMouseDown:function(e,t){var n=!t.primitiveEvent.detail.isRightClick,i=n&&e.properties.showRowNumbers&&t.isHandleColumn&&t.mousePointInClickRect;if(!i||e.fireSyntheticRowHeaderClickedEvent(t)){var r=e.properties.rowSelection&&(n&&e.properties.autoSelectRows||i);r&&t.isHeaderHandle?e.toggleSelectAllRows():r&&t.isDataRow?(this.dragArmed=!0,this.extendSelection(e,t.dataCell.y,t.primitiveEvent.detail.keys)):this.next&&this.next.handleMouseDown(e,t)}},handleMouseDrag:function(e,t){this.dragArmed&&e.properties.rowSelection&&!t.primitiveEvent.detail.isRightClick?(this.lastDragRow=t.dataCell.y,this.dragging=!0,this.currentDrag=t.primitiveEvent.detail.mouse,this.checkDragScroll(e,this.currentDrag),this.handleMouseDragCellSelection(e,this.lastDragRow,t.primitiveEvent.detail.keys)):this.next&&this.next.handleMouseDrag(e,t)},handleKeyDown:function(e,t){var n;"row"===e.getLastSelectionType()&&(n=this["handle"+t.detail.char])?n.call(this,e,t.detail):this.next&&this.next.handleKeyDown(e,t)},handleMouseDragCellSelection:function(e,t,n){var i=e.getMouseDown().y;e.clearMostRecentRowSelection(),e.selectRow(i,t),e.setDragExtent(e.newPoint(0,t-i)),e.repaint()},checkDragScroll:function(e,t){e.properties.scrollingEnabled&&e.getDataBounds().contains(t)?e.isScrollingNow()&&e.setScrollingNow(!1):e.isScrollingNow()||(e.setScrollingNow(!0),this.scrollDrag(e))},scrollDrag:function(e){if(e.isScrollingNow()){var t,n=e.getDataBounds();this.currentDrag.y<n.origin.y?t=-1:this.currentDrag.y>n.origin.y+n.extent.y&&(t=1),t&&(this.lastDragRow>=e.getFixedRowCount()&&(this.lastDragRow+=t),e.scrollBy(0,t)),this.handleMouseDragCellSelection(e,this.lastDragRow,[]),e.repaint(),setTimeout(this.scrollDrag.bind(this,e),25)}},extendSelection:function(e,t,n){if(e.abortEditing()){var i=e.getMouseDown().y,r=-1!==n.indexOf("SHIFT");t<0||(r?(e.clearMostRecentRowSelection(),e.selectRow(t,i),e.setDragExtent(e.newPoint(0,t-i))):(e.toggleSelectRow(t,n),e.setMouseDown(e.newPoint(0,t)),e.setDragExtent(e.newPoint(0,0))),e.repaint())}},handleDOWNSHIFT:function(e){this.moveShiftSelect(e,1)},handleUPSHIFT:function(e){this.moveShiftSelect(e,-1)},handleLEFTSHIFT:function(e){},handleRIGHTSHIFT:function(e){},handleDOWN:function(e){this.moveSingleSelect(e,1)},handleUP:function(e){this.moveSingleSelect(e,-1)},handleLEFT:function(e){},handleRIGHT:function(e){var t=e.getMouseDown().plus(e.getDragExtent()),n=e.getColumnCount()-1,i=e.getHScrollValue(),r=t.y;i=Math.min(n,i),e.clearSelections(),e.select(i,r,0,0),e.setMouseDown(e.newPoint(i,r)),e.setDragExtent(e.newPoint(0,0)),e.repaint()},getAutoScrollAcceleration:function(){var e=this.getAutoScrollDuration()/2e3;return Math.max(1,Math.floor(e*e*e*e))},setAutoScrollStartTime:function(){this.sbAutoStart=Date.now()},pingAutoScroll:function(){Date.now()-this.sbLastAuto>500&&this.setAutoScrollStartTime(),this.sbLastAuto=Date.now()},getAutoScrollDuration:function(){return Date.now()-this.sbLastAuto>500?0:Date.now()-this.sbAutoStart},moveShiftSelect:function(e,t){this.moveSingleSelect(e,t,!0)},moveSingleSelect:function(e,t,n){var i=e.selectionModel.rowSelectionModel.selection,o=i[i.length-1],s=o[0],a=o[1];if(n){var l=o.offsetY=o.offsetY||t;o.offsetY<0?s+=t:a+=t}else s+=t,a+=t;s<0||a>=e.getRowCount()||(i.length-=1,i.length&&delete(o=i[i.length-1]).offsetY,e.selectRow(s,a),n&&s!==a&&((o=i[i.length-1]).offsetY=l),e.setMouseDown(e.newPoint(0,s)),e.setDragExtent(e.newPoint(0,a-s)),e.scrollToMakeVisible(e.properties.fixedColumnCount,t<0?s:a+1),r(e),e.fireSyntheticRowSelectionChangedEvent(),e.repaint())},isSingleRowSelection:function(){return!0}});function r(e){var t;if(e.properties.collapseCellSelections&&e.properties.singleRowSelectionMode&&!e.properties.multipleSelections&&(t=e.getSelectedRows()).length&&e.selectionModel.getSelections().length){var n=e.selectionModel.getLastSelection(),i=n.left,r=t[0],o=n.right-i;e.selectionModel.select(i,r,o,0,!1),e.repaint()}}e.exports=i},function(e,t,n){"use strict";var i=n(0).extend("ThumbwheelScrolling",{handleWheelMoved:function(e,t){if(e.properties.scrollingEnabled){var n=t.primitiveEvent,i=Math.sign(n.wheelDeltaX||-n.deltaX),r=Math.sign(n.wheelDeltaY||-n.deltaY);(i||r)&&e.scrollBy(-i||0,-r||0)}}});e.exports=i},function(e,t,n){"use strict";t.mixin={getCellOwnProperties:function(e,t,n){return 1===arguments.length?e.column.getCellOwnProperties(e.dataCell.y,e.subgrid):this.getColumn(e).getCellOwnProperties(t,n)},getCellProperties:function(e,t,n){return 1===arguments.length?e.properties:this.getColumn(e).getCellProperties(t,n)},getCellProperty:function(e,t,n,i){return"object"==typeof e?(n=t,e.properties[n]):this.getColumn(e).getCellProperty(t,n,i)},setCellProperties:function(e,t,n,i){return"object"==typeof e?(n=t,e.column.setCellProperties(e.dataCell.y,n,e.subgrid)):this.getColumn(e).setCellProperties(t,n,i)},addCellProperties:function(e,t,n,i){return"object"==typeof e?(n=t,e.column.addCellProperties(e.dataCell.y,n,e.subgrid)):this.getColumn(e).addCellProperties(t,n,i)},setCellProperty:function(e,t,n,i,r){var o;return"object"==typeof e?(i=n,n=t,o=e.setCellProperty(n,i)):(o=this.getColumn(e).setCellProperty(t,n,i,r),this.grid.renderer.resetCellPropertiesCache(e,t,r)),o}}},function(e,t,n){"use strict";t.mixin={getSchema:function(){return this.dataModel.getSchema()},setSchema:function(e){this.dataModel.setSchema(e)},getRowCount:function(){return this.dataModel.getRowCount()},getValue:function(e,t,n){if(n)return n.getValue(e,t);var i=new this.CellEvent;return i.resetDataXY(e,t,n)?i.value:void 0},setValue:function(e,t,n,i){if(i)i.setValue(e,t,n);else{var r=new this.CellEvent;r.resetDataXY(e,t,i)&&(r.value=n)}},reindex:function(){this.dataModel.apply()},getRow:function(e){return this.dataModel.getRow(e)},getData:function(){return this.dataModel.getData()}}},function(e,t,n){"use strict";var i=n(146);function r(e){var t;switch(typeof e){case"string":t=i.get(e);break;case"function":t=e;break;default:throw new this.HypergridError("Expected subgrid ref to be registered name or constructor, but found "+typeof e+".")}return t}t.mixin={set subgrids(e){var t=this._subgrids=[];t.lookup={},e.forEach(function(e){e&&t.push(this.createSubgrid(e))},this),this.shapeChanged()},get subgrids(){return this._subgrids},createSubgrid:function(e,t){var n,i,o;"data"===e?n=this.dataModel:e instanceof Array&&e.length?(i=r.call(this,e[0]),o=e.slice(1),n=this.createApply(i,o,void 0,{grid:this.grid}),n=this.decorateDataModel(n)):"object"==typeof e?n=e:(i=r.call(this,e),o=Array.prototype.slice.call(arguments,1),n=this.createApply(i,o,void 0,{grid:this.grid}),n=this.decorateDataModel(n)),n.type||(n.type="data");var s="data"===n.type&&n.type||n.name||n.type;return this._subgrids.lookup[s]=this._subgrids.lookup[s]||n,n["is"+n.type[0].toUpperCase()+n.type.substr(1)]=!0,n},getHeaderRowCount:function(){var e=0;return this.subgrids.find(function(t){if(t.isData)return!0;e+=t.getRowCount()}),e},getFooterRowCount:function(){var e;return this.subgrids.reduce(function(t,n){return e&&!n.isData?t+=n.getRowCount():e=n.isData,t},0)},getLogicalRowCount:function(){return this.subgrids.reduce(function(e,t){return e+t.getRowCount()},0)}}},function(e,t,n){"use strict";var i=n(33).extend("DataModels",{BaseClass:n(34),initialize:function(){this.add(n(147))}});e.exports=new i},function(e,t,n){"use strict";var i=n(34).extend("HeaderSubgrid",{type:"header",initialize:function(e,t){this.grid=t.grid},getRowCount:function(){return this.grid.properties.showHeaderRow?1:0},getValue:function(e,t){var n=this.grid.behavior.getColumn(e);return n.header||n.name},setValue:function(e,t,n){t<this.getRowCount()&&(this.grid.behavior.getColumn(e).header=n)},getRow:function(e){return this.dataRow}});e.exports=i},function(e,t,n){"use strict";var i=n(31),r=n(51),o=n(149),s=n(153),a=i.extend("Local",{initialize:function(e,t){this.setData(t)},get schema(){return this.dataModel.getSchema()},set schema(e){this.dataModel.setSchema(e)},dataModelEventHandlers:n(74).dataModelEventHandlers,createColumns:function(){this.super.createColumns.call(this,l)},createDataRowProxy:function(){var e=this.dataModel,t={};Object.defineProperty(t,"$y$",{enumerable:!1,writable:!0}),this.schema.forEach(function(n,i){Object.defineProperty(t,n.name,{enumerable:!0,get:function(){return e.getValue(i,this.$y$)},set:function(t){return e.setValue(i,this.$y$,t)}})}),e.$rowProxy$=t},getNewDataModel:function(e){var t;return(e=e||{}).dataModel?t=e.dataModel:[].concat(e.DataModel||r).forEach(function(e){t=new e(t)}),t},resetDataModel:function(e){var t=this.getNewDataModel(e),n=t&&t!==this.dataModel;return n&&(this.dataModel=this.decorateDataModel(t,e),o.addDeprecationWarnings.call(this),o.addFriendlierDrillDownMapKeys.call(this)),n},decorateDataModel:function(e,t){return o.injectPolyfills(e),o.injectCode(e),o.injectDefaulthooks(e),e.setMetadataStore(t&&t.metadata),this.boundDispatchEvent=this.boundDispatchEvent||s.bind(this.grid),e.addListener(this.boundDispatchEvent),e},get charMap(){return this.dataModel.drillDownCharMap},cellClicked:function(e){return this.dataModel.toggleRow(e.dataCell.y,e.dataCell.x)},hasTreeColumn:function(){return this.dataModel.isTree()&&this.grid.properties.showTreeColumn}});function l(){this.schema.forEach(function(e){this.addColumn(e)},this),this.columnEnumSynchronize()}a.prototype.mixIn(n(75).mixin),a.prototype.mixIn.call(a,n(75).mixInShared),e.exports=a},function(e,t,n){"use strict";var i=n(150),r=n(151),o=n(152),s={};var a={true:"OPEN",false:"CLOSE",null:"INDENT"};e.exports={injectPolyfills:function(e){Object.keys(o).forEach(function(t){e[t]||(e[t]=o[t])})},injectCode:function(e){e.install(r,{inject:!0})},addDeprecationWarnings:function(){var e=this.grid;Object.defineProperties(this.dataModel,{grid:{configurable:!0,enumerable:!1,get:function(){return s.grid||(console.warn("dataModel.grid has been deprecated as of v3.0.0. (Will be removed in a future release.) Data models should have no direct knowledge of or access to the grid. (If your data model needs to call grid methods, add a data event to your grid with `grid.addEventListener('fin-hypergrid-data-my-event', myHandler)` and trigger it from your data model with `this.dispatchEvent('fin-hypergrid-data-my-event')` or `this.dispatchEvent({ type: 'fin-hypergrid-data-my-event' })`. If you need access to the grid object from within a `getCell` or `getCellEditAt` override, define `grid` in the same closure as the override.)"),s.grid=!0),e}},dataSource:{configurable:!0,enumerable:!1,get:function(){return s.dataSource||(console.warn("dataModel.dataSource has been deprecated as of 3.0.0 in favor of `dataModel`. (Will be removed in a future release.) The _external_ data model, formerly `grid.behavior.dataModel.dataSource`, is now `grid.behavior.dataModel`."),s.dataSource=!0),this.dataModel}}})},addFriendlierDrillDownMapKeys:function(){var e=this.dataModel.drillDownCharMap;e&&Object.keys(a).forEach(function(t){if(t in e){var n=a[t];n in e||Object.defineProperty(e,n,{get:function(){return this[t]},set:function(e){this[t]=e}})}})},injectDefaulthooks:function(e){e.install(i,{inject:!0})}}},function(e,t,n){"use strict";t.getCell=function(e,t){return e.grid.cellRenderers.get(t)},t.getCellEditorAt=function(e,t,n,i){return i.grid.cellEditors.create(n,i)}},function(e,t,n){"use strict";e.exports={apply:function(){},isTree:function(){return!1},isTreeCol:function(e){return!1},toggleRow:function(e,t,n){},getColumnCount:function(){return this.getSchema().length},getRow:function(e){return this.$rowProxy$.$y$=e,this.$rowProxy$},getData:function(e){var t,n,i,r=this.getRowCount(),o=new Array(r);for(t=0;t<r;t++)(n=this.getRow(t))&&(o[t]=Object.assign({},n),e&&(i=this.getRowMetadata(t))&&(o[t][e]=i));return o},setData:function(e){},setValue:function(e,t,n){console.warn("dataModel.setValue("+e+", "+t+', "'+n+'") called but no implementation. Data not saved.')},setSchema:function(e){console.warn("dataModel.setSchema(schema) called but no implementation. Schema not updated.")},getRowIndex:function(e){return e},getRowMetadata:function(e,t){return this.metadata[e]||void 0!==t&&(this.metadata[e]=Object.create(t))},getMetadataStore:function(){return this.metadata},setRowMetadata:function(e,t){return t?this.metadata[e]=t:delete this.metadata[e],t},setMetadataStore:function(e){this.metadata=e||[]}}},function(e,t,n){"use strict";function i(){}e.exports={install:function(e){if(e){var t=Array.isArray(e);(t?e:Object.keys(e).filter(function(t){return"function"==typeof e[t]&&"constructor"!==t&&"initialize"!==t})).forEach(function(n){this[n]||(this[n]=t?i:e[n])},this)}},dispatchEvent:function(e){this.handlers&&this.handlers.forEach(function(t){t.call(this,e)},this)},addListener:function(e){this.handlers?this.handlers.indexOf(e)<0&&this.handlers.push(e):this.handlers=[e]},removeListener:function(e){if(this.handlers&&this.handlers.length){var t=this.handlers.indexOf(e);t>=0&&delete this.handlers[t]}},removeAllListeners:function(){this.handlers&&(this.handlers.length=0)}}},function(e,t,n){"use strict";var i=n(74),r=n(50),o=/^fin-hypergrid-(data|schema)(-[a-z]+)+$/;e.exports=function(e){var t;switch(typeof e){case"string":e={type:t=e};break;case"object":if("type"in e){t=e.type;break}default:throw new this.HypergridError("Expected data model event to be: (string | {type:string})")}if(!o.test(t))throw new this.HypergridError('Expected data model event type "'+t+'" to match '+o+".");var n=i[e.type];if(n)var s=n.call(this,e);return void 0!==s?s:r.call(this,e.type,e)}},function(e,t,n){"use strict";var i,r=n(33),o=r.extend("CellRenderers",{BaseClass:n(4),initialize:function(){this.add(n(76)),this.add(n(155)),this.add(n(156)),this.add(n(157)),this.add(n(158)),this.add(n(159)),this.add(n(160)),this.add(n(161)),this.add(n(162)),this.add("emptycell",this.BaseClass)},add:function(e,t){return 1===arguments.length?(t=e,r.prototype.add.call(this,new t)):r.prototype.add.call(this,e,new t)},get:function(e){if(e.map)return e.map(function(e){return r.prototype.get.call(this,e)},this);var t=r.prototype.get.call(this,e);return t===this.items.emptycell&&(i||(console.warn('grid.cellRenderers.get("'+e+'").constructor has been deprecated as of v2.1.0 in favor of grid.cellRenderers.BaseClass property. (Will be removed in a future release.)'),i=!0),this.BaseClass.constructor=this.BaseClass),t}});e.exports=new o},function(e,t,n){"use strict";var i=n(4),r=n(2).Rectangle,o=n(19),s=/\s\s+/g,a=i.extend("SimpleCell",{paint:function(e,t){var n,i,a,c,h,d,f,g,p,v,m,y,b,w,C,x,S=t.value,R=t.bounds,E=R.x,A=R.y,_=R.width,k=R.height,M=t.iconPadding,P=void 0===t.prefillColor,O=t.snapshot,D=O&&P,T=0;S&&S.constructor===Array?(h=S[0],d=S[2],(S=t.exec(S[1]))&&void 0!==S.naturalWidth&&(f=S,S=null)):(h=o[t.leftIcon],f=o[t.centerIcon],d=o[t.rightIcon]);var H=S||t.renderFalsy&&0==S;if(H?(S=t.formatValue(S,t),i=t.isSelected?t.foregroundSelectionFont:t.font,n=e.cache.strokeStyle=t.isSelected?t.foregroundSelectionColor:t.color):S="",D=D&&S===O.value&&i===O.textFont&&n===O.textColor,x=[],C=0,t.isCellHovered&&t.hoverCellHighlight.enabled?m=t.hoverCellHighlight.backgroundColor:t.isRowHovered&&(v=t.hoverRowHighlight).enabled?m=t.isDataColumn||!v.header||void 0===v.header.backgroundColor?v.backgroundColor:v.header.backgroundColor:t.isColumnHovered&&(v=t.hoverColumnHighlight).enabled&&(m=t.isDataRow||!v.header||void 0===v.header.backgroundColor?v.backgroundColor:v.header.backgroundColor),e.alpha(m)<1&&(t.isSelected&&(y=t.backgroundSelectionColor),e.alpha(y)<1&&((w=t.backgroundColor===t.prefillColor)||(b=!0,x.push(t.backgroundColor),D=D&&b===O.foundationColor&&t.backgroundColor===O.colors[C++])),void 0!==y&&(x.push(y),D=D&&y===O.colors[C++])),void 0!==m&&(x.push(m),D=D&&m===O.colors[C++]),!D||C!==O.colors.length){if(t.snapshot={value:S,textColor:n,textFont:i,foundationColor:b,colors:x},u(e,x,E,A,_,k,b),g=h?M+h.width+M:t.cellPadding,p=d?M+d.width+M:t.cellPadding,H&&(e.cache.fillStyle=n,e.cache.font=i,T=t.isHeaderRow&&t.headerTextWrapping?function(e,t,n,i,r){var o=t.bounds.x,a=t.bounds.y,u=t.bounds.width,c=t.bounds.height,h=(n+"").trim().replace(s," "),d=function e(t,n,i,r){if(1===i.length)return i;var o,s=[i.shift()];for(;(o=t.getTextWidth(s.join(" "))<r)&&i.length;)s.push(i.shift());!o&&s.length>1&&i.unshift(s.pop());s=[s.join(" ")];i.length&&(s=s.concat(e(t,n,i,r)));return s}(e,t,h.split(" "),u);if(1===d.length)return l(e,t,h,i,r);var f=i,g=t.voffset,p=t.halign,v=e.getTextHeight(t.font).height;switch(p){case"right":f=u-r;break;case"center":f=u/2}var m=Math.ceil(v/2);g+=Math.ceil((c-(d.length-1)*v)/2),f=Math.max(0,f),g=Math.max(m,g),e.cache.save(),e.beginPath(),e.rect(o,a,u,c),e.clip(),e.cache.textAlign=p,e.cache.textBaseline="middle";for(var y=0;y<d.length;y++)e.simpleText(d[y],o+f,a+g+y*v);return e.cache.restore(),u}(e,t,S,g,p):l(e,t,S,g,p)),f&&(c=Math.round((k-f.height)/2),a=_-Math.round((_-f.width)/2)-f.width,e.drawImage(f,E+a,A+c,f.width,f.height),T=M+f.width+M,"center"===t.hotIcon&&(t.clickRect=new r(a,c,f.width,f.height))),h&&(c=Math.round((k-h.height)/2),e.drawImage(h,E+M,A+c,h.width,h.height),"left"===t.hotIcon&&(t.clickRect=new r(M,c,h.width,h.height))),d){var I=E+(a=_-(d.width+M));w&&(b=!0,x.unshift(t.backgroundColor)),u(e,x,I,A,p,k,b),c=Math.round((k-d.height)/2),e.drawImage(d,I,A+c,d.width,d.height),"right"===t.hotIcon&&(t.clickRect=new r(a,c,d.width,d.height))}t.cellBorderThickness&&(e.beginPath(),e.rect(E,A,_,k),e.cache.lineWidth=t.cellBorderThickness,e.cache.strokeStyle=t.cellBorderStyle,e.stroke(),e.closePath()),t.minWidth=g+T+p}}});function l(e,t,n,i,r){var o,s,a=t.bounds.x,l=t.bounds.y,u=t.bounds.width,c=i,h=t.halign;if(t.columnAutosizing)switch(o=(s=e.getTextWidthTruncated(n,u-i,t.truncateTextWithEllipsis)).width,n=s.string||n,h){case"right":c=u-r-s.width;break;case"center":c=(u-s.width)/2}else if(o=0,void 0!==(s=e.getTextWidthTruncated(n,u-i,t.truncateTextWithEllipsis,!0)).string)n=s.string;else switch(h){case"right":c=u-r-s.width;break;case"center":c=(u-s.width)/2}return null!==n&&(a+=Math.max(i,c),l+=Math.floor(t.bounds.height/2),t.isUserDataArea&&(t.link&&(!t.isCellHovered&&t.linkOnHover||(t.linkColor&&(e.cache.strokeStyle=t.linkColor),e.beginPath(),function(e,t,n,i,r,o){var s=t.getTextHeight(e.font).height,a=t.getTextWidth(n);switch(t.cache.textAlign){case"center":i-=a/2;break;case"right":i-=a}r=Math.ceil(r)+Math.round(s/2)-.5,t.cache.lineWidth=o,t.moveTo(i,r),t.lineTo(i+a,r)}(t,e,n,a,l,1),e.stroke(),e.closePath()),!t.linkColor||!t.isCellHovered&&t.linkColorOnHover||(e.cache.fillStyle=t.linkColor)),!0===t.strikeThrough&&(e.beginPath(),function(e,t,n,i,r,o){var s=t.getTextWidth(n);switch(t.cache.textAlign){case"center":i-=s/2;break;case"right":i-=s}r=Math.round(r)+.5,t.cache.lineWidth=o,t.moveTo(i-1,r),t.lineTo(i+s+1,r)}(0,e,n,a,l,1),e.stroke(),e.closePath())),e.cache.textAlign="left",e.cache.textBaseline="middle",e.simpleText(n,a,l)),o}function u(e,t,n,i,r,o,s){for(var a=0;a<t.length;a++)s&&!a?e.clearFill(n,i,r,o,t[a]):(e.cache.fillStyle=t[a],e.fillRect(n,i,r,o))}e.exports=a},function(e,t,n){"use strict";var i=n(4).extend("Slider",{paint:function(e,t){var n=t.bounds.x,i=t.bounds.y,r=t.bounds.width,o=t.bounds.height;e.cache.strokeStyle="white";var s=t.value,a=o/2,l=r*s,u=t.isSelected?t.backgroundColor:"#333333",c=e.createLinearGradient(n,i,n,i+o);c.addColorStop(0,u),c.addColorStop(1,"#666666");var h=e.createLinearGradient(n,i,n,i+o);h.addColorStop(0,"#aaaaaa"),h.addColorStop(1,"#777777"),e.cache.fillStyle=c,this.roundRect(e,n,i,r,o,a,c),e.cache.fillStyle=s<1?h:"#eeeeee",e.beginPath(),e.arc(n+Math.max(l-a,a),i+a,a,0,2*Math.PI),e.fill(),e.closePath(),t.minWidth=100}});e.exports=i},function(e,t,n){"use strict";var i=n(4).extend("SparkBar",{paint:function(e,t){var n=t.bounds.x,i=t.bounds.y,r=t.bounds.width,o=t.bounds.height;e.beginPath();var s=t.value;if(s&&s.length){var a=s.length,l=r/a,u=t.isSelected?t.foregroundSelectionColor:t.color;(t.backgroundColor||t.isSelected)&&(e.cache.fillStyle=t.isSelected?"blue":t.backgroundColor,e.fillRect(n,i,r,o)),e.cache.fillStyle=u;for(var c=0;c<s.length;c++){var h=s[c]/110*o;e.fillRect(n+5,i+o-h,.6666*l,h),n+=l}e.closePath(),t.minWidth=10*a}}});e.exports=i},function(e,t,n){"use strict";var i=n(4).extend("LastSelection",{paint:function(e,t){var n=e.alpha(t.selectionRegionOverlayColor)>0,i=e.alpha(t.selectionRegionOutlineColor)>0;if(n||i){var r=t.bounds.x,o=t.bounds.y,s=t.bounds.width,a=t.bounds.height;e.beginPath(),e.rect(r,o,s,a),n&&(e.cache.fillStyle=t.selectionRegionOverlayColor,e.fill()),i&&(e.cache.lineWidth=1,e.cache.strokeStyle=t.selectionRegionOutlineColor,e.stroke()),e.closePath()}}});e.exports=i},function(e,t,n){"use strict";var i=n(4).extend("SparkLine",{paint:function(e,t){var n=t.bounds.x,i=t.bounds.y,r=t.bounds.width,o=t.bounds.height;e.beginPath();var s=t.value;if(s&&s.length){var a,l=s.length,u=r/l,c=t.isSelected?t.foregroundSelectionColor:t.color;(t.backgroundColor||t.isSelected)&&(e.cache.fillStyle=t.isSelected?t.backgroundSelectionColor:t.backgroundColor,e.fillRect(n,i,r,o)),e.cache.strokeStyle=c,e.cache.fillStyle=c,e.beginPath();for(var h=0;h<s.length;h++){var d=s[h]/110*o;a||(a=d),e.lineTo(n+5,i+o-d),e.arc(n+5,i+o-d,1,0,2*Math.PI,!1),n+=u}t.minWidth=10*l,e.stroke(),e.closePath()}}});e.exports=i},function(e,t,n){"use strict";var i=n(4).extend("ErrorCell",{paint:function(e,t,n){var i=t.bounds.x,r=t.bounds.y,o=t.bounds.height;e.cache.fillStyle="#FFD500",e.fill(),e.cache.fillStyle="#A00",e.cache.textAlign="start",e.cache.textBaseline="middle",e.cache.font='bold 6pt "arial narrow", verdana, geneva',e.fillText(n,i+4,r+o/2+.5)}});e.exports=i},function(e,t,n){"use strict";var i=n(4).extend("Tag",{paint:function(e,t){if(t.tagbands){var n=t.tagbands.find(function(e){return t.value>=e.floor}),i=n&&n.fillStyle;if(i){var r=t.bounds,o=r.x+r.width-1,s=r.y;e.beginPath(),e.moveTo(o,s),e.lineTo(o,s+8),e.lineTo(o-8,s),e.closePath(),e.cache.fillStyle=i,e.fill()}}}});e.exports=i},function(e,t,n){"use strict";var i=n(4).extend("TreeCell",{paint:function(e,t){var n=t.bounds.x,i=t.bounds.y,r=t.value.data,o=t.value.indent,s=t.value.icon;if((t.backgroundColor||t.isSelected)&&(e.cache.fillStyle=(t.isSelected,t.backgroundColor),e.fillRect(n,i,t.bounds.width,t.bounds.height)),r&&r.length){e.cache.fillStyle=(t.isSelected,t.backgroundColor);var a=Math.ceil(t.bounds.height/2);e.fillText(s+r,n+o,i+a),t.minWidth=n+o+e.getTextWidth(s+r)+10}}});e.exports=i},function(e,t,n){"use strict";var i,r=n(33),o=r.extend("CellEditors",{BaseClass:n(12),initialize:function(){this.add(n(164)),this.add(n(165)),this.add(n(166)),this.add(n(167)),this.add(n(168)),this.add(n(77))},get:function(e){if(e&&"celleditor"===e.toLowerCase())return i||(console.warn('grid.cellEditors.get("'+e+'") method call has been deprecated as of v2.1.0 in favor of grid.cellEditors.BaseClass property. (Will be removed in a future release.)'),i=!0),this.BaseClass;try{var t=r.prototype.get.call(this,e)}catch(e){}return t}});e.exports=new o},function(e,t,n){"use strict";var i=n(12).extend("Color",{template:'<input type="color" lang="{{locale}}" style="{{style}}">'});e.exports=i},function(e,t,n){"use strict";var i=n(12),r=window.chrome,o=window.navigator,s=o.vendor,a=o.userAgent.indexOf("OPR")>-1,l=o.userAgent.indexOf("Edge")>-1,u=!o.userAgent.match("CriOS")&&null!=r&&"Google Inc."===s&&0==a&&0==l,c=i.extend("Date",{initialize:function(e){var t;u?(t="chromeDate",this.template='<input type="date">'):(t="date",this.template='<input type="text" lang="{{locale}}">',this.selectAll=function(){var e=this.getEditorValue().length;this.input.setSelectionRange(0,e)}),this.localizer=e.localization.get(t)}});e.exports=c},function(e,t,n){"use strict";var i=n(77).extend("Number",{initialize:function(e){this.localizer=e.localization.get("number")}});e.exports=i},function(e,t,n){"use strict";var i=n(12).extend("Slider",{template:'<input type="range" lang="{{locale}}" style="{{style}}">'});e.exports=i},function(e,t,n){"use strict";var i=n(12).extend("Spinner",{template:'<input type="number" lang="{{locale}}" style="{{style}}">'});e.exports=i},function(e,t,n){"use strict";function i(e,t,n){if("string"==typeof n){if(!(n=document.querySelector(n)))throw"Cannot find reference element for CSS injection."}else if(n&&!(n instanceof Element))throw"Given value not a reference element.";var r=n&&n.parentNode||document.head||document.getElementsByTagName("head")[0];if(!t||(t=i.idPrefix+t,!r.querySelector("#"+t))){var o=document.createElement("style");return o.type="text/css",t&&(o.id=t),e instanceof Array&&(e=e.join("\n")),e="\n"+e+"\n",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e)),void 0===n&&(n=r.firstChild),r.insertBefore(o,n),o}}i.idPrefix="injected-stylesheet-",e.exports=i},function(e,t,n){var i,r,o,s;s=function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function i(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,t){return null!=e&&"object"==typeof e&&t in e}var s=RegExp.prototype.test,a=/\S/;function l(e){return!function(e,t){return s.call(e,t)}(a,e)}var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,h=/\s+/,d=/\s*=/,f=/\s*\}/,g=/#|\^|\/|>|\{|&|=|!/;function p(e){this.string=e,this.tail=e,this.pos=0}function v(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function m(){this.cache={}}p.prototype.eos=function(){return""===this.tail},p.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},p.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},v.prototype.push=function(e){return new v(e,this)},v.prototype.lookup=function(e){var t,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var r,s,a=this,l=!1;a;){if(e.indexOf(".")>0)for(t=a.view,r=e.split("."),s=0;null!=t&&s<r.length;)s===r.length-1&&(l=o(t,r[s])),t=t[r[s++]];else t=a.view[e],l=o(a.view,e);if(l)break;a=a.parent}n[e]=t}return i(t)&&(t=t.call(this.view)),t},m.prototype.clearCache=function(){this.cache={}},m.prototype.parse=function(t,i){var o=this.cache,s=o[t];return null==s&&(s=o[t]=function(t,i){if(!t)return[];var o,s,a,u=[],v=[],m=[],y=!1,b=!1;function w(){if(y&&!b)for(;m.length;)delete v[m.pop()];else m=[];y=!1,b=!1}function C(e){if("string"==typeof e&&(e=e.split(h,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);o=new RegExp(r(e[0])+"\\s*"),s=new RegExp("\\s*"+r(e[1])),a=new RegExp("\\s*"+r("}"+e[1]))}C(i||e.tags);for(var x,S,R,E,A,_,k=new p(t);!k.eos();){if(x=k.pos,R=k.scanUntil(o))for(var M=0,P=R.length;M<P;++M)l(E=R.charAt(M))?m.push(v.length):b=!0,v.push(["text",E,x,x+1]),x+=1,"\n"===E&&w();if(!k.scan(o))break;if(y=!0,S=k.scan(g)||"name",k.scan(c),"="===S?(R=k.scanUntil(d),k.scan(d),k.scanUntil(s)):"{"===S?(R=k.scanUntil(a),k.scan(f),k.scanUntil(s),S="&"):R=k.scanUntil(s),!k.scan(s))throw new Error("Unclosed tag at "+k.pos);if(A=[S,R,x,k.pos],v.push(A),"#"===S||"^"===S)u.push(A);else if("/"===S){if(!(_=u.pop()))throw new Error('Unopened section "'+R+'" at '+x);if(_[1]!==R)throw new Error('Unclosed section "'+_[1]+'" at '+x)}else"name"===S||"{"===S||"&"===S?b=!0:"="===S&&C(R)}if(_=u.pop())throw new Error('Unclosed section "'+_[1]+'" at '+k.pos);return function(e){for(var t,n=[],i=n,r=[],o=0,s=e.length;o<s;++o)switch((t=e[o])[0]){case"#":case"^":i.push(t),r.push(t),i=t[4]=[];break;case"/":r.pop()[5]=t[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(t)}return n}(function(e){for(var t,n,i=[],r=0,o=e.length;r<o;++r)(t=e[r])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(i.push(t),n=t));return i}(v))}(t,i)),s},m.prototype.render=function(e,t,n){var i=this.parse(e),r=t instanceof v?t:new v(t);return this.renderTokens(i,r,n,e)},m.prototype.renderTokens=function(e,t,n,i){for(var r,o,s,a="",l=0,u=e.length;l<u;++l)s=void 0,"#"===(o=(r=e[l])[0])?s=this.renderSection(r,t,n,i):"^"===o?s=this.renderInverted(r,t,n,i):">"===o?s=this.renderPartial(r,t,n,i):"&"===o?s=this.unescapedValue(r,t):"name"===o?s=this.escapedValue(r,t):"text"===o&&(s=this.rawValue(r)),void 0!==s&&(a+=s);return a},m.prototype.renderSection=function(e,t,r,o){var s=this,a="",l=t.lookup(e[1]);if(l){if(n(l))for(var u=0,c=l.length;u<c;++u)a+=this.renderTokens(e[4],t.push(l[u]),r,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)a+=this.renderTokens(e[4],t.push(l),r,o);else if(i(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(t.view,o.slice(e[3],e[5]),function(e){return s.render(e,t,r)}))&&(a+=l)}else a+=this.renderTokens(e[4],t,r,o);return a}},m.prototype.renderInverted=function(e,t,i,r){var o=t.lookup(e[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(e[4],t,i,r)},m.prototype.renderPartial=function(e,t,n){if(n){var r=i(n)?n(e[1]):n[e[1]];return null!=r?this.renderTokens(this.parse(r),t,n,r):void 0}},m.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},m.prototype.escapedValue=function(t,n){var i=n.lookup(t[1]);if(null!=i)return e.escape(i)},m.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.2",e.tags=["{{","}}"];var y=new m;return e.clearCache=function(){return y.clearCache()},e.parse=function(e,t){return y.parse(e,t)},e.render=function(e,t,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(r=e)?"array":typeof r)+'" was given as the first argument for mustache#render(template, view, partials)');var r;return y.render(e,t,i)},e.to_html=function(t,n,r,o){var s=e.render(t,n,r);if(!i(o))return s;o(s)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return u[e]})},e.Scanner=p,e.Context=v,e.Writer=m,e},t&&"string"!=typeof t.nodeName?s(t):(r=[t],void 0===(o="function"==typeof(i=s)?i.apply(t,r):i)||(e.exports=o))},function(e,t,n){"use strict";var i=n(50),r=n(76);t.mixin={addEventListener:function(e,t,n){var i=this,r=this.listeners[e]=this.listeners[e]||[];if(!r.find(function(e){return e.listener===t})){var o={internal:n,listener:t,decorator:function(e){i.allowEventHandlers&&t(e)}};r.push(o),this.canvas.addEventListener(e,o.decorator)}},addInternalEventListener:function(e,t){this.addEventListener(e,t,!0)},removeEventListener:function(e,t){var n=this.listeners[e];n&&n.find(function(i,r){if(i.listener===t)return 1===n.length?delete this.listeners[e]:n.splice(r,1),this.canvas.removeEventListener(e,i.decorator),!0},this)},removeAllEventListeners:function(e){Object.keys(this.listeners).forEach(function(t){this.listeners[t].slice().forEach(function(n){!e&&n.internal||this.removeEventListener(t,n.listener)},this)},this)},allowEvents:function(e){this.allowEventHandlers=!!e,this.behavior.featureChain&&(e?this.behavior.featureChain.attachChain():this.behavior.featureChain.detachChain()),this.behavior.changed()},fireSyntheticColumnSortEvent:function(e,t){return i.call(this,"fin-column-sort",{column:e,keys:t})},fireSyntheticEditorKeyUpEvent:function(e,t){return i.call(this,"fin-editor-keyup",{input:e,keyEvent:t,char:this.canvas.getKeyChar(t),legacyChar:t.legacyKey})},fireSyntheticEditorKeyDownEvent:function(e,t){return i.call(this,"fin-editor-keydown",{input:e,keyEvent:t,char:this.canvas.getKeyChar(t),legacyChar:t.legacyKey})},fireSyntheticEditorKeyPressEvent:function(e,t){return i.call(this,"fin-editor-keypress",{input:e,keyEvent:t,char:this.canvas.getKeyChar(t),legacyChar:t.legacyKey})},fireSyntheticEditorDataChangeEvent:function(e,t,n){return i.call(this,"fin-editor-data-change",!0,{input:e,oldValue:t,newValue:n})},fireSyntheticRowHeaderClickedEvent:function(e){return i.call(this,"fin-row-header-clicked",!0,{},e)},fireSyntheticRowSelectionChangedEvent:function(){return i.call(this,"fin-row-selection-changed",this.selectionDetailGetters)},fireSyntheticColumnSelectionChangedEvent:function(){return i.call(this,"fin-column-selection-changed",this.selectionDetailGetters)},fireSyntheticContextMenuEvent:function(e){return Object.defineProperties(e,this.selectionDetailGetterDescriptors),i.call(this,"fin-context-menu",{},e)},fireSyntheticMouseUpEvent:function(e){return Object.defineProperties(e,this.selectionDetailGetterDescriptors),i.call(this,"fin-mouseup",{},e)},fireSyntheticMouseDownEvent:function(e){return Object.defineProperties(e,this.selectionDetailGetterDescriptors),i.call(this,"fin-mousedown",{},e)},fireSyntheticMouseMoveEvent:function(e){return i.call(this,"fin-mousemove",{},e)},fireSyntheticButtonPressedEvent:function(e){if(e.cellRenderer instanceof r){if(e.value&&e.value.subrows){var t=e.primitiveEvent.detail.mouse.y-e.bounds.y,n=e.bounds.height/e.value.subrows;e.subrow=Math.floor(t/n)}return i.call(this,"fin-button-pressed",{},e)}},fireSyntheticOnColumnsChangedEvent:function(){return i.call(this,"fin-column-changed-event",{})},fireSyntheticKeydownEvent:function(e){return i.call(this,"fin-keydown",e.detail)},fireSyntheticKeyupEvent:function(e){return i.call(this,"fin-keyup",e.detail)},fireSyntheticFilterAppliedEvent:function(){return i.call(this,"fin-filter-applied",{})},fireSyntheticOnCellEnterEvent:function(e){return i.call(this,"fin-cell-enter",e)},fireSyntheticOnCellExitEvent:function(e){return i.call(this,"fin-cell-exit",e)},fireSyntheticClickEvent:function(e){return i.call(this,"fin-click",{},e)},fireSyntheticDoubleClickEvent:function(e){if(this.abortEditing())return i.call(this,"fin-double-click",{},e)},fireSyntheticGridRenderedEvent:function(){return i.call(this,"fin-grid-rendered",{source:this})},fireSyntheticTickEvent:function(){return i.call(this,"fin-tick",{source:this})},fireSyntheticGridResizedEvent:function(e){return i.call(this,"fin-grid-resized",e)},fireScrollEvent:function(e,t,n){return i.call(this,e,{oldValue:t,value:n})},fireRequestCellEdit:function(e,t){return i.call(this,"fin-request-cell-edit",!0,{value:t},e)},fireBeforeCellEdit:function(e,t,n,r){return i.call(this,"fin-before-cell-edit",!0,{oldValue:t,newValue:n,input:r},e)},fireAfterCellEdit:function(e,t,n,r){return i.call(this,"fin-after-cell-edit",{newValue:n,oldValue:t,input:r},e)},delegateCanvasEvents:function(){var e=this;function t(t,n){if(0!==e.getLogicalRowCount()){var i,r,o,s=e.getGridCellFromMousePoint(t.detail.mouse);if(s.fake&&!t.detail.dragstart||(i=s.cellEvent),i)r=Object.defineProperty(i,"primitiveEvent",{value:t,enumerable:!1,configurable:!0,writable:!0}),(o=i.primitiveEvent&&i.primitiveEvent.detail)&&(r.gridPoint=o.mouse,(o=o.primitiveEvent)&&(r.clientPoint={x:o.clientX,y:o.clientY},r.pagePoint={x:o.clientX+window.scrollX,y:o.clientY+window.scrollY})),n.call(e,r)}}this.addInternalEventListener("fin-canvas-resized",function(t){e.resized(),e.fireSyntheticGridResizedEvent(t)}),this.addInternalEventListener("fin-canvas-mousemove",function(n){e.properties.readOnly||t(n,function(e){this.delegateMouseMove(e),this.fireSyntheticMouseMoveEvent(e)})}),this.addInternalEventListener("fin-canvas-mousedown",function(n){e.properties.readOnly||(e.abortEditing()?t(n,function(e){e.keys=n.detail.keys,this.mouseDownState=e,this.delegateMouseDown(e),this.fireSyntheticMouseDownEvent(e),this.repaint()}):n.stopPropagation())}),this.addInternalEventListener("fin-canvas-click",function(n){e.properties.readOnly||t(n,function(e){this.mouseDownState&&this.mouseDownState.gridCell.equals(e.gridCell)&&e.mousePointInClickRect&&(e.keys=n.detail.keys,this.mouseDownState&&this.fireSyntheticButtonPressedEvent(this.mouseDownState),this.fireSyntheticClickEvent(e),this.delegateClick(e)),this.mouseDownState=null})}),this.addInternalEventListener("fin-canvas-mouseup",function(n){e.properties.readOnly||(e.dragging=!1,e.isScrollingNow()&&e.setScrollingNow(!1),e.columnDragAutoScrolling&&(e.columnDragAutoScrolling=!1),t(n,function(e){this.delegateMouseUp(e),this.fireSyntheticMouseUpEvent(e)}))}),this.addInternalEventListener("fin-canvas-dblclick",function(n){e.properties.readOnly||t(n,function(e){this.fireSyntheticDoubleClickEvent(e,n),this.delegateDoubleClick(e)})}),this.addInternalEventListener("fin-canvas-drag",function(n){e.properties.readOnly||(e.dragging=!0,t(n,e.delegateMouseDrag))}),this.addInternalEventListener("fin-canvas-keydown",function(t){e.properties.readOnly||(e.fireSyntheticKeydownEvent(t),e.delegateKeyDown(t))}),this.addInternalEventListener("fin-canvas-keyup",function(t){e.properties.readOnly||(e.fireSyntheticKeyupEvent(t),e.delegateKeyUp(t))}),this.addInternalEventListener("fin-canvas-wheelmoved",function(n){t(n,e.delegateWheelMoved)}),this.addInternalEventListener("fin-canvas-mouseout",function(n){e.properties.readOnly||t(n,e.delegateMouseExit)}),this.addInternalEventListener("fin-canvas-context-menu",function(n){t(n,function(t){e.delegateContextMenu(t),e.fireSyntheticContextMenuEvent(t)})}),document.body.addEventListener("copy",function(t){e.checkClipboardCopy(t)})},delegateWheelMoved:function(e){this.behavior.onWheelMoved(this,e)},delegateMouseExit:function(e){this.behavior.handleMouseExit(this,e)},delegateContextMenu:function(e){this.behavior.onContextMenu(this,e)},delegateMouseMove:function(e){this.behavior.onMouseMove(this,e)},delegateMouseDown:function(e){this.behavior.handleMouseDown(this,e)},delegateMouseUp:function(e){this.behavior.onMouseUp(this,e)},delegateClick:function(e){this.behavior.onClick(this,e)},delegateMouseDrag:function(e){this.behavior.onMouseDrag(this,e)},delegateDoubleClick:function(e){this.behavior.onDoubleClick(this,e)},delegateKeyDown:function(e){this.behavior.onKeyDown(this,e)},delegateKeyUp:function(e){this.behavior.onKeyUp(this,e)}}},function(e,t,n){"use strict";var i=n(173);function r(e){var t,n=this.behavior.getColumns(),i=this.behavior.getActiveColumns();return Array.isArray(e)?(t=[],e.forEach(function(e){var r="number"==typeof e?"index":"name",o=n.find(function(t){return t[r]===e});i.indexOf(o)<0&&t.push(o)}),t=t.concat(i)):t=e?n:i,t}function o(e){var t=e.origin,n=e.corner,r=Math.min(t.x,n.x),o=Math.min(t.y,n.y),s=Math.max(t.x,n.x),a=Math.max(t.y,n.y);return new i(r,o,s-r,a-o)}function s(e,t){var n,i;return e&&(i="f"===(typeof(n=e[t.name]))[0]&&n||t.calculator)&&(n=i(e,t.name)),n||0===n||!1===n?n:""}t.mixin={selectionInitialize:function(){var e=this;this.selectionDetailGetters={get rows(){return e.getSelectedRows()},get columns(){return e.getSelectedColumns()},get selections(){return e.selectionModel.getSelections()}},this.selectionDetailGetterDescriptors=Object.getOwnPropertyDescriptors(this.selectionDetailGetters)},hasSelections:function(){if(this.getSelectionModel)return this.selectionModel.hasSelections()},getSelectionAsTSV:function(){switch(this.selectionModel.getLastSelectionType()){case"cell":var e=this.getSelectionMatrix();return e=e[e.length-1],this.getMatrixSelectionAsTSV(e);case"row":return this.getMatrixSelectionAsTSV(this.getRowSelectionMatrix());case"column":return this.getMatrixSelectionAsTSV(this.getColumnSelectionMatrix())}},getMatrixSelectionAsTSV:function(e){var t="";if(e.length){var n=e.length,i=e[0].length,r=n-1,o=i>1?"\n":"";if(n*i>2e4)return alert("selection size is too big to copy to the paste buffer"),"";for(var s=0;s<i;s++)for(var a=0;a<n;a++)t+=e[a][s]+(a<r?"\t":o)}return t},clearSelections:function(){var e=this.properties.checkboxOnlyRowSelections;this.selectionModel.clear(e),this.clearMouseDown()},clearMostRecentSelection:function(){var e=this.properties.checkboxOnlyRowSelections;this.selectionModel.clearMostRecentSelection(e)},clearMostRecentColumnSelection:function(){this.selectionModel.clearMostRecentColumnSelection()},clearMostRecentRowSelection:function(){},clearRowSelection:function(){this.selectionModel.clearRowSelection()},select:function(e,t,n,i){e<0||t<0||this.selectionModel.select(e,t,n,i)},isSelected:function(e,t){return this.selectionModel.isSelected(e,t)},isCellSelectedInRow:function(e){return this.selectionModel.isCellSelectedInRow(e)},isCellSelectedInColumn:function(e){return this.selectionModel.isCellSelectedInColumn(e)},getRowSelection:function(e){for(var t=this.behavior.dataModel,n=this.selectionModel.getSelectedRows(),i=r.call(this,e),o={},a=0,l=i.length;a<l;a++){var u=i[a],c=o[u.name]=new Array(n.length);n.forEach(h)}function h(e,n){var i=t.getRow(e);c[n]=s(i,u)}return o},getRowSelectionMatrix:function(e){for(var t=this.behavior.dataModel,n=this.selectionModel.getSelectedRows(),i=r.call(this,e),o=new Array(i.length),a=0,l=i.length;a<l;a++){var u=i[a];o[a]=new Array(n.length),n.forEach(c)}function c(e,n){var i=t.getRow(e);o[a][n]=s(i,u)}return o},getColumnSelectionMatrix:function(){var e=this.behavior,t=e.dataModel,n=this.getHeaderRowCount(),i=this.getSelectedColumns(),r=this.getRowCount(),o=new Array(i.length);return i.forEach(function(i,a){for(var l=e.getActiveColumn(i),u=o[a]=new Array(r),c=n;c<r;c++){var h=t.getRow(c);u[c]=s(h,l)}}),o},getColumnSelection:function(){var e=this.behavior,t=e.dataModel,n=this.getHeaderRowCount(),i=this.getSelectedColumns(),r={},o=this.getRowCount();return i.forEach(function(i){for(var a=e.getActiveColumn(i),l=r[a.name]=new Array(o),u=n;u<o;u++){var c=t.getRow(u);l[u]=s(c,a)}}),r},getSelection:function(){var e=this.behavior,t=e.dataModel,n=this.getSelections(),i=new Array(n.length);return n.forEach(function(n,r){for(var a=o(n),l=a.width,u=a.height,c={},h=0,d=a.origin.x;h<l;h++,d++)for(var f=e.getActiveColumn(d),g=c[f.name]=new Array(u),p=0,v=a.origin.y;p<u;p++,v++){var m=t.getRow(v);g[p]=s(m,f)}i[r]=c}),i},getSelectionMatrix:function(){var e=this.behavior,t=e.dataModel,n=this.getSelections(),i=new Array(n.length);return n.forEach(function(n,r){for(var a=o(n),l=a.width,u=a.height,c=[],h=0,d=a.origin.x;h<l;h++,d++)for(var f=c[h]=new Array(u),g=e.getActiveColumn(d),p=0,v=a.origin.y;p<u;p++,v++){var m=t.getRow(v);f[p]=s(m,g)}i[r]=c}),i},selectCell:function(e,t,n){var i=this.properties.checkboxOnlyRowSelections;this.selectionModel.clear(i),this.selectionModel.select(e,t,0,0,n)},toggleSelectColumn:function(e,t){t=t||[];var n=this.selectionModel,i=n.isColumnSelected(e),r=t.indexOf("CTRL")>-1,o=t.indexOf("SHIFT")>-1;r||o?(r&&(i?n.deselectColumn(e):n.selectColumn(e)),o&&(n.clear(),n.selectColumn(this.lastEdgeSelection[0],e))):(n.clear(),i||n.selectColumn(e)),i||o||(this.lastEdgeSelection[0]=e),this.repaint(),this.fireSyntheticColumnSelectionChangedEvent()},toggleSelectRow:function(e,t){t=t||[];var n=this.selectionModel,i=n.isRowSelected(e),r=t.indexOf("SHIFT")>=0;i?n.deselectRow(e):(this.singleSelect(),n.selectRow(e)),r&&(n.clear(),n.selectRow(this.lastEdgeSelection[1],e)),i||r||(this.lastEdgeSelection[1]=e),this.repaint()},singleSelect:function(){var e=this.properties.singleRowSelectionMode;return e&&this.selectionModel.clearRowSelection(),e},selectViewportCell:function(e,t){var n,i;this.getRowCount()&&(n=this.renderer.visibleColumns[e])&&(i=this.renderer.visibleRows[t+this.getHeaderRowCount()])&&(e=n.columnIndex,t=i.rowIndex,this.clearSelections(),this.select(e,t,0,0),this.setMouseDown(this.newPoint(e,t)),this.setDragExtent(this.newPoint(0,0)),this.repaint())},selectToViewportCell:function(e,t){var n,i,r;if((n=this.getSelections())&&n.length&&(i=this.renderer.visibleColumns[e])&&(r=this.renderer.visibleRows[t+this.getHeaderRowCount()])){var o=n[0].origin;e=i.columnIndex,t=r.rowIndex,this.setDragExtent(this.newPoint(e-o.x,t-o.y)),this.select(o.x,o.y,e-o.x,t-o.y),this.repaint()}},selectToFinalCellOfCurrentRow:function(){this.selectFinalCellOfCurrentRow(!0)},selectFinalCellOfCurrentRow:function(e){if(this.getRowCount()){var t=this.getSelections();if(t&&t.length){var n=t[0],i=n.origin,r=n.extent,o=this.getColumnCount();this.scrollBy(o,0),this.clearSelections(),e?this.select(i.x,i.y,o-i.x-1,r.y):this.select(o-1,i.y,0,0),this.repaint()}}},selectToFirstCellOfCurrentRow:function(){this.selectFirstCellOfCurrentRow(!0)},selectFirstCellOfCurrentRow:function(e){if(this.getRowCount()){var t=this.getSelections();if(t&&t.length){var n=t[0],i=n.origin,r=n.extent;this.clearSelections(),e?this.select(i.x,i.y,-i.x,r.y):this.select(0,i.y,0,0),this.setHScrollValue(0),this.repaint()}}},selectFinalCell:function(){this.getRowCount()&&(this.selectCellAndScrollToMakeVisible(this.getColumnCount()-1,this.getRowCount()-1),this.repaint())},selectToFinalCell:function(){if(this.getRowCount()){var e=this.getSelections();if(e&&e.length){var t=e[0].origin,n=this.getColumnCount(),i=this.getRowCount();this.clearSelections(),this.select(t.x,t.y,n-t.x-1,i-t.y-1),this.repaint()}}},getSelectedRow:function(){var e=this.selectionModel.getSelections();if(e.length){for(var t=this.behavior,n=this.getColumnCount(),i=e[0].origin.y,r={},o=0;o<n;o++)r[t.getActiveColumn(o).header]=t.getValue(o,i);return r}},selectionChanged:function(e){this.selectRowsFromCells(),this.selectColumnsFromCells(),e||this.canvas.dispatchEvent(new CustomEvent("fin-selection-changed",{detail:this.selectionDetailGetters}))},isColumnOrRowSelected:function(){return this.selectionModel.isColumnOrRowSelected()},selectColumn:function(e,t){this.selectionModel.selectColumn(e,t)},selectRow:function(e,t){var n=this.selectionModel;this.singleSelect()?e=t:void 0===t&&(t=e),n.selectRow(Math.min(e,t),Math.max(e,t))},selectRowsFromCells:function(){var e;!this.properties.checkboxOnlyRowSelections&&this.properties.autoSelectRows&&(this.properties.singleRowSelectionMode?(e=this.selectionModel.getLastSelection())?this.selectRow(null,e.corner.y):this.clearRowSelection():this.selectionModel.selectRowsFromCells(0,!0),this.fireSyntheticRowSelectionChangedEvent())},selectColumnsFromCells:function(){this.properties.autoSelectColumns&&this.selectionModel.selectColumnsFromCells()},getSelectedRows:function(){return this.behavior.getSelectedRows()},getSelectedColumns:function(){return this.behavior.getSelectedColumns()},getSelections:function(){return this.behavior.getSelections()},getLastSelectionType:function(e){return this.selectionModel.getLastSelectionType(e)},isInCurrentSelectionRectangle:function(e,t){return this.selectionModel.isInCurrentSelectionRectangle(e,t)},selectAllRows:function(){this.selectionModel.selectAllRows()},areAllRowsSelected:function(){return this.selectionModel.areAllRowsSelected()},toggleSelectAllRows:function(){this.areAllRowsSelected()?this.selectionModel.clear():this.selectAllRows(),this.repaint()},moveSingleSelect:function(e,t){var n=this.getMouseDown().plus(this.getDragExtent());this.moveToSingleSelect(n.x+e,n.y+t)},moveToSingleSelect:function(e,t){var n=this.getColumnCount()-1,i=this.getRowCount()-1,r=this.getVisibleColumnsCount()-1,o=this.getVisibleRowsCount()-1;this.properties.scrollingEnabled||(n=Math.min(n,r),i=Math.min(i,o)),e=Math.min(n,Math.max(0,e)),t=Math.min(i,Math.max(0,t)),this.clearSelections(),this.select(e,t,0,0),this.setMouseDown(this.newPoint(e,t)),this.setDragExtent(this.newPoint(0,0)),this.selectCellAndScrollToMakeVisible(e,t),this.repaint()},extendSelect:function(e,t){var n=this.getColumnCount()-1,i=this.getRowCount()-1,r=this.renderer.visibleColumns.length-1,o=this.renderer.visibleRows.length-1,s=this.getMouseDown(),a=this.getDragExtent(),l=a.x+e,u=a.y+t;this.properties.scrollingEnabled||(n=Math.min(n,r),i=Math.min(i,o)),l=Math.min(n-s.x,Math.max(-s.x,l)),u=Math.min(i-s.y,Math.max(-s.y,u)),this.clearMostRecentSelection(),this.select(s.x,s.y,l,u),this.setDragExtent(this.newPoint(l,u));var c=this.insureModelColIsVisible(l+s.x,e),h=this.insureModelRowIsVisible(u+s.y,t);return this.repaint(),c||h},getGridCellFromLastSelection:function(e){var t=this.selectionModel.getLastSelection();return t&&(new this.behavior.CellEvent).resetGridXDataY(t.origin.x,t.origin.y,null,e)}}},function(e,t,n){"use strict";var i=n(2).Rectangle;function r(){i.apply(this,arguments)}r.prototype=Object.create(i.prototype,{width:{get:function(){return this.extent.x+1}},height:{get:function(){return this.extent.y+1}}}),e.exports=r},function(e,t,n){"use strict";t.mixin={stashRowSelections:function(){if(this.properties.restoreRowSelections){var e=this.behavior.dataModel;return this.selectedDataRowIndexes=this.getSelectedRows().map(function(t){return e.getRowIndex(t)}),this.selectedDataRowIndexes.length}},unstashRowSelections:function(){var e=this.selectedDataRowIndexes;if(e){delete this.selectedDataRowIndexes;var t,n,i=this.behavior.dataModel,r=this.getRowCount(),o=e.length,s=[],a=this.selectionModel;for(n=0;o&&n<r;++n)(t=e.indexOf(i.getRowIndex(n)))>=0&&(s.push(n),delete e[t],o--);return s.forEach(function(e){a.selectRow(e)}),s.length}},stashColumnSelections:function(){if(this.properties.restoreColumnSelections){var e=this.behavior;return this.selectedColumnNames=this.getSelectedColumns().map(function(t){return e.getActiveColumn(t).name}),this.selectedColumnNames.length}},unstashColumnSelections:function(e){var t=this.selectedColumnNames;if(t){delete this.selectedColumnNames;var n=this.behavior,i=this.selectionModel;return t.reduce(function(e,t){var r=n.getActiveColumnIndex(t);return r&&(i.selectColumn(r),e++),e},0)}}}},function(e,t,n){"use strict";var i=n(78).Scrollbar;t.mixin={vScrollValue:0,hScrollValue:0,sbVScroller:null,sbHScroller:null,sbPrevVScrollValue:null,sbPrevHScrollValue:null,scrollingNow:!1,setScrollingNow:function(e){this.scrollingNow=e},isScrollingNow:function(){return this.scrollingNow},scrollBy:function(e,t){this.scrollHBy(e),this.scrollVBy(t)},scrollVBy:function(e){var t=this.sbVScroller.range.max,n=this.getVScrollValue(),i=Math.min(t,Math.max(0,n+e));i!==n&&this.setVScrollValue(i)},scrollHBy:function(e){var t=this.sbHScroller.range.max,n=this.getHScrollValue(),i=Math.min(t,Math.max(0,n+e));i!==n&&this.setHScrollValue(i)},scrollToMakeVisible:function(e,t){var n,i=this.renderer.dataWindow,r=this.properties.fixedColumnCount,o=this.properties.fixedRowCount;e>=r&&((n=e-i.origin.x)<0?this.sbHScroller.index+=n:e-i.corner.x>0&&(this.sbHScroller.index=this.renderer.getMinimumLeftPositionToShowColumn(e))),t>=o&&((n=t-i.origin.y-1)<0||(n=t-i.corner.y)>0)&&(this.sbVScroller.index+=n)},selectCellAndScrollToMakeVisible:function(e,t){this.scrollToMakeVisible(e,t),this.selectCell(e,t,!0)},setVScrollValue:function(e){var t=this;if((e=Math.min(this.sbVScroller.range.max,Math.max(0,Math.round(e))))!==this.vScrollValue){this.behavior.setScrollPositionY(e),this.behavior.changed();var n=this.vScrollValue;this.vScrollValue=e,this.scrollValueChangedNotification(),setTimeout(function(){t.fireScrollEvent("fin-scroll-y",n,e)})}},getVScrollValue:function(){return this.vScrollValue},setHScrollValue:function(e){var t=this;if((e=Math.min(this.sbHScroller.range.max,Math.max(0,Math.round(e))))!==this.hScrollValue){this.behavior.setScrollPositionX(e),this.behavior.changed();var n=this.hScrollValue;this.hScrollValue=e,this.scrollValueChangedNotification(),setTimeout(function(){t.fireScrollEvent("fin-scroll-x",n,e)})}},getHScrollValue:function(){return this.hScrollValue},initScrollbars:function(){if(!this.sbHScroller||!this.sbVScroller){var e=new i({orientation:"horizontal",deltaXFactor:this.constructor.defaults.wheelHFactor,onchange:this.setHScrollValue.bind(this),cssStylesheetReferenceElement:this.div}),t=new i({orientation:"vertical",deltaYFactor:this.constructor.defaults.wheelVFactor,onchange:this.setVScrollValue.bind(this),cssStylesheetReferenceElement:this.div,paging:{up:this.pageUp.bind(this),down:this.pageDown.bind(this)}});this.sbHScroller=e,this.sbVScroller=t;var n=this.properties.hScrollbarClassPrefix,r=this.properties.vScrollbarClassPrefix;n&&""!==n&&(this.sbHScroller.classPrefix=n),r&&""!==r&&(this.sbVScroller.classPrefix=r),this.div.appendChild(e.bar),this.div.appendChild(t.bar),this.resizeScrollbars()}},resizeScrollbars:function(){this.sbHScroller.shortenBy(this.sbVScroller).resize(),this.sbVScroller.resize()},setVScrollbarValues:function(e){this.sbVScroller.range={min:0,max:e}},setHScrollbarValues:function(e){this.sbHScroller.range={min:0,max:e}},scrollValueChangedNotification:function(){this.hScrollValue===this.sbPrevHScrollValue&&this.vScrollValue===this.sbPrevVScrollValue||(this.sbPrevHScrollValue=this.hScrollValue,this.sbPrevVScrollValue=this.vScrollValue,this.cellEditor&&this.cellEditor.scrollValueChangedNotification(),this.computeCellsBounds())},synchronizeScrollingBoundaries:function(){var e=this.getBounds();if(e){for(var t=this.getFixedColumnCount(),n=this.getColumnCount(),i=this.getRowCount(),r=e.width-this.behavior.getFixedColumnsMaxWidth(),o=this.properties,s="border-box"===o.boxSizing,a=s?0:o.gridLinesVWidth,l=0,u=0;u<n&&l<r;u++)l+=this.getColumnWidth(n-u-1)+a;l>r&&u--;var c=this.renderer.getVisibleScrollHeight();a=s?0:o.gridLinesHWidth;for(var h=0,d=0;d<i&&h<c;d++)h+=this.getRowHeight(i-d-1)+a;if(h>c&&d--,this.sbHScroller){var f=Math.max(0,n-t-u);this.setHScrollbarValues(f),this.setHScrollValue(Math.min(this.getHScrollValue(),f))}if(this.sbVScroller){var g=Math.max(0,i-o.fixedRowCount-d);this.setVScrollbarValues(g),this.setVScrollValue(Math.min(this.getVScrollValue(),g))}this.computeCellsBounds(),setTimeout(this.resizeScrollbars.bind(this))}},pageUp:function(){var e=this.renderer.getPageUpRow();return this.setVScrollValue(e),e},pageDown:function(){var e=this.renderer.getPageDownRow();return this.setVScrollValue(e),e},pageLeft:function(){throw"page left not yet implemented"},pageRight:function(){throw"page right not yet implemented"}}},function(e,t,n){"use strict";var i,r="GroupedHeader",o={paint:function(e,t){var n=this.super.paint,r=t.gridCell.x,o=t.value.split(this.delimiter),s=o.length,a=t.bounds,l=a.y+a.height,u=Object.assign({},a),c=this.visibleColumns.find(function(e){return e.columnIndex===r-1});t.prefillColor=null,a.height/=s;for(var d,f=0,g=a.y,p=this.tree;f<s;f++,g+=a.height,d=p.children){var v=o[f],m=!1;0===f?0===r||1===s||this.groupCount!==s||this.tree.value!==v?(r>0&&this.tree&&this.autosizeGroups&&h(t.grid.behavior,this.tree),p=this.tree={value:v,children:[],left:u.x,width:u.width},c&&!this.columnHeaderLines&&1===s&&(c.top=l)):m=!0:f<s-1&&(p=d[d.length-1])&&p.value===v?m=!0:(p={value:v,children:[],left:u.x,width:u.width},d.push(p)),m&&(p.width+=t.gridLinesVWidth+u.width,c&&(c.top=this.columnHeaderLines||f<s-2?g+a.height:l)),f<s-1&&(t.prefillColor=null)}for(f=0,p=this.tree;f<s;f++,a.y+=a.height,p=p.children[p.children.length-1]){a.x=p.left,a.width=p.width;var y={isColumnHovered:t.isColumnHovered,isSelected:t.isSelected},b=this.groupConfig,w=b&&b.length,C=f<s-1;if(C){t.isColumnHovered=t.isSelected=!1,w&&(b=b[f%w],Object.keys(b).forEach(S,this));var x=t.paintBackground||this.paintBackground;if(x){if("function"!=typeof x&&(x=i[x]),"function"!=typeof x)throw"Expected background paint function or name of registered background paint function.";x.overlay||(t.prefillColor=t.backgroundColor,x.call(this,e,t))}}t.value=p.value,n.call(this,e,t),p.minWidth=t.minWidth,p.columnIndex=r,C&&(x&&x.overlay&&x.call(this,e,t),Object.assign(t,y))}function S(n){y[n]=t[n];var i=b[n];"paintBackground"!==n&&"function"==typeof i&&(i=i.call(this,e,t)),t[n]=i}this.groupCount=s,Object.assign(a,u)},delimiter:"|",paintBackground:f,flatHeight:"250%",nestedHeight:"160%",columnHeaderLines:!0,autosizeGroups:!0,groupConfig:[{halign:"center",thickness:1,gradientStops:function(e,t){this.backgroundColor||t.backgroundColor;return[[0,"white"],[1,this.backgroundColor||t.backgroundColor]]}}]};function s(e){var t=Object.getPrototypeOf(this).setHeaders,n=this.grid.cellRenderers.get(r),i=n.delimiter,o=this.columns.reduce(function(e,t){return Math.max(t.header.split(i).length,e)},0),s=function(e,t,n){var i=t.columnHeaderFont.match(a),r=i&&i[1]||.8*t.defaultRowHeight;return 1===n?u(e.flatHeight,r):u(e.nestedHeight,r)*n}(n,this.grid.properties,o),l=this.grid.behavior.subgrids.lookup.header;t.call(this,e),this.grid.setRowHeight(0,s,l)}var a=/\b(\d+(\.\d+)?)px\b/;var l=/^(\d+(\.\d+)?)%$/;function u(e,t){var n=e.match(l);return n?n[1]/100*t:e}function c(){var e=Object.getPrototypeOf(this).isColumnReorderable.call(this),t=this.grid.cellRenderers.get(r).delimiter;return e&&!this.columns.find(function(e){return e.getCellProperty(0,"renderer")===r&&-1!==e.header.indexOf(t)})}function h(e,t){t.children.length&&(t.minWidth=Math.max(t.minWidth,function e(t,n){return n.children.length?n.children.reduce(function(n,i){return n+=i.minWidth=Math.max(i.minWidth,e(t,i))},0):n.minWidth=Math.max(n.minWidth,t.getActiveColumn(n.columnIndex).properties.preferredWidth)}(e,t)),function e(t,n){var i=n.children.reduce(function(e,t){return e+t.minWidth},0),r=(n.minWidth-i)/n.children.length;n.children.forEach(function(n){if(n.minWidth+=r,n.children.length)e(t,n);else{var i=t.getActiveColumn(n.columnIndex);i.properties.preferredWidth=n.minWidth}})}(e,t))}var d=/^rgba|^transparent$/;function f(e,t){var n=t.bounds,i=t.thickness||this.groupCount-this.groupIndex;e.cache.fillStyle=t.gridLinesVColor,e.fillRect(n.x,n.y+n.height-i,n.width,i)}f.overlay=!0,e.exports=i={name:"groupedHeader",install:function(e,t){var n=(t=t||{}).CellRenderer||"SimpleCell";if("string"==typeof n&&(n=e.cellRenderers.get(n).constructor),"function"!=typeof n)throw new e.HypergridError("Expected `options.CellRenderer` to be a constructor or a registered cell redenderer.");var i=n.extend(r,o),a=e.cellRenderers.add(i);e.addEventListener("fin-grid-rendered",function(){a.tree&&(h(e.behavior,a.tree),e.checkColumnAutosizing())}),Object.assign(a,t),delete a.CellRenderer,a.visibleColumns=e.renderer.visibleColumns,e.properties.columnHeaderRenderer=r,e.behavior.setHeaders=s,e.behavior.isColumnReorderable=c,e.behavior.dataModel.groupHeaderDelimiter=a.delimiter},decorateBackgroundWithBottomBorder:f,decorateBackgroundWithLinearGradient:function(e,t){var n,i=t.bounds,r=e.createLinearGradient(i.x,i.y,i.x,i.y+i.height);(t.gradientStops||this.gradientStops).forEach(function(e){n=n||d.test(e),r.addColorStop.apply(r,e)}),n&&e.clearRect(i.x,i.y,i.width,i.height),e.cache.fillStyle=r,e.fillRect(i.x,i.y,i.width,i.height)}}},function(e,t,n){n(28),n(16),n(81),n(186),n(82);const i=n(2),r=n(189),o=n(83);function s(e){const t=[];e.isTree&&(t[this.treeColumnIndex]={name:this.treeColumnIndex.toString(),header:" "}),e.columnPaths.forEach(function(n,i){const r=n.join("|"),o=e.configuration.columnAliases,s=o&&o[r]||r,a=i.toString(),l=e.columnTypes[i];e.isTree&&0===i?t[-1]={name:a,header:s,type:l}:t.push({name:a,header:s,type:l,index:i-(e.isTree?1:0)})}),this.grid.properties.showTreeColumn=e.isTree,this.createColumns=a,this._memoized_schema&&o.isEqual(this._memoized_schema.slice(0,this._memoized_schema.length),t.slice(0,t.length))&&o.isEqual(e.rowPivots,this._memoized_pivots)?(this.grid.sbVScroller.index=0,this.grid.behavior.dataModel.data=e.rows):(this.grid.sbVScroller.index=0,this.grid.sbHScroller.index=0,this.grid.setData({data:e.rows,schema:t})),this._memoized_schema=t,this._memoized_pivots=e.rowPivots}function a(){Object.getPrototypeOf(this).createColumns.call(this),this.getActiveColumns().forEach(function(e){l.call(this,e)},this);let e=this.getTreeColumn();e&&l.call(this,e),this.stashedWidths=void 0,this.setHeaders(),this.schema_loaded=!0}function l(e){var t=e.properties;switch(e.type){case"number":case"float":t.halign="right",t.columnHeaderHalign="right",t.format="FinanceFloat";break;case"integer":t.halign="right",t.columnHeaderHalign="right",t.format="FinanceInteger";break;case"date":t.format="FinanceDate";break;case"datetime":t.format="FinanceDatetime";break;default:e.index===this.treeColumnIndex&&(t.format="FinanceTree")}}function u(e){const t=this.dataModel.getConfig(),n=t.sort.findIndex(t=>t[0]===e.trim());if(n>-1){const i=t.sort[n][1];i in this.charMap&&(e="".concat(e," ").concat(this.charMap[i]).concat(t.sort.length>1?r(n+1):""))}return e}const c=e=>{const t=e.detail.primitiveEvent,n=new MouseEvent(t.type,t);e.target.parentElement.parentElement.parentElement.dispatchEvent(n)};t.install=function(e){var t;t=e.behavior.charMap,Object.assign(t,{asc:"\u2191",desc:"\u2193","asc abs":"\u21e7","desc abs":"\u21e9","col asc":"\u2192","col desc":"\u2190","col asc abs":"\u21e8","col desc abs":"\u21e6"}),Object.getPrototypeOf(e.behavior).setPSP=s,Object.getPrototypeOf(e.behavior).formatColumnHeader=u,e.addEventListener("fin-column-sort",function(e){e.preventDefault(),e.handled=!0;const t=this.behavior.dataModel.getConfig(),n=this.behavior.getColumn(e.detail.column);let i,r;t.column_pivots.length>0?(i=!0,r=n.header.split("|")[t.column_pivots.length]):(i=!1,r=n.header);const o=this.behavior.dataModel._viewer,s=t.sort.findIndex(e=>e[0]===r.trim()),a=s>-1,l=e.detail.keys&&(e.detail.keys.indexOf("ALTSHIFT")>-1||e.detail.keys.indexOf("ALT")>-1)&&"string"!==n.type,u=e.detail.keys&&(e.detail.keys.indexOf("ALTSHIFT")>-1||e.detail.keys.indexOf("SHIFT")>-1);let c;if(a){const e=t.sort[s],n=e[1];c=o._increment_sort(n,i,l),e[1]=c}else c=o._increment_sort("none",i,l);u&&a?("none"===c&&t.sort.splice(s,1),o.sort=JSON.stringify(t.sort)):u?(t.sort.push([r,c]),o.sort=JSON.stringify(t.sort)):o.sort=JSON.stringify([[r,c]])}.bind(e)),e.addEventListener("fin-canvas-context-menu",c),Object.getPrototypeOf(e.behavior).cellClicked=function(e){var t,n,i,r,o,s,a,l,u,c,h,d,f,g,p,v,m,y;return regeneratorRuntime.async(function(b){for(;;)switch(b.prev=b.next){case 0:return e.primitiveEvent.preventDefault(),e.handled=!0,t=e.dataCell,n=t.x,i=t.y,r=this.dataModel.getConfig(),o=r.row_pivots,s=r.column_pivots,l=(a=i>=0?i:0)+1,b.next=10,regeneratorRuntime.awrap(this.dataModel._view.to_json({start_row:a,end_row:l}));case 10:return u=b.sent,c=u.map(e=>e.__ROW_PATH__),h=c[0]||[],d=o.map((e,t)=>{const n=h[t];return n?[e,"==",n]:void 0}).filter(e=>e),f=o.length>0?n+1:n,g=Object.keys(u[0])[f],p=[],g&&(m=g.split("|"),v=[m[m.length-1]],p=s.map((e,t)=>{const n=m[t];return n?[e,"==",n]:void 0}).filter(e=>e)),y=r.filter.concat(d).concat(p),this.grid.canvas.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{config:{filters:y},column_names:v,row:u[0]}})),b.abrupt("return",this.dataModel.toggleRow(e.dataCell.y,e.dataCell.x,e));case 21:case"end":return b.stop()}},null,this)},e.canvas.resize=function(t,n){var r,o,s,a,l,u,c;return regeneratorRuntime.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=this.width=Math.floor(this.div.clientWidth),o=this.height=Math.floor(this.div.clientHeight),s=1,(a=window.devicePixelRatio&&this.component.properties.useHiDPI)&&(l=window.devicePixelRatio||1,u=this.gc.webkitBackingStorePixelRatio||this.gc.mozBackingStorePixelRatio||this.gc.msBackingStorePixelRatio||this.gc.oBackingStorePixelRatio||this.gc.backingStorePixelRatio||1,s=l/u),this.bounds=new i.Rectangle(0,0,r,o),this.component.setBounds(this.bounds),this.resizeNotification(),c=!1,n||!(o*s>this.canvas.height||t)){h.next=13;break}return h.next=12,regeneratorRuntime.awrap(new Promise(e=>this.component.grid.behavior.dataModel.fetchData(void 0,e)));case 12:c=h.sent;case 13:c&&!n||(this.bounds=new i.Rectangle(0,0,r,o),this.component.setBounds(this.bounds),this.buffer.width=this.canvas.width=r*s,this.buffer.height=this.canvas.height=o*s,this.canvas.style.width=this.buffer.style.width=r+"px",this.canvas.style.height=this.buffer.style.height=o+"px",this.bc.scale(s,s),a&&!this.component.properties.useBitBlit&&this.gc.scale(s,s),e.canvas.paintNow());case 14:case"end":return h.stop()}},null,this)}}},function(e,t,n){var i=n(13),r=n(24),o=n(1)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},function(e,t,n){var i=n(8),r=n(37),o=n(1)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||null==(n=i(s)[o])?t:r(n)}},function(e,t,n){"use strict";var i=n(181)(!0);e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},function(e,t,n){var i=n(38),r=n(25);e.exports=function(e){return function(t,n){var o,s,a=String(r(t)),l=i(n),u=a.length;return l<0||l>=u?e?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var i=n(183),r=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},function(e,t,n){var i=n(24),r=n(1)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";n(185);var i=n(15),r=n(7),o=n(6),s=n(25),a=n(1),l=n(52),u=a("species"),c=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),h=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=a(e),f=!o(function(){var t={};return t[d]=function(){return 7},7!=""[e](t)}),g=f?!o(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!t}):void 0;if(!f||!g||"replace"===e&&!c||"split"===e&&!h){var p=/./[d],v=n(s,d,""[e],function(e,t,n,i,r){return t.exec===l?f&&!r?{done:!0,value:p.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),m=v[0],y=v[1];i(String.prototype,e,m),r(RegExp.prototype,d,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},function(e,t,n){"use strict";var i=n(52);n(26)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(e,t,n){"use strict";var i=n(26),r=n(37),o=n(42),s=n(6),a=[].sort,l=[1,2,3];i(i.P+i.F*(s(function(){l.sort(void 0)})||!s(function(){l.sort(null)})||!n(187)(a)),"Array",{sort:function(e){return void 0===e?a.call(o(this)):a.call(o(this),r(e))}})},function(e,t,n){"use strict";var i=n(6);e.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){n(9)&&"g"!=/./g.flags&&n(10).f(RegExp.prototype,"flags",{configurable:!0,get:n(53)})},function(e,t){e.exports=function(e,t){var i=e.toString(t);if("NaN"===i)return"\u1d3a\u1d43\u1d3a";if("Infinity"===i)return"\u207a\u1d35\u207f\u1da0";if("-Infinity"===i)return"\u207b\u1d35\u207f\u1da0";return i.split("").map(function(e){var t=n[e];return t||""}).join("")};var n={0:"\u2070",1:"\xb9",2:"\xb2",3:"\xb3",4:"\u2074",5:"\u2075",6:"\u2076",7:"\u2077",8:"\u2078",9:"\u2079","+":"\u207a","-":"\u207b",a:"\u1d43",b:"\u1d47",c:"\u1d9c",d:"\u1d48",e:"\u1d49",f:"\u1da0",g:"\u1d4d",h:"\u02b0",i:"\u2071",j:"\u02b2",k:"\u1d4f",l:"\u02e1",m:"\u1d50",n:"\u207f",o:"\u1d52",p:"\u1d56",r:"\u02b3",s:"\u02e2",t:"\u1d57",u:"\u1d58",v:"\u1d5b",w:"\u02b7",x:"\u02e3",y:"\u02b8",z:"\u1dbb"}},function(e,t,n){n(16),n(28);const i=n(31).prototype.treeColumnIndex;function r(e){if(!this.dataWindow)return[];var t=this.dataWindow;return[this.grid.newRectangle(t.left,t.top,t.width,e?Math.min(e-t.top,t.height):t.height)]}function o(e){let t=this.data[e.origin.y],n=this.data[Math.min(e.corner.y,this.getRowCount()-1)];return!(t&&void 0!==t[e.origin.x]&&n&&void 0!==n[e.corner.x-1])}e.exports=n(51).extend("PerspectiveDataModel",{isTreeCol:function(e){return e===i&&this.isTree()},getValue:function(e,t){var n=this.data[t];return n?n[e]:null},getRowCount:function(){return this._nrows||0},getConfig:function(){return this._config},setRowCount:function(e){this._nrows=e||0},isTree:function(){return this._isTree},setIsTree:function(e){this._isTree=e},isCached:function(e){return!e||!e.find(o,this)},setDirty:function(e){e!==this._nrows&&this.grid.renderer.computeCellsBounds(),this._dirty=!0,this._nrows=e,this.grid.behaviorChanged()},toggleRow:function(e,t,n){var i,r,o;return regeneratorRuntime.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.isTreeCol(t)){s.next=12;break}return i=!1,n.primitiveEvent.detail.primitiveEvent&&(i=!!n.primitiveEvent.detail.primitiveEvent.shiftKey),s.next=5,regeneratorRuntime.awrap(this._view.get_row_expanded(e));case 5:return r=s.sent,i?r?1===this.data[e][t].rowPath.length?this._view.collapse(e):this._view.set_depth(this.data[e][t].rowPath.length-2):this._view.set_depth(this.data[e][t].rowPath.length-1):r?this._view.collapse(e):this._view.expand(e),s.next=9,regeneratorRuntime.awrap(this._view.num_rows());case 9:o=s.sent,this.setDirty(o),this.grid.canvas.paintNow();case 12:case"end":return s.stop()}},null,this)},fetchData:function(e,t){var n,i;return regeneratorRuntime.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=r.call(this.grid.renderer),void 0!==this._view){s.next=4;break}return t(!0),s.abrupt("return");case 4:if(this._dirty||e.find(o,this)){s.next=7;break}return t(!1),s.abrupt("return");case 7:if(!this._outstanding_requested_rects||!e[0].within(this._outstanding_requested_rects[0])){s.next=10;break}return t(!0),s.abrupt("return");case 10:return this._dirty=!1,this._outstanding_requested_rects=e,n=e.map(e=>this.pspFetch({start_row:e.origin.y,end_row:e.corner.y,start_col:e.origin.x,end_col:e.corner.x+1})),s.prev=13,s.next=16,regeneratorRuntime.awrap(Promise.all(n));case 16:i=r.call(this.grid.renderer),t(!!i.find(o,this)),s.next=23;break;case 20:s.prev=20,s.t0=s.catch(13),t(!0);case 23:return s.prev=23,this._outstanding_requested_rects=void 0,s.finish(23);case 26:case"end":return s.stop()}},null,this,[[13,20,23,26]])},getCell:function(e,t){var n,r;return e.isUserDataArea?function(e){if(null===e.value||void 0===e.value)e.value="-";else{const t=this.schema[e.dataCell.x].type;["number","float","integer"].indexOf(t)>-1?0===e.value?e.value="float"===t?"0.00":"0":isNaN(e.value)?e.value="-":e.value>0?(e.color=e.columnColorNumberPositive||"rgb(160,207,255)",e.backgroundColor=e.columnBackgroundColorNumberPositive?e.columnBackgroundColorNumberPositive:e.backgroundColor):(e.color=e.columnColorNumberNegative||"rgb(255,136,136)",e.backgroundColor=e.columnBackgroundColorNumberNegative?e.columnBackgroundColorNumberNegative:e.backgroundColor):"boolean"===t&&(e.value=String(e.value))}}.call(this,e,t):e.dataCell.x===i&&e.value&&(r=(n=this.getRow(e.dataCell.y+1))?e.value.rowPath.length-n[i].rowPath.length:1,e.last=0!==r,e.expanded=r<0,e._type=this.schema[-1].type[e.value.rowPath.length-2]),e.grid.cellRenderers.get(t)},pspFetch:function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}})}})},function(e,t,n){"use strict";function i(e,t){var n=t.bounds.x,i=t.bounds.y,r=t.bounds.width,o=t.bounds.height;if(t.minWidth=1,null===t.value)return;var s=t.value.rollup,a=t.value.isLeaf,l=t.value.rowPath.length-1,u=t.expanded,c=t.last,h=t.backgroundColor;t.isSelected&&(h=t.backgroundSelectionColor),t.isRowHovered&&t.hoverRowHighlight.enabled&&!t.isCellHovered?h=t.hoverRowHighlight.backgroundColor:t.isCellHovered&&t.hoverCellHighlight.enabled&&(h=t.hoverCellHighlight.backgroundColor),e.save(),e.cache.fillStyle=h,e.rect(n,i,r,o),e.fillRect(n,i,r,o);var d=t.isSelected?t.foregroundSelectionColor:t.color;e.cache.strokeStyle=d,e.cache.fillStyle=d;var f=n;e.globalAlpha=.3,e.strokeStyle=d,e.beginPath();for(var g=1;g<=l;g++){f+=16;var p=c&&!u?o/2:o;e.moveTo(f,i),e.lineTo(f,i),e.lineTo(f,i+p),g===l?(e.moveTo(f,i+o/2),e.lineTo(f,i+o/2),e.lineTo(f+16-3,i+o/2)):e.lineTo(f,i+o)}a?e.lineTo(f+16+3,i+o/2):(e.moveTo(f+16+3,i+o/2),e.arc(f+16,i+o/2,3,0,2*Math.PI),t.isCellHovered&&(e.globalAlpha=.45,e.fill(),e.globalAlpha=.3)),u&&!a&&(e.globalAlpha=.8,e.fill(),e.moveTo(f+16,i+o/2+3),e.lineTo(f+16,i+o),e.globalAlpha=.3),e.stroke(),e.closePath(),e.globalAlpha=1,e.fillStyle=t.isSelected?t.foregroundSelectionColor:t.color,e.textAlign="start",e.textBaseline="middle",e.font=t.isSelected?t.foregroundSelectionFont:t.treeHeaderFont;var v=f+16+6+3;let m=t.formatValue(s,t._type);t.minWidth=v+e.getTextWidth(m)+15;var y=e.getTextWidthTruncated(m,r-v+(n-3),!0),b=i+o/2;e.fillText(y.string?y.string:m,v,b),e.restore()}n.r(t),n.d(t,"treeLineRendererPaint",function(){return i})},function(e,t,n){n(81),n(16);const i="|",r=n(31).prototype.treeColumnIndex;function o(e,t,n){const i=Object.keys(e),o=i.length>0?i[0]:void 0;if(0===n.length||0===e[o].length)return[];const s=!!t.length,a=t.length?n.slice(1):n,l=i.map(e=>a.indexOf(e)),u=[];for(let n=0;n<e[o].length;n++){const o={};for(const t in i){const r=i[t];o[l[t]]=e[r][n]}if(s){void 0===e.__ROW_PATH__[n]&&(e.__ROW_PATH__[n]=[]);let i=e.__ROW_PATH__[n][e.__ROW_PATH__[n].length-1];void 0===i&&0===n&&(i="TOTAL"),o[r]={rollup:i,rowPath:["ROOT"].concat(e.__ROW_PATH__[n]),isLeaf:e.__ROW_PATH__[n].length>=t.length}}u.push(o)}return u}e.exports={psp2hypergrid:function(e,t,n,r,s){const a=Object.keys(e).length>0?Object.keys(e)[0]:void 0;if(0===s.length||0===e[a].length){const e=Object.keys(t);return{rows:[],isTree:!1,configuration:{},columnPaths:e.map(e=>[e]),columnTypes:e.map(e=>t[e])}}const l=(r.length?s.slice(1):s).map(e=>e.split(i)),u=!!r.length;return{rows:o(e,r,s),isTree:u,configuration:{},rowPivots:r,columnPaths:(u?[[" "]]:[]).concat(l),columnTypes:(u?[r.map(e=>n[e])]:[]).concat(l.map(e=>t[e[e.length-1]]))}},page2hypergrid:o}},function(e,t){e.exports="\x3c!--\n   \n   Copyright (c) 2017, the Perspective Authors.\n   \n   This file is part of the Perspective library, distributed under the terms of\n   the Apache License 2.0.  The full license can be found in the LICENSE file.\n\n--\x3e\n\n<template id='perspective-hypergrid'>\n    <div id='gridWrapper'>\n        <div id='mainGrid'></div>\n    </div>\n</template>"},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}}])});
//# sourceMappingURL=hypergrid.plugin.js.map